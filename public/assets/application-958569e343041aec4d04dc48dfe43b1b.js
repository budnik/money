!function(t,e){function n(t){var e=t.length,n=le.type(t);return le.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t){var e=Ce[t]={};return le.each(t.match(fe)||[],function(t,n){e[n]=!0}),e}function i(t,n,r,i){if(le.acceptData(t)){var o,a,s=le.expando,u=t.nodeType,c=u?le.cache:t,l=u?t[s]:t[s]&&s;if(l&&c[l]&&(i||c[l].data)||r!==e||"string"!=typeof n)return l||(l=u?t[s]=ee.pop()||le.guid++:s),c[l]||(c[l]=u?{}:{toJSON:le.noop}),("object"==typeof n||"function"==typeof n)&&(i?c[l]=le.extend(c[l],n):c[l].data=le.extend(c[l].data,n)),a=c[l],i||(a.data||(a.data={}),a=a.data),r!==e&&(a[le.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[le.camelCase(n)])):o=a,o}}function o(t,e,n){if(le.acceptData(t)){var r,i,o=t.nodeType,a=o?le.cache:t,u=o?t[le.expando]:le.expando;if(a[u]){if(e&&(r=n?a[u]:a[u].data)){le.isArray(e)?e=e.concat(le.map(e,le.camelCase)):e in r?e=[e]:(e=le.camelCase(e),e=e in r?[e]:e.split(" ")),i=e.length;for(;i--;)delete r[e[i]];if(n?!s(r):!le.isEmptyObject(r))return}(n||(delete a[u].data,s(a[u])))&&(o?le.cleanData([t],!0):le.support.deleteExpando||a!=a.window?delete a[u]:a[u]=null)}}}function a(t,n,r){if(r===e&&1===t.nodeType){var i="data-"+n.replace(ke,"-$1").toLowerCase();if(r=t.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:Te.test(r)?le.parseJSON(r):r}catch(o){}le.data(t,n,r)}else r=e}return r}function s(t){var e;for(e in t)if(("data"!==e||!le.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(){return!0}function c(){return!1}function l(){try{return Y.activeElement}catch(t){}}function h(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function f(t,e,n){if(le.isFunction(e))return le.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return le.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ze.test(e))return le.filter(e,t,n);e=le.filter(e,t)}return le.grep(t,function(t){return le.inArray(t,e)>=0!==n})}function p(t){var e=Ue.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function d(t,e){return le.nodeName(t,"table")&&le.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function g(t){return t.type=(null!==le.find.attr(t,"type"))+"/"+t.type,t}function m(t){var e=on.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var n,r=0;null!=(n=t[r]);r++)le._data(n,"globalEval",!e||le._data(e[r],"globalEval"))}function y(t,e){if(1===e.nodeType&&le.hasData(t)){var n,r,i,o=le._data(t),a=le._data(e,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)le.event.add(e,n,s[n][r])}a.data&&(a.data=le.extend({},a.data))}}function b(t,e){var n,r,i;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!le.support.noCloneEvent&&e[le.expando]){i=le._data(e);for(r in i.events)le.removeEvent(e,r,i.handle);e.removeAttribute(le.expando)}"script"===n&&e.text!==t.text?(g(e).text=t.text,m(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),le.support.html5Clone&&t.innerHTML&&!le.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&en.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function M(t,n){var r,i,o=0,a=typeof t.getElementsByTagName!==J?t.getElementsByTagName(n||"*"):typeof t.querySelectorAll!==J?t.querySelectorAll(n||"*"):e;if(!a)for(a=[],r=t.childNodes||t;null!=(i=r[o]);o++)!n||le.nodeName(i,n)?a.push(i):le.merge(a,M(i,n));return n===e||n&&le.nodeName(t,n)?le.merge([t],a):a}function w(t){en.test(t.type)&&(t.defaultChecked=t.checked)}function x(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),r=e,i=Cn.length;i--;)if(e=Cn[i]+n,e in t)return e;return r}function _(t,e){return t=e||t,"none"===le.css(t,"display")||!le.contains(t.ownerDocument,t)}function S(t,e){for(var n,r,i,o=[],a=0,s=t.length;s>a;a++)r=t[a],r.style&&(o[a]=le._data(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&_(r)&&(o[a]=le._data(r,"olddisplay",E(r.nodeName)))):o[a]||(i=_(r),(n&&"none"!==n||!i)&&le._data(r,"olddisplay",i?n:le.css(r,"display"))));for(a=0;s>a;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function C(t,e,n){var r=yn.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function T(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=le.css(t,n+Sn[o],!0,i)),r?("content"===n&&(a-=le.css(t,"padding"+Sn[o],!0,i)),"margin"!==n&&(a-=le.css(t,"border"+Sn[o]+"Width",!0,i))):(a+=le.css(t,"padding"+Sn[o],!0,i),"padding"!==n&&(a+=le.css(t,"border"+Sn[o]+"Width",!0,i)));return a}function k(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=hn(t),a=le.support.boxSizing&&"border-box"===le.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=fn(t,e,o),(0>i||null==i)&&(i=t.style[e]),bn.test(i))return i;r=a&&(le.support.boxSizingReliable||i===t.style[e]),i=parseFloat(i)||0}return i+T(t,e,n||(a?"border":"content"),r,o)+"px"}function E(t){var e=Y,n=wn[t];return n||(n=A(t,e),"none"!==n&&n||(ln=(ln||le("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ln[0].contentWindow||ln[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=A(t,e),ln.detach()),wn[t]=n),n}function A(t,e){var n=le(e.createElement(t)).appendTo(e.body),r=le.css(n[0],"display");return n.remove(),r}function N(t,e,n,r){var i;if(le.isArray(e))le.each(e,function(e,i){n||kn.test(t)?r(t,i):N(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==le.type(e))r(t,e);else for(i in e)N(t+"["+i+"]",e[i],n,r)}function j(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(fe)||[];if(le.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function q(t,e,n,r){function i(s){var u;return o[s]=!0,le.each(t[s]||[],function(t,s){var c=s(e,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=t===Wn;return i(e.dataTypes[0])||!o["*"]&&i("*")}function $(t,n){var r,i,o=le.ajaxSettings.flatOptions||{};for(i in n)n[i]!==e&&((o[i]?t:r||(r={}))[i]=n[i]);return r&&le.extend(!0,t,r),t}function D(t,n,r){for(var i,o,a,s,u=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),o===e&&(o=t.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){c.unshift(s);break}if(c[0]in r)a=c[0];else{for(s in r){if(!c[0]||t.converters[s+" "+c[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==c[0]&&c.unshift(a),r[a]):void 0}function P(t,e,n,r){var i,o,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=c[u+" "+o]||c["* "+o],!a)for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[i]:c[i]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function H(){try{return new t.XMLHttpRequest}catch(e){}}function L(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function R(){return setTimeout(function(){Zn=e}),Zn=le.now()}function O(t,e,n){for(var r,i=(or[e]||[]).concat(or["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,e,t))return r}function F(t,e,n){var r,i,o=0,a=ir.length,s=le.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=Zn||R(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,a=0,u=c.tweens.length;u>a;a++)c.tweens[a].run(o);return s.notifyWith(t,[c,o,n]),1>o&&u?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:le.extend({},e),opts:le.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Zn||R(),duration:n.duration,tweens:[],createTween:function(e,n){var r=le.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),l=c.props;for(I(l,c.opts.specialEasing);a>o;o++)if(r=ir[o].call(c,t,l,c.opts))return r;return le.map(l,O,c),le.isFunction(c.opts.start)&&c.opts.start.call(t,c),le.fx.timer(le.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function I(t,e){var n,r,i,o,a;for(n in t)if(r=le.camelCase(n),i=e[r],o=t[n],le.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),a=le.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function z(t,e,n){var r,i,o,a,s,u,c=this,l={},h=t.style,f=t.nodeType&&_(t),p=le._data(t,"fxshow");n.queue||(s=le._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,le.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===le.css(t,"display")&&"none"===le.css(t,"float")&&(le.support.inlineBlockNeedsLayout&&"inline"!==E(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",le.support.shrinkWrapBlocks||c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],er.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(f?"hide":"show"))continue;l[r]=p&&p[r]||le.style(t,r)}if(!le.isEmptyObject(l)){p?"hidden"in p&&(f=p.hidden):p=le._data(t,"fxshow",{}),o&&(p.hidden=!f),f?le(t).show():c.done(function(){le(t).hide()}),c.done(function(){var e;le._removeData(t,"fxshow");for(e in l)le.style(t,e,l[e])});for(r in l)a=O(f?p[r]:0,r,c),r in p||(p[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function B(t,e,n,r,i){return new B.prototype.init(t,e,n,r,i)}function W(t,e){var n,r={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)n=Sn[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function V(t){return le.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var U,Q,J=typeof e,X=t.location,Y=t.document,G=Y.documentElement,K=t.jQuery,Z=t.$,te={},ee=[],ne="1.10.1",re=ee.concat,ie=ee.push,oe=ee.slice,ae=ee.indexOf,se=te.toString,ue=te.hasOwnProperty,ce=ne.trim,le=function(t,e){return new le.fn.init(t,e,Q)},he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,de=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,me=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Me=/^-ms-/,we=/-([\da-z])/gi,xe=function(t,e){return e.toUpperCase()},_e=function(t){(Y.addEventListener||"load"===t.type||"complete"===Y.readyState)&&(Se(),le.ready())},Se=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",_e,!1),t.removeEventListener("load",_e,!1)):(Y.detachEvent("onreadystatechange",_e),t.detachEvent("onload",_e))};le.fn=le.prototype={jquery:ne,constructor:le,init:function(t,n,r){var i,o;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:de.exec(t),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(t):this.constructor(n).find(t);if(i[1]){if(n=n instanceof le?n[0]:n,le.merge(this,le.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:Y,!0)),ge.test(i[1])&&le.isPlainObject(n))for(i in n)le.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=Y.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(t);this.length=1,this[0]=o}return this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):le.isFunction(t)?r.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),le.makeArray(t,this))},selector:"",length:0,toArray:function(){return oe.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=le.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return le.each(this,t,e)},ready:function(t){return le.ready.promise().done(t),this},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(le.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:ie,sort:[].sort,splice:[].splice},le.fn.init.prototype=le.fn,le.extend=le.fn.extend=function(){var t,n,r,i,o,a,s=arguments[0]||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},u=2),"object"==typeof s||le.isFunction(s)||(s={}),c===u&&(s=this,--u);c>u;u++)if(null!=(o=arguments[u]))for(i in o)t=s[i],r=o[i],s!==r&&(l&&r&&(le.isPlainObject(r)||(n=le.isArray(r)))?(n?(n=!1,a=t&&le.isArray(t)?t:[]):a=t&&le.isPlainObject(t)?t:{},s[i]=le.extend(l,a,r)):r!==e&&(s[i]=r));return s},le.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===le&&(t.$=Z),e&&t.jQuery===le&&(t.jQuery=K),le},isReady:!1,readyWait:1,holdReady:function(t){t?le.readyWait++:le.ready(!0)},ready:function(t){if(t===!0?!--le.readyWait:!le.isReady){if(!Y.body)return setTimeout(le.ready);le.isReady=!0,t!==!0&&--le.readyWait>0||(U.resolveWith(Y,[le]),le.fn.trigger&&le(Y).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===le.type(t)},isArray:Array.isArray||function(t){return"array"===le.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?te[se.call(t)]||"object":typeof t},isPlainObject:function(t){var n;if(!t||"object"!==le.type(t)||t.nodeType||le.isWindow(t))return!1;try{if(t.constructor&&!ue.call(t,"constructor")&&!ue.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(le.support.ownLast)for(n in t)return ue.call(t,n);for(n in t);return n===e||ue.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Y;var r=ge.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=le.buildFragment([t],e,i),i&&le(i).remove(),le.merge([],r.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=le.trim(e),e&&me.test(e.replace(ye,"@").replace(be,"]").replace(ve,"")))?new Function("return "+e)():(le.error("Invalid JSON: "+e),void 0)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=e}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||le.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(e){e&&le.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(Me,"ms-").replace(we,xe)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,a=t.length,s=n(t);if(r){if(s)for(;a>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(s)for(;a>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:ce&&!ce.call("﻿ ")?function(t){return null==t?"":ce.call(t)}:function(t){return null==t?"":(t+"").replace(pe,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?le.merge(r,"string"==typeof t?[t]:t):ie.call(r,t)),r},inArray:function(t,e,n){var r;if(e){if(ae)return ae.call(e,t,n);for(r=e.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var r=n.length,i=t.length,o=0;if("number"==typeof r)for(;r>o;o++)t[i++]=n[o];else for(;n[o]!==e;)t[i++]=n[o++];return t.length=i,t},grep:function(t,e,n){var r,i=[],o=0,a=t.length;for(n=!!n;a>o;o++)r=!!e(t[o],o),n!==r&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,a=t.length,s=n(t),u=[];if(s)for(;a>o;o++)i=e(t[o],o,r),null!=i&&(u[u.length]=i);else for(o in t)i=e(t[o],o,r),null!=i&&(u[u.length]=i);return re.apply([],u)},guid:1,proxy:function(t,n){var r,i,o;return"string"==typeof n&&(o=t[n],n=t,t=o),le.isFunction(t)?(r=oe.call(arguments,2),i=function(){return t.apply(n||this,r.concat(oe.call(arguments)))},i.guid=t.guid=t.guid||le.guid++,i):e},access:function(t,n,r,i,o,a,s){var u=0,c=t.length,l=null==r;if("object"===le.type(r)){o=!0;for(u in r)le.access(t,n,u,r[u],!0,a,s)}else if(i!==e&&(o=!0,le.isFunction(i)||(s=!0),l&&(s?(n.call(t,i),n=null):(l=n,n=function(t,e,n){return l.call(le(t),n)})),n))for(;c>u;u++)n(t[u],r,s?i:i.call(t[u],u,n(t[u],r)));return o?t:l?n.call(t):c?n(t[0],r):a},now:function(){return(new Date).getTime()},swap:function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i}}),le.ready.promise=function(e){if(!U)if(U=le.Deferred(),"complete"===Y.readyState)setTimeout(le.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",_e,!1),t.addEventListener("load",_e,!1);else{Y.attachEvent("onreadystatechange",_e),t.attachEvent("onload",_e);var n=!1;try{n=null==t.frameElement&&Y.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!le.isReady){try{n.doScroll("left")}catch(t){return setTimeout(i,50)}Se(),le.ready()}}()}return U.promise(e)},le.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),Q=le(Y),function(t,e){function n(t,e,n,r){var i,o,a,s,u,c,l,h,f,p;if((e?e.ownerDocument||e:W)!==H&&P(e),e=e||H,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(R&&!r){if(i=_e.exec(t))if(a=i[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&z(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return ie.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&k.getElementsByClassName&&e.getElementsByClassName)return ie.apply(n,e.getElementsByClassName(a)),n}if(k.qsa&&(!O||!O.test(t))){if(h=l=B,f=e,p=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=g(t),(l=e.getAttribute("id"))?h=l.replace(Te,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",u=c.length;u--;)c[u]=h+m(c[u]);f=ve.test(t)&&e.parentNode||e,p=c.join(",")}if(p)try{return ie.apply(n,f.querySelectorAll(p)),n}catch(d){}finally{l||e.removeAttribute("id")}}}return S(t.replace(de,"$1"),e,n,r)}function r(t){return xe.test(t+"")}function i(){function t(n,r){return e.push(n+=" ")>A.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function o(t){return t[B]=!0,t}function a(t){var e=H.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e,n){t=t.split("|");for(var r,i=t.length,o=n?null:e;i--;)(r=A.attrHandle[t[i]])&&r!==e||(A.attrHandle[t[i]]=o)}function u(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:t[e]===!0?e.toLowerCase():null}function c(t,e){return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}function l(t){return"input"===t.nodeName.toLowerCase()?t.defaultValue:void 0}function h(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Z)-(~t.sourceIndex||Z);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function f(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function p(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function d(t){return o(function(e){return e=+e,o(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function g(t,e){var r,i,o,a,s,u,c,l=J[t+" "];if(l)return e?0:l.slice(0);for(s=t,u=[],c=A.preFilter;s;){(!r||(i=ge.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=me.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(de," ")}),s=s.slice(r.length));for(a in A.filter)!(i=we[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return e?s.length:s?n.error(t):J(t,u).slice(0)}function m(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function v(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=U++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,u,c,l=V+" "+o;if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i)if(c=e[B]||(e[B]={}),(u=c[r])&&u[0]===l){if((s=u[1])===!0||s===E)return s===!0}else if(u=c[r]=[l],u[1]=t(e,n,a)||E,u[1]===!0)return!0}}function y(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function b(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,c=null!=e;u>s;s++)(o=t[s])&&(!n||n(o,r,i))&&(a.push(o),c&&e.push(s));return a}function M(t,e,n,r,i,a){return r&&!r[B]&&(r=M(r)),i&&!i[B]&&(i=M(i,a)),o(function(o,a,s,u){var c,l,h,f=[],p=[],d=a.length,g=o||_(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?g:b(g,f,t,s,u),v=n?i||(o?t:d||r)?[]:a:m;if(n&&n(m,v,s,u),r)for(c=b(v,p),r(c,[],s,u),l=c.length;l--;)(h=c[l])&&(v[p[l]]=!(m[p[l]]=h));if(o){if(i||t){if(i){for(c=[],l=v.length;l--;)(h=v[l])&&c.push(m[l]=h);i(null,v=[],c,u)}for(l=v.length;l--;)(h=v[l])&&(c=i?ae.call(o,h):f[l])>-1&&(o[c]=!(a[c]=h))}}else v=b(v===a?v.splice(d,v.length):v),i?i(null,a,v,u):ie.apply(a,v)})}function w(t){for(var e,n,r,i=t.length,o=A.relative[t[0].type],a=o||A.relative[" "],s=o?1:0,u=v(function(t){return t===e},a,!0),c=v(function(t){return ae.call(e,t)>-1},a,!0),l=[function(t,n,r){return!o&&(r||n!==$)||((e=n).nodeType?u(t,n,r):c(t,n,r))}];i>s;s++)if(n=A.relative[t[s].type])l=[v(y(l),n)];else{if(n=A.filter[t[s].type].apply(null,t[s].matches),n[B]){for(r=++s;i>r&&!A.relative[t[r].type];r++);return M(s>1&&y(l),s>1&&m(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(de,"$1"),n,r>s&&w(t.slice(s,r)),i>r&&w(t=t.slice(r)),i>r&&m(t))}l.push(n)}return y(l)}function x(t,e){var r=0,i=e.length>0,a=t.length>0,s=function(o,s,u,c,l){var h,f,p,d=[],g=0,m="0",v=o&&[],y=null!=l,M=$,w=o||a&&A.find.TAG("*",l&&s.parentNode||s),x=V+=null==M?1:Math.random()||.1;for(y&&($=s!==H&&s,E=r);null!=(h=w[m]);m++){if(a&&h){for(f=0;p=t[f++];)if(p(h,s,u)){c.push(h);break}y&&(V=x,E=++r)}i&&((h=!p&&h)&&g--,o&&v.push(h))}if(g+=m,i&&m!==g){for(f=0;p=e[f++];)p(v,d,s,u);if(o){if(g>0)for(;m--;)v[m]||d[m]||(d[m]=ne.call(c));d=b(d)}ie.apply(c,d),y&&!o&&d.length>0&&g+e.length>1&&n.uniqueSort(c)}return y&&(V=x,$=M),v};return i?o(s):s}function _(t,e,r){for(var i=0,o=e.length;o>i;i++)n(t,e[i],r);return r}function S(t,e,n,r){var i,o,a,s,u,c=g(t);if(!r&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&k.getById&&9===e.nodeType&&R&&A.relative[o[1].type]){if(e=(A.find.ID(a.matches[0].replace(ke,Ee),e)||[])[0],!e)return n;t=t.slice(o.shift().value.length)}for(i=we.needsContext.test(t)?0:o.length;i--&&(a=o[i],!A.relative[s=a.type]);)if((u=A.find[s])&&(r=u(a.matches[0].replace(ke,Ee),ve.test(o[0].type)&&e.parentNode||e))){if(o.splice(i,1),t=r.length&&m(o),!t)return ie.apply(n,r),n;break}}return q(t,c)(r,e,!R,n,ve.test(t)),n}function C(){}var T,k,E,A,N,j,q,$,D,P,H,L,R,O,F,I,z,B="sizzle"+-new Date,W=t.document,V=0,U=0,Q=i(),J=i(),X=i(),Y=!1,G=function(){return 0},K=typeof e,Z=1<<31,te={}.hasOwnProperty,ee=[],ne=ee.pop,re=ee.push,ie=ee.push,oe=ee.slice,ae=ee.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},se="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ue="[\\x20\\t\\r\\n\\f]",ce="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",he=ce.replace("w","w#"),fe="\\["+ue+"*("+ce+")"+ue+"*(?:([*^$|!~]?=)"+ue+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+he+")|)|)"+ue+"*\\]",pe=":("+ce+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+fe.replace(3,8)+")*)|.*)\\)|)",de=new RegExp("^"+ue+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ue+"+$","g"),ge=new RegExp("^"+ue+"*,"+ue+"*"),me=new RegExp("^"+ue+"*([>+~]|"+ue+")"+ue+"*"),ve=new RegExp(ue+"*[+~]"),ye=new RegExp("="+ue+"*([^\\]'\"]*)"+ue+"*\\]","g"),be=new RegExp(pe),Me=new RegExp("^"+he+"$"),we={ID:new RegExp("^#("+ce+")"),CLASS:new RegExp("^\\.("+ce+")"),TAG:new RegExp("^("+ce.replace("w","w*")+")"),ATTR:new RegExp("^"+fe),PSEUDO:new RegExp("^"+pe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ue+"*(even|odd|(([+-]|)(\\d*)n|)"+ue+"*(?:([+-]|)"+ue+"*(\\d+)|))"+ue+"*\\)|)","i"),bool:new RegExp("^(?:"+se+")$","i"),needsContext:new RegExp("^"+ue+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ue+"*((?:-\\d)?\\d*)"+ue+"*\\)|)(?=[^-]|$)","i")},xe=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Se=/^(?:input|select|textarea|button)$/i,Ce=/^h\d$/i,Te=/'|\\/g,ke=new RegExp("\\\\([\\da-f]{1,6}"+ue+"?|("+ue+")|.)","ig"),Ee=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{ie.apply(ee=oe.call(W.childNodes),W.childNodes),ee[W.childNodes.length].nodeType}catch(Ae){ie={apply:ee.length?function(t,e){re.apply(t,oe.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}j=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},k=n.support={},P=n.setDocument=function(t){var e=t?t.ownerDocument||t:W,n=e.parentWindow;return e!==H&&9===e.nodeType&&e.documentElement?(H=e,L=e.documentElement,R=!j(e),n&&n.frameElement&&n.attachEvent("onbeforeunload",function(){P()}),k.attributes=a(function(t){return t.innerHTML="<a href='#'></a>",s("type|href|height|width",c,"#"===t.firstChild.getAttribute("href")),s(se,u,null==t.getAttribute("disabled")),t.className="i",!t.getAttribute("className")}),k.input=a(function(t){return t.innerHTML="<input>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}),s("value",l,k.attributes&&k.input),k.getElementsByTagName=a(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),k.getElementsByClassName=a(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),k.getById=a(function(t){return L.appendChild(t).id=B,!e.getElementsByName||!e.getElementsByName(B).length}),k.getById?(A.find.ID=function(t,e){if(typeof e.getElementById!==K&&R){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},A.filter.ID=function(t){var e=t.replace(ke,Ee);return function(t){return t.getAttribute("id")===e}}):(delete A.find.ID,A.filter.ID=function(t){var e=t.replace(ke,Ee);return function(t){var n=typeof t.getAttributeNode!==K&&t.getAttributeNode("id");return n&&n.value===e}}),A.find.TAG=k.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==K?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},A.find.CLASS=k.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==K&&R?e.getElementsByClassName(t):void 0},F=[],O=[],(k.qsa=r(e.querySelectorAll))&&(a(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||O.push("\\["+ue+"*(?:value|"+se+")"),t.querySelectorAll(":checked").length||O.push(":checked")}),a(function(t){var n=e.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&O.push("[*^$]="+ue+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(k.matchesSelector=r(I=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&a(function(t){k.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),F.push("!=",pe)}),O=O.length&&new RegExp(O.join("|")),F=F.length&&new RegExp(F.join("|")),z=r(L.contains)||L.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},k.sortDetached=a(function(t){return 1&t.compareDocumentPosition(e.createElement("div"))}),G=L.compareDocumentPosition?function(t,n){if(t===n)return Y=!0,0;var r=n.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(n);return r?1&r||!k.sortDetached&&n.compareDocumentPosition(t)===r?t===e||z(W,t)?-1:n===e||z(W,n)?1:D?ae.call(D,t)-ae.call(D,n):0:4&r?-1:1:t.compareDocumentPosition?-1:1}:function(t,n){var r,i=0,o=t.parentNode,a=n.parentNode,s=[t],u=[n];if(t===n)return Y=!0,0;if(!o||!a)return t===e?-1:n===e?1:o?-1:a?1:D?ae.call(D,t)-ae.call(D,n):0;if(o===a)return h(t,n);for(r=t;r=r.parentNode;)s.unshift(r);for(r=n;r=r.parentNode;)u.unshift(r);for(;s[i]===u[i];)i++;return i?h(s[i],u[i]):s[i]===W?-1:u[i]===W?1:0},e):H},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==H&&P(t),e=e.replace(ye,"='$1']"),!(!k.matchesSelector||!R||F&&F.test(e)||O&&O.test(e)))try{var r=I.call(t,e);if(r||k.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return n(e,H,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==H&&P(t),z(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==H&&P(t);var r=A.attrHandle[n.toLowerCase()],i=r&&te.call(A.attrHandle,n.toLowerCase())?r(t,n,!R):e;return i===e?k.attributes||!R?t.getAttribute(n):(i=t.getAttributeNode(n))&&i.specified?i.value:null:i},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],r=0,i=0;if(Y=!k.detectDuplicates,D=!k.sortStable&&t.slice(0),t.sort(G),Y){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return t},N=n.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=N(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r];r++)n+=N(e);return n},A=n.selectors={cacheLength:50,createPseudo:o,match:we,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ke,Ee),t[3]=(t[4]||t[5]||"").replace(ke,Ee),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,r=!t[5]&&t[2];return we.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:r&&be.test(r)&&(n=g(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(t[0]=t[0].slice(0,n),t[2]=r.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ke,Ee).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Q[t+" "];return e||(e=new RegExp("(^|"+ue+")"+t+"("+ue+"|$)"))&&Q(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==K&&t.getAttribute("class")||"")})},ATTR:function(t,e,r){return function(i){var o=n.attr(i,t);return null==o?"!="===e:e?(o+="","="===e?o===r:"!="===e?o!==r:"^="===e?r&&0===o.indexOf(r):"*="===e?r&&o.indexOf(r)>-1:"$="===e?r&&o.slice(-r.length)===r:"~="===e?(" "+o+" ").indexOf(r)>-1:"|="===e?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,p,d,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s;
if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?m.firstChild:m.lastChild],a&&y){for(l=m[B]||(m[B]={}),c=l[t]||[],p=c[0]===V&&c[1],f=c[0]===V&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(f=p=0)||d.pop();)if(1===h.nodeType&&++f&&h===e){l[t]=[V,p,f];break}}else if(y&&(c=(e[B]||(e[B]={}))[t])&&c[0]===V)f=c[1];else for(;(h=++p&&h&&h[g]||(f=p=0)||d.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(y&&((h[B]||(h[B]={}))[t]=[V,f]),h!==e)););return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(t,e){var r,i=A.pseudos[t]||A.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return i[B]?i(e):i.length>1?(r=[t,t,"",e],A.setFilters.hasOwnProperty(t.toLowerCase())?o(function(t,n){for(var r,o=i(t,e),a=o.length;a--;)r=ae.call(t,o[a]),t[r]=!(n[r]=o[a])}):function(t){return i(t,0,r)}):i}},pseudos:{not:o(function(t){var e=[],n=[],r=q(t.replace(de,"$1"));return r[B]?o(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:o(function(t){return function(e){return n(t,e).length>0}}),contains:o(function(t){return function(e){return(e.textContent||e.innerText||N(e)).indexOf(t)>-1}}),lang:o(function(t){return Me.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(ke,Ee).toLowerCase(),function(e){var n;do if(n=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!A.pseudos.empty(t)},header:function(t){return Ce.test(t.nodeName)},input:function(t){return Se.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:d(function(){return[0]}),last:d(function(t,e){return[e-1]}),eq:d(function(t,e,n){return[0>n?n+e:n]}),even:d(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:d(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:d(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:d(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}};for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[T]=f(T);for(T in{submit:!0,reset:!0})A.pseudos[T]=p(T);q=n.compile=function(t,e){var n,r=[],i=[],o=X[t+" "];if(!o){for(e||(e=g(t)),n=e.length;n--;)o=w(e[n]),o[B]?r.push(o):i.push(o);o=X(t,x(i,r))}return o},A.pseudos.nth=A.pseudos.eq,C.prototype=A.filters=A.pseudos,A.setFilters=new C,k.sortStable=B.split("").sort(G).join("")===B,P(),[0,0].sort(G),k.detectDuplicates=Y,le.find=n,le.expr=n.selectors,le.expr[":"]=le.expr.pseudos,le.unique=n.uniqueSort,le.text=n.getText,le.isXMLDoc=n.isXML,le.contains=n.contains}(t);var Ce={};le.Callbacks=function(t){t="string"==typeof t?Ce[t]||r(t):le.extend({},t);var n,i,o,a,s,u,c=[],l=!t.once&&[],h=function(e){for(i=t.memory&&e,o=!0,s=u||0,u=0,a=c.length,n=!0;c&&a>s;s++)if(c[s].apply(e[0],e[1])===!1&&t.stopOnFalse){i=!1;break}n=!1,c&&(l?l.length&&h(l.shift()):i?c=[]:f.disable())},f={add:function(){if(c){var e=c.length;!function r(e){le.each(e,function(e,n){var i=le.type(n);"function"===i?t.unique&&f.has(n)||c.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),n?a=c.length:i&&(u=e,h(i))}return this},remove:function(){return c&&le.each(arguments,function(t,e){for(var r;(r=le.inArray(e,c,r))>-1;)c.splice(r,1),n&&(a>=r&&a--,s>=r&&s--)}),this},has:function(t){return t?le.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=l=i=e,this},disabled:function(){return!c},lock:function(){return l=e,i||f.disable(),this},locked:function(){return!l},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!c||o&&!l||(n?l.push(e):h(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},le.extend({Deferred:function(t){var e=[["resolve","done",le.Callbacks("once memory"),"resolved"],["reject","fail",le.Callbacks("once memory"),"rejected"],["notify","progress",le.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return le.Deferred(function(n){le.each(e,function(e,o){var a=o[0],s=le.isFunction(t[e])&&t[e];i[o[1]](function(){var t=s&&s.apply(this,arguments);t&&le.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?le.extend(t,r):r}},i={};return r.pipe=r.then,le.each(e,function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=oe.call(arguments),a=o.length,s=1!==a||t&&le.isFunction(t.promise)?a:0,u=1===s?t:le.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?oe.call(arguments):i,r===e?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&le.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(u.reject).progress(c(i,n,e)):--s;return s||u.resolveWith(r,o),u.promise()}}),le.support=function(e){var n,r,i,o,a,s,u,c,l,h=Y.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*")||[],r=h.getElementsByTagName("a")[0],!r||!r.style||!n.length)return e;o=Y.createElement("select"),s=o.appendChild(Y.createElement("option")),i=h.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==h.className,e.leadingWhitespace=3===h.firstChild.nodeType,e.tbody=!h.getElementsByTagName("tbody").length,e.htmlSerialize=!!h.getElementsByTagName("link").length,e.style=/top/.test(r.getAttribute("style")),e.hrefNormalized="/a"===r.getAttribute("href"),e.opacity=/^0.5/.test(r.style.opacity),e.cssFloat=!!r.style.cssFloat,e.checkOn=!!i.value,e.optSelected=s.selected,e.enctype=!!Y.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,i.checked=!0,e.noCloneChecked=i.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!s.disabled;try{delete h.test}catch(f){e.deleteExpando=!1}i=Y.createElement("input"),i.setAttribute("value",""),e.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),e.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),a=Y.createDocumentFragment(),a.appendChild(i),e.appendChecked=i.checked,e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){e.noCloneEvent=!1}),h.cloneNode(!0).click());for(l in{submit:!0,change:!0,focusin:!0})h.setAttribute(u="on"+l,"t"),e[l+"Bubbles"]=u in t||h.attributes[u].expando===!1;h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===h.style.backgroundClip;for(l in le(e))break;return e.ownLast="0"!==l,le(function(){var n,r,i,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=Y.getElementsByTagName("body")[0];a&&(n=Y.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=h.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",e.reliableHiddenOffsets=c&&0===i[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",le.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===h.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(h,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(h,null)||{width:"4px"}).width,r=h.appendChild(Y.createElement("div")),r.style.cssText=h.style.cssText=o,r.style.marginRight=r.style.width="0",h.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)),typeof h.style.zoom!==J&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==h.offsetWidth,e.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=h=i=r=null)}),n=o=a=s=r=i=null,e}({});var Te=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ke=/([A-Z])/g;le.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?le.cache[t[le.expando]]:t[le.expando],!!t&&!s(t)},data:function(t,e,n){return i(t,e,n)},removeData:function(t,e){return o(t,e)},_data:function(t,e,n){return i(t,e,n,!0)},_removeData:function(t,e){return o(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&le.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),le.fn.extend({data:function(t,n){var r,i,o=null,s=0,u=this[0];if(t===e){if(this.length&&(o=le.data(u),1===u.nodeType&&!le._data(u,"parsedAttrs"))){for(r=u.attributes;s<r.length;s++)i=r[s].name,0===i.indexOf("data-")&&(i=le.camelCase(i.slice(5)),a(u,i,o[i]));le._data(u,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){le.data(this,t)}):arguments.length>1?this.each(function(){le.data(this,t,n)}):u?a(u,t,le.data(u,t)):null},removeData:function(t){return this.each(function(){le.removeData(this,t)})}}),le.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=le._data(t,e),n&&(!r||le.isArray(n)?r=le._data(t,e,le.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=le.queue(t,e),r=n.length,i=n.shift(),o=le._queueHooks(t,e),a=function(){le.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return le._data(t,n)||le._data(t,n,{empty:le.Callbacks("once memory").add(function(){le._removeData(t,e+"queue"),le._removeData(t,n)})})}}),le.fn.extend({queue:function(t,n){var r=2;return"string"!=typeof t&&(n=t,t="fx",r--),arguments.length<r?le.queue(this[0],t):n===e?this:this.each(function(){var e=le.queue(this,t,n);le._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&le.dequeue(this,t)})},dequeue:function(t){return this.each(function(){le.dequeue(this,t)})},delay:function(t,e){return t=le.fx?le.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var r,i=1,o=le.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";s--;)r=le._data(a[s],t+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var Ee,Ae,Ne=/[\t\r\n\f]/g,je=/\r/g,qe=/^(?:input|select|textarea|button|object)$/i,$e=/^(?:a|area)$/i,De=/^(?:checked|selected)$/i,Pe=le.support.getSetAttribute,He=le.support.input;le.fn.extend({attr:function(t,e){return le.access(this,le.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){le.removeAttr(this,t)})},prop:function(t,e){return le.access(this,le.prop,t,e,arguments.length>1)},removeProp:function(t){return t=le.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,r,i,o,a=0,s=this.length,u="string"==typeof t&&t;if(le.isFunction(t))return this.each(function(e){le(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(fe)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ne," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=le.trim(r)}return this},removeClass:function(t){var e,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof t&&t;if(le.isFunction(t))return this.each(function(e){le(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(fe)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ne," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=t?le.trim(r):""}return this},toggleClass:function(t,e){var n=typeof t,r="boolean"==typeof e;return le.isFunction(t)?this.each(function(n){le(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var i,o=0,a=le(this),s=e,u=t.match(fe)||[];i=u[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else(n===J||"boolean"===n)&&(this.className&&le._data(this,"__className__",this.className),this.className=this.className||t===!1?"":le._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ne," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,r,i,o=this[0];{if(arguments.length)return i=le.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,le(this).val()):t,null==o?o="":"number"==typeof o?o+="":le.isArray(o)&&(o=le.map(o,function(t){return null==t?"":t+""})),r=le.valHooks[this.type]||le.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==e||(this.value=o))});if(o)return r=le.valHooks[o.type]||le.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==e?n:(n=o.value,"string"==typeof n?n.replace(je,""):null==n?"":n)}}}),le.extend({valHooks:{option:{get:function(t){var e=le.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(le.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&le.nodeName(n.parentNode,"optgroup"))){if(e=le(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=le.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=le.inArray(le(r).val(),o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}},attr:function(t,n,r){var i,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===J?le.prop(t,n,r):(1===a&&le.isXMLDoc(t)||(n=n.toLowerCase(),i=le.attrHooks[n]||(le.expr.match.bool.test(n)?Ae:Ee)),r===e?i&&"get"in i&&null!==(o=i.get(t,n))?o:(o=le.find.attr(t,n),null==o?e:o):null!==r?i&&"set"in i&&(o=i.set(t,r,n))!==e?o:(t.setAttribute(n,r+""),r):(le.removeAttr(t,n),void 0))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(fe);if(o&&1===t.nodeType)for(;n=o[i++];)r=le.propFix[n]||n,le.expr.match.bool.test(n)?He&&Pe||!De.test(n)?t[r]=!1:t[le.camelCase("default-"+n)]=t[r]=!1:le.attr(t,n,""),t.removeAttribute(Pe?n:r)},attrHooks:{type:{set:function(t,e){if(!le.support.radioValue&&"radio"===e&&le.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,r){var i,o,a,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return a=1!==s||!le.isXMLDoc(t),a&&(n=le.propFix[n]||n,o=le.propHooks[n]),r!==e?o&&"set"in o&&(i=o.set(t,r,n))!==e?i:t[n]=r:o&&"get"in o&&null!==(i=o.get(t,n))?i:t[n]},propHooks:{tabIndex:{get:function(t){var e=le.find.attr(t,"tabindex");return e?parseInt(e,10):qe.test(t.nodeName)||$e.test(t.nodeName)&&t.href?0:-1}}}}),Ae={set:function(t,e,n){return e===!1?le.removeAttr(t,n):He&&Pe||!De.test(n)?t.setAttribute(!Pe&&le.propFix[n]||n,n):t[le.camelCase("default-"+n)]=t[n]=!0,n}},le.each(le.expr.match.bool.source.match(/\w+/g),function(t,n){var r=le.expr.attrHandle[n]||le.find.attr;le.expr.attrHandle[n]=He&&Pe||!De.test(n)?function(t,n,i){var o=le.expr.attrHandle[n],a=i?e:(le.expr.attrHandle[n]=e)!=r(t,n,i)?n.toLowerCase():null;return le.expr.attrHandle[n]=o,a}:function(t,n,r){return r?e:t[le.camelCase("default-"+n)]?n.toLowerCase():null}}),He&&Pe||(le.attrHooks.value={set:function(t,e,n){return le.nodeName(t,"input")?(t.defaultValue=e,void 0):Ee&&Ee.set(t,e,n)}}),Pe||(Ee={set:function(t,n,r){var i=t.getAttributeNode(r);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===t.getAttribute(r)?n:e}},le.expr.attrHandle.id=le.expr.attrHandle.name=le.expr.attrHandle.coords=function(t,n,r){var i;return r?e:(i=t.getAttributeNode(n))&&""!==i.value?i.value:null},le.valHooks.button={get:function(t,n){var r=t.getAttributeNode(n);return r&&r.specified?r.value:e},set:Ee.set},le.attrHooks.contenteditable={set:function(t,e,n){Ee.set(t,""===e?!1:e,n)}},le.each(["width","height"],function(t,e){le.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),le.support.hrefNormalized||le.each(["href","src"],function(t,e){le.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),le.support.style||(le.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),le.support.optSelected||(le.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),le.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){le.propFix[this.toLowerCase()]=this}),le.support.enctype||(le.propFix.enctype="encoding"),le.each(["radio","checkbox"],function(){le.valHooks[this]={set:function(t,e){return le.isArray(e)?t.checked=le.inArray(le(t).val(),e)>=0:void 0}},le.support.checkOn||(le.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Le=/^(?:input|select|textarea)$/i,Re=/^key/,Oe=/^(?:mouse|contextmenu)|click/,Fe=/^(?:focusinfocus|focusoutblur)$/,Ie=/^([^.]*)(?:\.(.+)|)$/;le.event={global:{},add:function(t,n,r,i,o){var a,s,u,c,l,h,f,p,d,g,m,v=le._data(t);if(v){for(r.handler&&(c=r,r=c.handler,o=c.selector),r.guid||(r.guid=le.guid++),(s=v.events)||(s=v.events={}),(h=v.handle)||(h=v.handle=function(t){return typeof le===J||t&&le.event.triggered===t.type?e:le.event.dispatch.apply(h.elem,arguments)},h.elem=t),n=(n||"").match(fe)||[""],u=n.length;u--;)a=Ie.exec(n[u])||[],d=m=a[1],g=(a[2]||"").split(".").sort(),d&&(l=le.event.special[d]||{},d=(o?l.delegateType:l.bindType)||d,l=le.event.special[d]||{},f=le.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&le.expr.match.needsContext.test(o),namespace:g.join(".")},c),(p=s[d])||(p=s[d]=[],p.delegateCount=0,l.setup&&l.setup.call(t,i,g,h)!==!1||(t.addEventListener?t.addEventListener(d,h,!1):t.attachEvent&&t.attachEvent("on"+d,h))),l.add&&(l.add.call(t,f),f.handler.guid||(f.handler.guid=r.guid)),o?p.splice(p.delegateCount++,0,f):p.push(f),le.event.global[d]=!0);t=null}},remove:function(t,e,n,r,i){var o,a,s,u,c,l,h,f,p,d,g,m=le.hasData(t)&&le._data(t);if(m&&(l=m.events)){for(e=(e||"").match(fe)||[""],c=e.length;c--;)if(s=Ie.exec(e[c])||[],p=g=s[1],d=(s[2]||"").split(".").sort(),p){for(h=le.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,f=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,h.remove&&h.remove.call(t,a));u&&!f.length&&(h.teardown&&h.teardown.call(t,d,m.handle)!==!1||le.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)le.event.remove(t,p+e[c],n,r,!0);le.isEmptyObject(l)&&(delete m.handle,le._removeData(t,"events"))}},trigger:function(n,r,i,o){var a,s,u,c,l,h,f,p=[i||Y],d=ue.call(n,"type")?n.type:n,g=ue.call(n,"namespace")?n.namespace.split("."):[];if(u=h=i=i||Y,3!==i.nodeType&&8!==i.nodeType&&!Fe.test(d+le.event.triggered)&&(d.indexOf(".")>=0&&(g=d.split("."),d=g.shift(),g.sort()),s=d.indexOf(":")<0&&"on"+d,n=n[le.expando]?n:new le.Event(d,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=i),r=null==r?[n]:le.makeArray(r,[n]),l=le.event.special[d]||{},o||!l.trigger||l.trigger.apply(i,r)!==!1)){if(!o&&!l.noBubble&&!le.isWindow(i)){for(c=l.delegateType||d,Fe.test(c+d)||(u=u.parentNode);u;u=u.parentNode)p.push(u),h=u;h===(i.ownerDocument||Y)&&p.push(h.defaultView||h.parentWindow||t)}for(f=0;(u=p[f++])&&!n.isPropagationStopped();)n.type=f>1?c:l.bindType||d,a=(le._data(u,"events")||{})[n.type]&&le._data(u,"handle"),a&&a.apply(u,r),a=s&&u[s],a&&le.acceptData(u)&&a.apply&&a.apply(u,r)===!1&&n.preventDefault();if(n.type=d,!o&&!n.isDefaultPrevented()&&(!l._default||l._default.apply(p.pop(),r)===!1)&&le.acceptData(i)&&s&&i[d]&&!le.isWindow(i)){h=i[s],h&&(i[s]=null),le.event.triggered=d;try{i[d]()}catch(m){}le.event.triggered=e,h&&(i[s]=h)}return n.result}},dispatch:function(t){t=le.event.fix(t);var n,r,i,o,a,s=[],u=oe.call(arguments),c=(le._data(this,"events")||{})[t.type]||[],l=le.event.special[t.type]||{};if(u[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=le.event.handlers.call(this,t,c),n=0;(o=s[n++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,r=((le.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==e&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,n){var r,i,o,a,s=[],u=n.delegateCount,c=t.target;if(u&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(o=[],a=0;u>a;a++)i=n[a],r=i.selector+" ",o[r]===e&&(o[r]=i.needsContext?le(r,this).index(c)>=0:le.find(r,this,null,[c]).length),o[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return u<n.length&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(t){if(t[le.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Oe.test(i)?this.mouseHooks:Re.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new le.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=o.srcElement||Y),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var r,i,o,a=n.button,s=n.fromElement;return null==t.pageX&&null!=n.clientX&&(i=t.target.ownerDocument||Y,o=i.documentElement,r=i.body,t.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),t.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?n.toElement:s),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==l()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return le.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return le.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=le.extend(new le.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?le.event.trigger(i,null,e):le.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},le.removeEvent=Y.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var r="on"+e;t.detachEvent&&(typeof t[r]===J&&(t[r]=null),t.detachEvent(r,n))},le.Event=function(t,e){return this instanceof le.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?u:c):this.type=t,e&&le.extend(this,e),this.timeStamp=t&&t.timeStamp||le.now(),this[le.expando]=!0,void 0):new le.Event(t,e)},le.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u,this.stopPropagation()}},le.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){le.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!le.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),le.support.submitBubbles||(le.event.special.submit={setup:function(){return le.nodeName(this,"form")?!1:(le.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,r=le.nodeName(n,"input")||le.nodeName(n,"button")?n.form:e;r&&!le._data(r,"submitBubbles")&&(le.event.add(r,"submit._submit",function(t){t._submit_bubble=!0}),le._data(r,"submitBubbles",!0))}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&le.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return le.nodeName(this,"form")?!1:(le.event.remove(this,"._submit"),void 0)}}),le.support.changeBubbles||(le.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(le.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),le.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),le.event.simulate("change",this,t,!0)})),!1):(le.event.add(this,"beforeactivate._change",function(t){var e=t.target;Le.test(e.nodeName)&&!le._data(e,"changeBubbles")&&(le.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||le.event.simulate("change",this.parentNode,t,!0)}),le._data(e,"changeBubbles",!0))}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return le.event.remove(this,"._change"),!Le.test(this.nodeName)}}),le.support.focusinBubbles||le.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,r=function(t){le.event.simulate(e,t.target,le.event.fix(t),!0)};le.event.special[e]={setup:function(){0===n++&&Y.addEventListener(t,r,!0)},teardown:function(){0===--n&&Y.removeEventListener(t,r,!0)}}}),le.fn.extend({on:function(t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=e);for(a in t)this.on(a,n,r,t[a],o);return this}if(null==r&&null==i?(i=n,r=n=e):null==i&&("string"==typeof n?(i=r,r=e):(i=r,r=n,n=e)),i===!1)i=c;else if(!i)return this;return 1===o&&(s=i,i=function(t){return le().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=le.guid++)),this.each(function(){le.event.add(this,t,i,r,n)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,n,r){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,le(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=e),r===!1&&(r=c),this.each(function(){le.event.remove(this,t,r,n)})},trigger:function(t,e){return this.each(function(){le.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?le.event.trigger(t,e,n,!0):void 0}});var ze=/^.[^:#\[\.,]*$/,Be=/^(?:parents|prev(?:Until|All))/,We=le.expr.match.needsContext,Ve={children:!0,contents:!0,next:!0,prev:!0};le.fn.extend({find:function(t){var e,n=[],r=this,i=r.length;if("string"!=typeof t)return this.pushStack(le(t).filter(function(){for(e=0;i>e;e++)if(le.contains(r[e],this))return!0}));for(e=0;i>e;e++)le.find(t,r[e],n);return n=this.pushStack(i>1?le.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e,n=le(t,this),r=n.length;return this.filter(function(){for(e=0;r>e;e++)if(le.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(f(this,t||[],!0))},filter:function(t){return this.pushStack(f(this,t||[],!1))},is:function(t){return!!f(this,"string"==typeof t&&We.test(t)?le(t):t||[],!1).length},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=We.test(t)||"string"!=typeof t?le(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&le.find.matchesSelector(n,t))){n=o.push(n);break}return this.pushStack(o.length>1?le.unique(o):o)},index:function(t){return t?"string"==typeof t?le.inArray(this[0],le(t)):le.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?le(t,e):le.makeArray(t&&t.nodeType?[t]:t),r=le.merge(this.get(),n);return this.pushStack(le.unique(r))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),le.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return le.dir(t,"parentNode")},parentsUntil:function(t,e,n){return le.dir(t,"parentNode",n)},next:function(t){return h(t,"nextSibling")},prev:function(t){return h(t,"previousSibling")},nextAll:function(t){return le.dir(t,"nextSibling")},prevAll:function(t){return le.dir(t,"previousSibling")},nextUntil:function(t,e,n){return le.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return le.dir(t,"previousSibling",n)},siblings:function(t){return le.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return le.sibling(t.firstChild)},contents:function(t){return le.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:le.merge([],t.childNodes)}},function(t,e){le.fn[t]=function(n,r){var i=le.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=le.filter(r,i)),this.length>1&&(Ve[t]||(i=le.unique(i)),Be.test(t)&&(i=i.reverse())),this.pushStack(i)}}),le.extend({filter:function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?le.find.matchesSelector(r,t)?[r]:[]:le.find.matches(t,le.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,r){for(var i=[],o=t[n];o&&9!==o.nodeType&&(r===e||1!==o.nodeType||!le(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ue="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Qe=/ jQuery\d+="(?:null|\d+)"/g,Je=new RegExp("<(?:"+Ue+")[\\s/>]","i"),Xe=/^\s+/,Ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ge=/<([\w:]+)/,Ke=/<tbody/i,Ze=/<|&#?\w+;/,tn=/<(?:script|style|link)/i,en=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:le.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},un=p(Y),cn=un.appendChild(Y.createElement("div"));
sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,le.fn.extend({text:function(t){return le.access(this,function(t){return t===e?le.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?le.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||le.cleanData(M(n)),n.parentNode&&(e&&le.contains(n.ownerDocument,n)&&v(M(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&le.cleanData(M(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&le.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return le.clone(this,t,e)})},html:function(t){return le.access(this,function(t){var n=this[0]||{},r=0,i=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace(Qe,""):e;if(!("string"!=typeof t||tn.test(t)||!le.support.htmlSerialize&&Je.test(t)||!le.support.leadingWhitespace&&Xe.test(t)||sn[(Ge.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ye,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(le.cleanData(M(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=le.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var r=t[e++],i=t[e++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),le(this).remove(),i.insertBefore(n,r))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=re.apply([],t);var r,i,o,a,s,u,c=0,l=this.length,h=this,f=l-1,p=t[0],d=le.isFunction(p);if(d||!(1>=l||"string"!=typeof p||le.support.checkClone)&&nn.test(p))return this.each(function(r){var i=h.eq(r);d&&(t[0]=p.call(this,r,i.html())),i.domManip(t,e,n)});if(l&&(u=le.buildFragment(t,this[0].ownerDocument,!1,!n&&this),r=u.firstChild,1===u.childNodes.length&&(u=r),r)){for(a=le.map(M(u,"script"),g),o=a.length;l>c;c++)i=u,c!==f&&(i=le.clone(i,!0,!0),o&&le.merge(a,M(i,"script"))),e.call(this[c],i,c);if(o)for(s=a[a.length-1].ownerDocument,le.map(a,m),c=0;o>c;c++)i=a[c],rn.test(i.type||"")&&!le._data(i,"globalEval")&&le.contains(s,i)&&(i.src?le._evalUrl(i.src):le.globalEval((i.text||i.textContent||i.innerHTML||"").replace(an,"")));u=r=null}return this}}),le.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){le.fn[t]=function(t){for(var n,r=0,i=[],o=le(t),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),le(o[r])[e](n),ie.apply(i,n.get());return this.pushStack(i)}}),le.extend({clone:function(t,e,n){var r,i,o,a,s,u=le.contains(t.ownerDocument,t);if(le.support.html5Clone||le.isXMLDoc(t)||!Je.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(cn.innerHTML=t.outerHTML,cn.removeChild(o=cn.firstChild)),!(le.support.noCloneEvent&&le.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||le.isXMLDoc(t)))for(r=M(o),s=M(t),a=0;null!=(i=s[a]);++a)r[a]&&b(i,r[a]);if(e)if(n)for(s=s||M(t),r=r||M(o),a=0;null!=(i=s[a]);a++)y(i,r[a]);else y(t,o);return r=M(o,"script"),r.length>0&&v(r,!u&&M(t,"script")),r=s=i=null,o},buildFragment:function(t,e,n,r){for(var i,o,a,s,u,c,l,h=t.length,f=p(e),d=[],g=0;h>g;g++)if(o=t[g],o||0===o)if("object"===le.type(o))le.merge(d,o.nodeType?[o]:o);else if(Ze.test(o)){for(s=s||f.appendChild(e.createElement("div")),u=(Ge.exec(o)||["",""])[1].toLowerCase(),l=sn[u]||sn._default,s.innerHTML=l[1]+o.replace(Ye,"<$1></$2>")+l[2],i=l[0];i--;)s=s.lastChild;if(!le.support.leadingWhitespace&&Xe.test(o)&&d.push(e.createTextNode(Xe.exec(o)[0])),!le.support.tbody)for(o="table"!==u||Ke.test(o)?"<table>"!==l[1]||Ke.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)le.nodeName(c=o.childNodes[i],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(le.merge(d,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else d.push(e.createTextNode(o));for(s&&f.removeChild(s),le.support.appendChecked||le.grep(M(d,"input"),w),g=0;o=d[g++];)if((!r||-1===le.inArray(o,r))&&(a=le.contains(o.ownerDocument,o),s=M(f.appendChild(o),"script"),a&&v(s),n))for(i=0;o=s[i++];)rn.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(t,e){for(var n,r,i,o,a=0,s=le.expando,u=le.cache,c=le.support.deleteExpando,l=le.event.special;null!=(n=t[a]);a++)if((e||le.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)l[r]?le.event.remove(n,r):le.removeEvent(n,r,o.handle);u[i]&&(delete u[i],c?delete n[s]:typeof n.removeAttribute!==J?n.removeAttribute(s):n[s]=null,ee.push(i))}},_evalUrl:function(t){return le.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),le.fn.extend({wrapAll:function(t){if(le.isFunction(t))return this.each(function(e){le(this).wrapAll(t.call(this,e))});if(this[0]){var e=le(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return le.isFunction(t)?this.each(function(e){le(this).wrapInner(t.call(this,e))}):this.each(function(){var e=le(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=le.isFunction(t);return this.each(function(n){le(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){le.nodeName(this,"body")||le(this).replaceWith(this.childNodes)}).end()}});var ln,hn,fn,pn=/alpha\([^)]*\)/i,dn=/opacity\s*=\s*([^)]*)/,gn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+he+")(.*)$","i"),bn=new RegExp("^("+he+")(?!px)[a-z%]+$","i"),Mn=new RegExp("^([+-])=("+he+")","i"),wn={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},_n={letterSpacing:0,fontWeight:400},Sn=["Top","Right","Bottom","Left"],Cn=["Webkit","O","Moz","ms"];le.fn.extend({css:function(t,n){return le.access(this,function(t,n,r){var i,o,a={},s=0;if(le.isArray(n)){for(o=hn(t),i=n.length;i>s;s++)a[n[s]]=le.css(t,n[s],!1,o);return a}return r!==e?le.style(t,n,r):le.css(t,n)},t,n,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:_(this))?le(this).show():le(this).hide()})}}),le.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=fn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":le.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,r,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s,u=le.camelCase(n),c=t.style;if(n=le.cssProps[u]||(le.cssProps[u]=x(c,u)),s=le.cssHooks[n]||le.cssHooks[u],r===e)return s&&"get"in s&&(o=s.get(t,!1,i))!==e?o:c[n];if(a=typeof r,"string"===a&&(o=Mn.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(le.css(t,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||le.cssNumber[u]||(r+="px"),le.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(r=s.set(t,r,i))===e)))try{c[n]=r}catch(l){}}},css:function(t,n,r,i){var o,a,s,u=le.camelCase(n);return n=le.cssProps[u]||(le.cssProps[u]=x(t.style,u)),s=le.cssHooks[n]||le.cssHooks[u],s&&"get"in s&&(a=s.get(t,!0,r)),a===e&&(a=fn(t,n,i)),"normal"===a&&n in _n&&(a=_n[n]),""===r||r?(o=parseFloat(a),r===!0||le.isNumeric(o)?o||0:a):a}}),t.getComputedStyle?(hn=function(e){return t.getComputedStyle(e,null)},fn=function(t,n,r){var i,o,a,s=r||hn(t),u=s?s.getPropertyValue(n)||s[n]:e,c=t.style;return s&&(""!==u||le.contains(t.ownerDocument,t)||(u=le.style(t,n)),bn.test(u)&&vn.test(n)&&(i=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=u,u=s.width,c.width=i,c.minWidth=o,c.maxWidth=a)),u}):Y.documentElement.currentStyle&&(hn=function(t){return t.currentStyle},fn=function(t,n,r){var i,o,a,s=r||hn(t),u=s?s[n]:e,c=t.style;return null==u&&c&&c[n]&&(u=c[n]),bn.test(u)&&!gn.test(n)&&(i=c.left,o=t.runtimeStyle,a=o&&o.left,a&&(o.left=t.currentStyle.left),c.left="fontSize"===n?"1em":u,u=c.pixelLeft+"px",c.left=i,a&&(o.left=a)),""===u?"auto":u}),le.each(["height","width"],function(t,e){le.cssHooks[e]={get:function(t,n,r){return n?0===t.offsetWidth&&mn.test(le.css(t,"display"))?le.swap(t,xn,function(){return k(t,e,r)}):k(t,e,r):void 0},set:function(t,n,r){var i=r&&hn(t);return C(t,n,r?T(t,e,r,le.support.boxSizing&&"border-box"===le.css(t,"boxSizing",!1,i),i):0)}}}),le.support.opacity||(le.cssHooks.opacity={get:function(t,e){return dn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,r=t.currentStyle,i=le.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===le.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||r&&!r.filter)||(n.filter=pn.test(o)?o.replace(pn,i):o+" "+i)}}),le(function(){le.support.reliableMarginRight||(le.cssHooks.marginRight={get:function(t,e){return e?le.swap(t,{display:"inline-block"},fn,[t,"marginRight"]):void 0}}),!le.support.pixelPosition&&le.fn.position&&le.each(["top","left"],function(t,e){le.cssHooks[e]={get:function(t,n){return n?(n=fn(t,e),bn.test(n)?le(t).position()[e]+"px":n):void 0}}})}),le.expr&&le.expr.filters&&(le.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!le.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||le.css(t,"display"))},le.expr.filters.visible=function(t){return!le.expr.filters.hidden(t)}),le.each({margin:"",padding:"",border:"Width"},function(t,e){le.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Sn[r]+e]=o[r]||o[r-2]||o[0];return i}},vn.test(t)||(le.cssHooks[t+e].set=C)});var Tn=/%20/g,kn=/\[\]$/,En=/\r?\n/g,An=/^(?:submit|button|image|reset|file)$/i,Nn=/^(?:input|select|textarea|keygen)/i;le.fn.extend({serialize:function(){return le.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=le.prop(this,"elements");return t?le.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!le(this).is(":disabled")&&Nn.test(this.nodeName)&&!An.test(t)&&(this.checked||!en.test(t))}).map(function(t,e){var n=le(this).val();return null==n?null:le.isArray(n)?le.map(n,function(t){return{name:e.name,value:t.replace(En,"\r\n")}}):{name:e.name,value:n.replace(En,"\r\n")}}).get()}}),le.param=function(t,n){var r,i=[],o=function(t,e){e=le.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=le.ajaxSettings&&le.ajaxSettings.traditional),le.isArray(t)||t.jquery&&!le.isPlainObject(t))le.each(t,function(){o(this.name,this.value)});else for(r in t)N(r,t[r],n,o);return i.join("&").replace(Tn,"+")},le.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){le.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),le.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var jn,qn,$n=le.now(),Dn=/\?/,Pn=/#.*$/,Hn=/([?&])_=[^&]*/,Ln=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,On=/^(?:GET|HEAD)$/,Fn=/^\/\//,In=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,zn=le.fn.load,Bn={},Wn={},Vn="*/".concat("*");try{qn=X.href}catch(Un){qn=Y.createElement("a"),qn.href="",qn=qn.href}jn=In.exec(qn.toLowerCase())||[],le.fn.load=function(t,n,r){if("string"!=typeof t&&zn)return zn.apply(this,arguments);var i,o,a,s=this,u=t.indexOf(" ");return u>=0&&(i=t.slice(u,t.length),t=t.slice(0,u)),le.isFunction(n)?(r=n,n=e):n&&"object"==typeof n&&(a="POST"),s.length>0&&le.ajax({url:t,type:a,dataType:"html",data:n}).done(function(t){o=arguments,s.html(i?le("<div>").append(le.parseHTML(t)).find(i):t)}).complete(r&&function(t,e){s.each(r,o||[t.responseText,e,t])}),this},le.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){le.fn[e]=function(t){return this.on(e,t)}}),le.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qn,type:"GET",isLocal:Rn.test(jn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":le.parseJSON,"text xml":le.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$($(t,le.ajaxSettings),e):$(le.ajaxSettings,t)},ajaxPrefilter:j(Bn),ajaxTransport:j(Wn),ajax:function(t,n){function r(t,n,r,i){var o,h,y,b,w,_=n;2!==M&&(M=2,u&&clearTimeout(u),l=e,s=i||"",x.readyState=t>0?4:0,o=t>=200&&300>t||304===t,r&&(b=D(f,x,r)),b=P(f,b,x,o),o?(f.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(le.lastModified[a]=w),w=x.getResponseHeader("etag"),w&&(le.etag[a]=w)),204===t||"HEAD"===f.type?_="nocontent":304===t?_="notmodified":(_=b.state,h=b.data,y=b.error,o=!y)):(y=_,(t||!_)&&(_="error",0>t&&(t=0))),x.status=t,x.statusText=(n||_)+"",o?g.resolveWith(p,[h,_,x]):g.rejectWith(p,[x,_,y]),x.statusCode(v),v=e,c&&d.trigger(o?"ajaxSuccess":"ajaxError",[x,f,o?h:y]),m.fireWith(p,[x,_]),c&&(d.trigger("ajaxComplete",[x,f]),--le.active||le.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var i,o,a,s,u,c,l,h,f=le.ajaxSetup({},n),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?le(p):le.event,g=le.Deferred(),m=le.Callbacks("once memory"),v=f.statusCode||{},y={},b={},M=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===M){if(!h)for(h={};e=Ln.exec(s);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===M?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return M||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return M||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>M)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return l&&l.abort(e),r(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,f.url=((t||f.url||qn)+"").replace(Pn,"").replace(Fn,jn[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=le.trim(f.dataType||"*").toLowerCase().match(fe)||[""],null==f.crossDomain&&(i=In.exec(f.url.toLowerCase()),f.crossDomain=!(!i||i[1]===jn[1]&&i[2]===jn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(jn[3]||("http:"===jn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=le.param(f.data,f.traditional)),q(Bn,f,n,x),2===M)return x;c=f.global,c&&0===le.active++&&le.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!On.test(f.type),a=f.url,f.hasContent||(f.data&&(a=f.url+=(Dn.test(a)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Hn.test(a)?a.replace(Hn,"$1_="+$n++):a+(Dn.test(a)?"&":"?")+"_="+$n++)),f.ifModified&&(le.lastModified[a]&&x.setRequestHeader("If-Modified-Since",le.lastModified[a]),le.etag[a]&&x.setRequestHeader("If-None-Match",le.etag[a])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Vn+"; q=0.01":""):f.accepts["*"]);for(o in f.headers)x.setRequestHeader(o,f.headers[o]);if(f.beforeSend&&(f.beforeSend.call(p,x,f)===!1||2===M))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](f[o]);if(l=q(Wn,f,n,x)){x.readyState=1,c&&d.trigger("ajaxSend",[x,f]),f.async&&f.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},f.timeout));try{M=1,l.send(y,r)}catch(_){if(!(2>M))throw _;r(-1,_)}}else r(-1,"No Transport");return x},getJSON:function(t,e,n){return le.get(t,e,n,"json")},getScript:function(t,n){return le.get(t,e,n,"script")}}),le.each(["get","post"],function(t,n){le[n]=function(t,r,i,o){return le.isFunction(r)&&(o=o||i,i=r,r=e),le.ajax({url:t,type:n,dataType:o,data:r,success:i})}}),le.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return le.globalEval(t),t}}}),le.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),le.ajaxTransport("script",function(t){if(t.crossDomain){var n,r=Y.head||le("head")[0]||Y.documentElement;return{send:function(e,i){n=Y.createElement("script"),n.async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,e){(e||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,e||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(e,!0)}}}});var Qn=[],Jn=/(=)\?(?=&|$)|\?\?/;le.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Qn.pop()||le.expando+"_"+$n++;return this[t]=!0,t}}),le.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Jn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=le.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Jn,"$1"+o):n.jsonp!==!1&&(n.url+=(Dn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||le.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=t[o],t[o]=function(){s=arguments},i.always(function(){t[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Qn.push(o)),s&&le.isFunction(a)&&a(s[0]),s=a=e}),"script"):void 0});var Xn,Yn,Gn=0,Kn=t.ActiveXObject&&function(){var t;for(t in Xn)Xn[t](e,!0)};le.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&H()||L()}:H,Yn=le.ajaxSettings.xhr(),le.support.cors=!!Yn&&"withCredentials"in Yn,Yn=le.support.ajax=!!Yn,Yn&&le.ajaxTransport(function(n){if(!n.crossDomain||le.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(c){}u.send(n.hasContent&&n.data||null),r=function(t,i){var s,c,l,h;try{if(r&&(i||4===u.readyState))if(r=e,a&&(u.onreadystatechange=le.noop,Kn&&delete Xn[a]),i)4!==u.readyState&&u.abort();else{h={},s=u.status,c=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(h.text=u.responseText);try{l=u.statusText}catch(f){l=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=h.text?200:404}}catch(p){i||o(-1,p)}h&&o(s,l,h,c)},n.async?4===u.readyState?setTimeout(r):(a=++Gn,Kn&&(Xn||(Xn={},le(t).unload(Kn)),Xn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(e,!0)}}}});var Zn,tr,er=/^(?:toggle|show|hide)$/,nr=new RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),rr=/queueHooks$/,ir=[z],or={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=nr.exec(e),o=i&&i[3]||(le.cssNumber[t]?"":"px"),a=(le.cssNumber[t]||"px"!==o&&+r)&&nr.exec(le.css(n.elem,t)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,le.style(n.elem,t,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};le.Animation=le.extend(F,{tweener:function(t,e){le.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],or[n]=or[n]||[],or[n].unshift(e)},prefilter:function(t,e){e?ir.unshift(t):ir.push(t)}}),le.Tween=B,B.prototype={constructor:B,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(le.cssNumber[n]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,n=B.propHooks[this.prop];return this.pos=e=this.options.duration?le.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=le.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){le.fx.step[t.prop]?le.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[le.cssProps[t.prop]]||le.cssHooks[t.prop])?le.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},le.each(["toggle","show","hide"],function(t,e){var n=le.fn[e];le.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(W(e,!0),t,r,i)}}),le.fn.extend({fadeTo:function(t,e,n,r){return this.filter(_).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=le.isEmptyObject(t),o=le.speed(e,n,r),a=function(){var e=F(this,le.extend({},t),o);(i||le._data(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,n,r){var i=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=le.timers,a=le._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&rr.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(r),e=!1,o.splice(n,1));(e||!r)&&le.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=le._data(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=le.timers,a=r?r.length:0;for(n.finish=!0,le.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),le.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){le.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),le.speed=function(t,e,n){var r=t&&"object"==typeof t?le.extend({},t):{complete:n||!n&&e||le.isFunction(t)&&t,duration:t,easing:n&&e||e&&!le.isFunction(e)&&e};return r.duration=le.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in le.fx.speeds?le.fx.speeds[r.duration]:le.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){le.isFunction(r.old)&&r.old.call(this),r.queue&&le.dequeue(this,r.queue)},r},le.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},le.timers=[],le.fx=B.prototype.init,le.fx.tick=function(){var t,n=le.timers,r=0;for(Zn=le.now();r<n.length;r++)t=n[r],t()||n[r]!==t||n.splice(r--,1);n.length||le.fx.stop(),Zn=e},le.fx.timer=function(t){t()&&le.timers.push(t)&&le.fx.start()},le.fx.interval=13,le.fx.start=function(){tr||(tr=setInterval(le.fx.tick,le.fx.interval))},le.fx.stop=function(){clearInterval(tr),tr=null},le.fx.speeds={slow:600,fast:200,_default:400},le.fx.step={},le.expr&&le.expr.filters&&(le.expr.filters.animated=function(t){return le.grep(le.timers,function(e){return t===e.elem}).length}),le.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){le.offset.setOffset(this,t,e)});var n,r,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,le.contains(n,o)?(typeof o.getBoundingClientRect!==J&&(i=o.getBoundingClientRect()),r=V(a),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},le.offset={setOffset:function(t,e,n){var r=le.css(t,"position");"static"===r&&(t.style.position="relative");var i,o,a=le(t),s=a.offset(),u=le.css(t,"top"),c=le.css(t,"left"),l=("absolute"===r||"fixed"===r)&&le.inArray("auto",[u,c])>-1,h={},f={};l?(f=a.position(),i=f.top,o=f.left):(i=parseFloat(u)||0,o=parseFloat(c)||0),le.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+i),null!=e.left&&(h.left=e.left-s.left+o),"using"in e?e.using.call(t,h):a.css(h)}},le.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},r=this[0];return"fixed"===le.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),le.nodeName(t[0],"html")||(n=t.offset()),n.top+=le.css(t[0],"borderTopWidth",!0),n.left+=le.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-le.css(r,"marginTop",!0),left:e.left-n.left-le.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||G;t&&!le.nodeName(t,"html")&&"static"===le.css(t,"position");)t=t.offsetParent;return t||G})}}),le.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r=/Y/.test(n);le.fn[t]=function(i){return le.access(this,function(t,i,o){var a=V(t);return o===e?a?n in a?a[n]:a.document.documentElement[i]:t[i]:(a?a.scrollTo(r?le(a).scrollLeft():o,r?o:le(a).scrollTop()):t[i]=o,void 0)},t,i,arguments.length,null)}}),le.each({Height:"height",Width:"width"},function(t,n){le.each({padding:"inner"+t,content:n,"":"outer"+t},function(r,i){le.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return le.access(this,function(n,r,i){var o;return le.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):i===e?le.css(n,r,s):le.style(n,r,i,s)},n,a?i:e,a,null)}})}),le.fn.size=function(){return this.length},le.fn.andSelf=le.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=le:(t.jQuery=t.$=le,"function"==typeof define&&define.amd&&define("jquery",[],function(){return le}))}(window),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n;t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,r){var i=t.Event(n);return e.trigger(i,r),i.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(r){var i,o,a,s,u,c,l,h;if(n.fire(r,"ajax:before")){if(s=r.data("cross-domain"),u=s===e?null:s,c=r.data("with-credentials")||null,l=r.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,r.is("form")){i=r.attr("method"),o=r.attr("action"),a=r.serializeArray();var f=r.data("ujs:submit-button");f&&(a.push(f),r.data("ujs:submit-button",null))}else r.is(n.inputChangeSelector)?(i=r.data("method"),o=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(i=r.data("method")||"get",o=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):(i=r.data("method"),o=n.href(r),a=r.data("params")||null);h={type:i||"GET",data:a,dataType:l,beforeSend:function(t,i){return i.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(r,"ajax:beforeSend",[t,i])},success:function(t,e,n){r.trigger("ajax:success",[t,e,n])},complete:function(t,e){r.trigger("ajax:complete",[t,e])},error:function(t,e,n){r.trigger("ajax:error",[t,e,n])},crossDomain:u},c&&(h.xhrFields={withCredentials:c}),o&&(h.url=o);var p=n.ajax(h);return r.trigger("ajax:send",p),p}return!1},handleMethod:function(r){var i=n.href(r),o=r.data("method"),a=r.attr("target"),s=t("meta[name=csrf-token]").attr("content"),u=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+i+'"></form>'),l='<input name="_method" value="'+o+'" type="hidden" />';u!==e&&s!==e&&(l+='<input name="'+u+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(l).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,r=t.data("confirm"),i=!1;return r?(n.fire(t,"confirm")&&(i=n.confirm(r),e=n.fire(t,"confirm:complete",[i])),i&&e):!0},blankInputs:function(e,n,r){var i,o,a=t(),s=n||"input,textarea",u=e.find(s);return u.each(function(){if(i=t(this),o=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):i.val(),!o==!r){if(i.is("input[type=radio]")&&u.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;a=a.add(i)}}),a.length?a:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,r){t.crossDomain||n.CSRFProtection(r)}),t(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),t(document).delegate(n.linkClickSelector,"click.rails",function(r){var i=t(this),o=i.data("method"),a=i.data("params");if(!n.allowAction(i))return n.stopEverything(r);if(i.is(n.linkDisableSelector)&&n.disableElement(i),i.data("remote")!==e){if(!(!r.metaKey&&!r.ctrlKey||o&&"GET"!==o||a))return!0;var s=n.handleRemote(i);return s===!1?n.enableElement(i):s.error(function(){n.enableElement(i)}),!1}return i.data("method")?(n.handleMethod(i),!1):void 0}),t(document).delegate(n.buttonClickSelector,"click.rails",function(e){var r=t(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(e)}),t(document).delegate(n.inputChangeSelector,"change.rails",function(e){var r=t(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(e)}),t(document).delegate(n.formSubmitSelector,"submit.rails",function(r){var i=t(this),o=i.data("remote")!==e,a=n.blankInputs(i,n.requiredInputSelector),s=n.nonBlankInputs(i,n.fileInputSelector);if(!n.allowAction(i))return n.stopEverything(r);if(a&&i.attr("novalidate")==e&&n.fire(i,"ajax:aborted:required",[a]))return n.stopEverything(r);
if(o){if(s){setTimeout(function(){n.disableFormElements(i)},13);var u=n.fire(i,"ajax:aborted:file",[s]);return u||setTimeout(function(){n.enableFormElements(i)},13),u}return n.handleRemote(i),!1}setTimeout(function(){n.disableFormElements(i)},13)}),t(document).delegate(n.formInputClickSelector,"click.rails",function(e){var r=t(this);if(!n.allowAction(r))return n.stopEverything(e);var i=r.attr("name"),o=i?{name:i,value:r.val()}:null;r.closest("form").data("ujs:submit-button",o)}),t(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),t(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)}))}(jQuery),function(t){"undefined"==typeof t.fn.each2&&t.fn.extend({each2:function(e){for(var n=t([0]),r=-1,i=this.length;++r<i&&(n.context=n[0]=this[r])&&e.call(n[0],r,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(t,e){for(var n=0,r=e.length;r>n;n+=1)if(i(t,e[n]))return n;return-1}function r(){var e=t(L);e.appendTo("body");var n={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),n}function i(t,n){return t===n?!0:t===e||n===e?!1:null===t||null===n?!1:t.constructor===String?t+""==n+"":n.constructor===String?n+""==t+"":!1}function o(e,n){var r,i,o;if(null===e||e.length<1)return[];for(r=e.split(n),i=0,o=r.length;o>i;i+=1)r[i]=t.trim(r[i]);return r}function a(t){return t.outerWidth(!1)-t.width()}function s(n){var r="keyup-change-value";n.on("keydown",function(){t.data(n,r)===e&&t.data(n,r,n.val())}),n.on("keyup",function(){var i=t.data(n,r);i!==e&&n.val()!==i&&(t.removeData(n,r),n.trigger("keyup-change"))})}function u(n){n.on("mousemove",function(n){var r=H;(r===e||r.x!==n.pageX||r.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function c(t,n,r){r=r||e;var i;return function(){var e=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,e)},t)}}function l(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function h(t,e){var r=c(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){n(t.target,e.get())>=0&&r(t)})}function f(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],r=t.val().length;t.focus(),t.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(r,r):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function p(e){e=t(e)[0];var n=0,r=0;if("selectionStart"in e)n=e.selectionStart,r=e.selectionEnd-n;else if("selection"in document){e.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length,i.moveStart("character",-e.value.length),n=i.text.length-r}return{offset:n,length:r}}function d(t){t.preventDefault(),t.stopPropagation()}function g(t){t.preventDefault(),t.stopImmediatePropagation()}function m(e){if(!$){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);$=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),$.attr("class","select2-sizer"),t("body").append($)}return $.text(e.val()),$.width()}function v(e,n,r){var i,o,a=[];i=e.attr("class"),i&&(i=""+i,t(i.split(" ")).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),i=n.attr("class"),i&&(i=""+i,t(i.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=r(this),o&&a.push(this))})),e.attr("class",a.join(" "))}function y(t,e,n,r){var i=t.toUpperCase().indexOf(e.toUpperCase()),o=e.length;return 0>i?(n.push(r(t)),void 0):(n.push(r(t.substring(0,i))),n.push("<span class='select2-match'>"),n.push(r(t.substring(i,i+o))),n.push("</span>"),n.push(r(t.substring(i+o,t.length))),void 0)}function b(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function M(n){var r,i=0,o=null,a=n.quietMillis||100,s=n.url,u=this;return function(c){window.clearTimeout(r),r=window.setTimeout(function(){i+=1;var r=i,a=n.data,l=s,h=n.transport||t.fn.select2.ajaxDefaults.transport,f={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||e,dataType:n.dataType||"json"},p=t.extend({},t.fn.select2.ajaxDefaults.params,f);a=a?a.call(u,c.term,c.page,c.context):null,l="function"==typeof l?l.call(u,c.term,c.page,c.context):l,o&&o.abort(),n.params&&(t.isFunction(n.params)?t.extend(p,n.params.call(u)):t.extend(p,n.params)),t.extend(p,{url:l,dataType:n.dataType,data:a,success:function(t){if(!(i>r)){var e=n.results(t,c.page);c.callback(e)}}}),o=h.call(u,p)},a)}}function w(e){var n,r,i=e,o=function(t){return""+t.text};t.isArray(i)&&(r=i,i={results:r}),t.isFunction(i)===!1&&(r=i,i=function(){return r});var a=i();return a.text&&(o=a.text,t.isFunction(o)||(n=a.text,o=function(t){return t[n]})),function(e){var n,r=e.term,a={results:[]};return""===r?(e.callback(i()),void 0):(n=function(i,a){var s,u;if(i=i[0],i.children){s={};for(u in i)i.hasOwnProperty(u)&&(s[u]=i[u]);s.children=[],t(i.children).each2(function(t,e){n(e,s.children)}),(s.children.length||e.matcher(r,o(s),i))&&a.push(s)}else e.matcher(r,o(i),i)&&a.push(i)},t(i().results).each2(function(t,e){n(e,a.results)}),e.callback(a),void 0)}}function x(n){var r=t.isFunction(n);return function(i){var o=i.term,a={results:[]};t(r?n():n).each(function(){var t=this.text!==e,n=t?this.text:this;(""===o||i.matcher(o,n))&&a.results.push(t?this:{id:this,text:this})}),i.callback(a)}}function _(e,n){if(t.isFunction(e))return!0;if(!e)return!1;throw new Error(n+" must be a function or a falsy value")}function S(e){return t.isFunction(e)?e():e}function C(e){var n=0;return t.each(e,function(t,e){e.children?n+=C(e.children):n++}),n}function T(t,n,r,o){var a,s,u,c,l,h=t,f=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return e;for(;;){for(s=-1,u=0,c=o.tokenSeparators.length;c>u&&(l=o.tokenSeparators[u],s=t.indexOf(l),!(s>=0));u++);if(0>s)break;if(a=t.substring(0,s),t=t.substring(s+l.length),a.length>0&&(a=o.createSearchChoice.call(this,a,n),a!==e&&null!==a&&o.id(a)!==e&&null!==o.id(a))){for(f=!1,u=0,c=n.length;c>u;u++)if(i(o.id(a),o.id(n[u]))){f=!0;break}f||r(a)}}return h!==t?t:void 0}function k(e,n){var r=function(){};return r.prototype=new e,r.prototype.constructor=r,r.prototype.parent=e.prototype,r.prototype=t.extend(r.prototype,n),r}if(window.Select2===e){var E,A,N,j,q,$,D,P,H={x:0,y:0},E={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case E.LEFT:case E.RIGHT:case E.UP:case E.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case E.SHIFT:case E.CTRL:case E.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},L="<div class='select2-measure-scrollbar'></div>";D=t(document),q=function(){var t=1;return function(){return t++}}(),D.on("mousemove",function(t){H.x=t.pageX,H.y=t.pageY}),A=k(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var i,o,a,c,f=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+q()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=l(function(){return n.element.closest("body")}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(S(n.containerCss)),this.container.addClass(S(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(S(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=i=this.container.find(f),this.search=o=this.container.find("input.select2-input"),this.resultsPage=0,this.context=null,this.initContainer(),u(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",f,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",f,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&i.mousewheel(function(t,e,n,r){var o=i.scrollTop();r>0&&0>=o-r?(i.scrollTop(0),d(t)):0>r&&i.get(0).scrollHeight-i.scrollTop()+r<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),d(t))}),s(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",f,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===e&&(a=!1),this.enable(!a);var c=n.element.prop("readonly");c===e&&(c=!1),this.readonly(c),P=P||r(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus()},destroy:function(){var t=this.opts.element,n=t.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==e&&(n.container.remove(),n.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:i(t.attr("locked"),"locked")||i(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(n){var r,a,s,u,c=this;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=a=n.element),a&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(r,i,o){var a,s=this.opts.id;a=function(r,i,u){var l,h,f,p,d,g,m,v,y,b;for(r=n.sortResults(r,i,o),l=0,h=r.length;h>l;l+=1)f=r[l],d=f.disabled===!0,p=!d&&s(f)!==e,g=f.children&&f.children.length>0,m=t("<li></li>"),m.addClass("select2-results-dept-"+u),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),d&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(c.opts.formatResultCssClass(f)),v=t(document.createElement("div")),v.addClass("select2-result-label"),b=n.formatResult(f,v,o,c.opts.escapeMarkup),b!==e&&v.html(b),m.append(v),g&&(y=t("<ul></ul>"),y.addClass("select2-result-sub"),a(f.children,y,u+1),m.append(y)),m.data("select2-data",f),i.append(m)},a(i,r,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(s=n.id,n.id=function(t){return t[s]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(a?(n.query=this.bind(function(t){var n,i,o,a={results:[],more:!1},s=t.term;o=function(e,n){var r;e.is("option")?t.matcher(s,e.text(),e)&&n.push(c.optionToData(e)):e.is("optgroup")&&(r=c.optionToData(e),e.children().each2(function(t,e){o(e,r.children)}),r.children.length>0&&n.push(r))},n=r.children(),this.getPlaceholder()!==e&&n.length>0&&(i=this.getPlaceholderOption(),i&&(n=n.not(i))),n.each2(function(t,e){o(e,a.results)}),t.callback(a)}),n.id=function(t){return t.id},n.formatResultCssClass=function(t){return t.css}):"query"in n||("ajax"in n?(u=n.element.data("ajax-url"),u&&u.length>0&&(n.ajax.url=u),n.query=M.call(n.element,n.ajax)):"data"in n?n.query=w(n.data):"tags"in n&&(n.query=x(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(t){return{id:t,text:t}}),n.initSelection===e&&(n.initSelection=function(e,r){var a=[];t(o(e.val(),n.separator)).each(function(){var e=this,r=this,o=n.tags;t.isFunction(o)&&(o=o()),t(o).each(function(){return i(this.id,e)?(r=this.text,!1):void 0}),a.push({id:e,text:r})}),r(a)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var t,n=this.opts.element;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t,r=n.prop("disabled");r===e&&(r=!1),this.enable(!r);var t=n.prop("readonly");t===e&&(t=!1),this.readonly(t),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(S(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(this.opts.dropdownCssClass))}),n.on("propertychange.select2 DOMAttrModified.select2",t),this.mutationCallback===e&&(this.mutationCallback=function(e){e.forEach(t)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var n=t.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){return t===e&&(t=!0),this._enabled===t?!1:(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface(),!0)},readonly:function(t){return t===e&&(t=!1),this._readonly===t?!1:(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,r,i,o=this.dropdown,a=this.container.offset(),s=this.container.outerHeight(!1),u=this.container.outerWidth(!1),c=o.outerHeight(!1),l=t(window).scrollLeft()+t(window).width(),h=t(window).scrollTop()+t(window).height(),f=a.top+s,p=a.left,d=h>=f+c,g=a.top-c>=this.body().scrollTop(),m=o.outerWidth(!1),v=l>=p+m,y=o.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(i=t(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),m=o.outerWidth(!1)+(i.scrollHeight===i.clientHeight?0:P.width),m>u?u=m:m=u,v=l>=p+m):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(e=this.body().offset(),f-=e.top,p-=e.left),y?(n=!0,!g&&d&&(n=!1)):(n=!1,!d&&g&&(n=!0)),v||(p=a.left+u-m),n?(f=a.top-c,this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),r=t.extend({top:f,left:p,width:u},S(this.opts.dropdownCss)),o.css(r)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){function e(){return{width:Math.max(document.documentElement.scrollWidth,t(window).width()),height:Math.max(document.documentElement.scrollHeight,t(window).height())}}var n,r,i=this.containerId,o="scroll."+i,a="resize."+i,s="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),n=t("#select2-drop-mask"),0==n.length&&(n=t(document.createElement("div")),n.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body()),n.on("mousedown touchstart click",function(e){var n,r=t("#select2-drop");r.length>0&&(n=r.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close(),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),r=e(),n.css(r).show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var u=this;this.container.parents().add(window).each(function(){t(this).on(a+" "+o+" "+s,function(){var n=e();t("#select2-drop-mask").css(n),u.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerId,n="scroll."+e,r="resize."+e,i="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(n).off(r).off(i)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return S(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,n,r,i,o,a,s,u=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return u.scrollTop(0),void 0;e=this.findHighlightableChoices().find(".select2-result-label"),r=t(e[n]),i=r.offset().top+r.outerHeight(!0),n===e.length-1&&(s=u.find("li.select2-more-results"),s.length>0&&(i=s.offset().top+s.outerHeight(!0))),o=u.offset().top+u.outerHeight(!0),i>o&&u.scrollTop(u.scrollTop()+(i-o)),a=r.offset().top-u.offset().top,0>a&&"none"!=r.css("display")&&u.scrollTop(u.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),r=this.highlight();r>-1&&r<n.length;){r+=e;var i=t(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(e){var r,i,o=this.findHighlightableChoices();return 0===arguments.length?n(o.filter(".select2-highlighted")[0],o.get()):(e>=o.length&&(e=o.length-1),0>e&&(e=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),r=t(o[e]),r.addClass("select2-highlighted"),this.ensureHighlightVisible(),i=r.data("select2-data"),i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i}),void 0)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),r=this.resultsPage+1,i=this,o=this.search.val(),a=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:r,context:a,matcher:this.opts.matcher,callback:this.bind(function(t){i.opened()&&(i.opts.populateResults.call(this,e,t.results,{term:o,page:r,context:a}),i.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).text(i.opts.formatLoadMore(r+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):n.remove(),i.positionDropdown(),i.resultsPage=r,i.context=t.context)})})))},tokenize:function(){},updateResults:function(n){function r(){u.removeClass("select2-active"),h.positionDropdown()}function o(t){c.html(t),r()}var a,s,u=this.search,c=this.results,l=this.opts,h=this,f=u.val(),p=t.data(this.container,"select2-last-term");if((n===!0||!p||!i(f,p))&&(t.data(this.container,"select2-last-term",f),n===!0||this.showSearchInput!==!1&&this.opened())){var d=this.getMaximumSelectionSize();if(d>=1&&(a=this.data(),t.isArray(a)&&a.length>=d&&_(l.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+l.formatSelectionTooBig(d)+"</li>"),void 0;if(u.val().length<l.minimumInputLength)return _(l.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+l.formatInputTooShort(u.val(),l.minimumInputLength)+"</li>"):o(""),n&&this.showSearch&&this.showSearch(!0),void 0;if(l.maximumInputLength&&u.val().length>l.maximumInputLength)return _(l.formatInputTooLong,"formatInputTooLong")?o("<li class='select2-no-results'>"+l.formatInputTooLong(u.val(),l.maximumInputLength)+"</li>"):o(""),void 0;l.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+l.formatSearching()+"</li>"),u.addClass("select2-active"),s=this.tokenize(),s!=e&&null!=s&&u.val(s),this.resultsPage=1,l.query({element:l.element,term:u.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(a){var s;return this.opened()?(this.context=a.context===e?null:a.context,this.opts.createSearchChoice&&""!==u.val()&&(s=this.opts.createSearchChoice.call(h,u.val(),a.results),s!==e&&null!==s&&h.id(s)!==e&&null!==h.id(s)&&0===t(a.results).filter(function(){return i(h.id(this),h.id(s))}).length&&a.results.unshift(s)),0===a.results.length&&_(l.formatNoMatches,"formatNoMatches")?(o("<li class='select2-no-results'>"+l.formatNoMatches(u.val())+"</li>"),void 0):(c.empty(),h.opts.populateResults.call(this,c,a.results,{term:u.val(),page:this.resultsPage,context:null}),a.more===!0&&_(l.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(l.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(a,n),r(),this.opts.element.trigger({type:"select2-loaded",items:a}),void 0)):(this.search.removeClass("select2-active"),void 0)})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(t){var e=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");r?(this.highlight(e),this.onSelect(r,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var t=this.select.children().first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.text()&&""===t.val())return t}},initContainerWidth:function(){function n(){var n,r,i,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(r=n.split(";"),o=0,a=r.length;a>o;o+=1)if(i=r[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&i.length>=1)return i[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);null!==r&&this.container.css("width",r)}}),N=k(A,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,n,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),e=this.search.get(0),e.createTextRange?(n=e.createTextRange(),n.collapse(!1),n.select()):e.setSelectionRange&&(r=this.search.val().length,e.setSelectionRange(r,r)),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var e,n=this.container,r=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+q()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===E.PAGE_UP||t.which===E.PAGE_DOWN)return d(t),void 0;switch(t.which){case E.UP:case E.DOWN:return this.moveHighlight(t.which===E.UP?-1:1),d(t),void 0;case E.ENTER:return this.selectHighlighted(),d(t),void 0;case E.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case E.ESC:return this.cancel(t),d(t),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==E.TAB&&!E.isControl(t)&&!E.isFunctionKey(t)&&t.which!==E.ESC){if(this.opts.openOnEnter===!1&&t.which===E.ENTER)return d(t),void 0;if(t.which==E.DOWN||t.which==E.UP||t.which==E.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),d(t),void 0}return t.which==E.DELETE||t.which==E.BACKSPACE?(this.opts.allowClear&&this.clear(),d(t),void 0):void 0}})),s(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),g(t),this.close(),this.selection.focus())})),e.on("mousedown",this.bind(function(e){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),d(e)})),r.on("mousedown",this.bind(function(){this.search.focus()})),e.on("focus",this.bind(function(t){d(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");if(e){var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection([]),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var t;return(t=this.getPlaceholderOption())!==e&&t.is(":selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val()},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var r=t.find(":selected");e(n.optionToData(r))}:"data"in e&&(e.initSelection=e.initSelection||function(n,r){var o=n.val(),a=null;e.query({matcher:function(t,n,r){var s=i(o,e.id(r));return s&&(a=r),s},callback:t.isFunction(r)?function(){r(a)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,n){var r=0,o=this;if(this.findHighlightableChoices().each2(function(t,e){return i(o.id(e.data("select2-data")),o.opts.element.val())?(r=t,!1):void 0}),n!==!1&&(e===!0&&r>=0?this.highlight(r):this.highlight(0)),e===!0){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(C(t.results)>=a)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.close(),e&&e.noFocus||this.selection.focus(),i(n,this.id(t))||this.triggerChange({added:t,removed:r})}},updateSelection:function(t){var n,r,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),i.empty(),n=this.opts.formatSelection(t,i,this.opts.escapeMarkup),n!==e&&i.append(n),r=this.opts.formatSelectionCssClass(t,i),r!==e&&i.addClass(r),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")
},val:function(){var t,n=!1,r=null,i=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find(":selected").each2(function(t,e){return r=i.optionToData(e),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:o});else{if(!t&&0!==t)return this.clear(n),void 0;if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){i.opts.element.val(t?i.id(t):""),i.updateSelection(t),i.setPlaceholder(),n&&i.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t,n){var r;return 0===arguments.length?(r=this.selection.data("select2-data"),r==e&&(r=null),r):(t&&""!==t?(r=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:r})):this.clear(n),void 0)}}),j=k(A,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var r=[];t.find(":selected").each2(function(t,e){r.push(n.optionToData(e))}),e(r)}:"data"in e&&(e.initSelection=e.initSelection||function(n,r){var a=o(n.val(),e.separator),s=[];e.query({matcher:function(n,r,o){var u=t.grep(a,function(t){return i(t,e.id(o))}).length;return u&&s.push(o),u},callback:t.isFunction(r)?function(){for(var t=[],n=0;n<a.length;n++)for(var o=a[n],u=0;u<s.length;u++){var c=s[u];if(i(o,e.id(c))){t.push(c),s.splice(u,1);break}}r(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},initContainer:function(){var e,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(n);var r=this;this.selection.on("mousedown",".select2-search-choice",function(){r.search[0].focus(),r.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+q()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var n=e.find(".select2-search-choice-focus"),r=n.prev(".select2-search-choice:not(.select2-locked)"),i=n.next(".select2-search-choice:not(.select2-locked)"),o=p(this.search);if(n.length&&(t.which==E.LEFT||t.which==E.RIGHT||t.which==E.BACKSPACE||t.which==E.DELETE||t.which==E.ENTER)){var a=n;return t.which==E.LEFT&&r.length?a=r:t.which==E.RIGHT?a=i.length?i:null:t.which===E.BACKSPACE?(this.unselect(n.first()),this.search.width(10),a=r.length?r:i):t.which==E.DELETE?(this.unselect(n.first()),this.search.width(10),a=i.length?i:null):t.which==E.ENTER&&(a=null),this.selectChoice(a),d(t),a&&a.length||this.open(),void 0}if((t.which===E.BACKSPACE&&1==this.keydowns||t.which==E.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),d(t),void 0;if(this.selectChoice(null),this.opened())switch(t.which){case E.UP:case E.DOWN:return this.moveHighlight(t.which===E.UP?-1:1),d(t),void 0;case E.ENTER:return this.selectHighlighted(),d(t),void 0;case E.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case E.ESC:return this.cancel(t),d(t),void 0}if(t.which!==E.TAB&&!E.isControl(t)&&!E.isFunctionKey(t)&&t.which!==E.BACKSPACE&&t.which!==E.ESC){if(t.which===E.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===E.PAGE_UP||t.which===E.PAGE_DOWN)&&d(t),t.which===E.ENTER&&d(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),n=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var r=[],i=[],o=this;t(e).each(function(){n(o.id(this),r)<0&&(r.push(o.id(this)),i.push(this))}),e=i,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r,i,o=!n.locked,a=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=t("<li class='select2-search-choice select2-locked'><div></div></li>"),u=o?a:s,c=this.id(n),l=this.getVal();r=this.opts.formatSelection(n,u.find("div"),this.opts.escapeMarkup),r!=e&&u.find("div").replaceWith("<div>"+r+"</div>"),i=this.opts.formatSelectionCssClass(n,u.find("div")),i!=e&&u.addClass(i),o&&u.find(".select2-search-choice-close").on("mousedown",d).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),d(e))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),u.data("select2-data",n),u.insertBefore(this.searchContainer),l.push(c),this.setVal(l)},unselect:function(t){var e,r,i=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),e&&(r=n(this.id(e),i),r>=0&&(i.splice(r,1),this.setVal(i),this.select&&this.postprocessResults()),t.remove(),this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))},postprocessResults:function(t,e,r){var i=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),s=this;o.each2(function(t,e){var r=s.id(e.data("select2-data"));n(r,i)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&r!==!1&&s.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&_(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+s.opts.formatNoMatches(s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var t,e,n,r,i,o=a(this.search);t=m(this.search)+10,e=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(e-r)-o,t>i&&(i=n-o),40>i&&(i=n-o),0>=i&&(i=t),this.search.width(i)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),o(t,this.opts.separator))},setVal:function(e){var r;this.select?this.select.val(e):(r=[],t(e).each(function(){n(this,r)<0&&r.push(this)}),this.opts.element.val(0===r.length?"":r.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),n=0;n<e.length;n++)for(var r=0;r<t.length;r++)i(this.opts.id(e[n]),this.opts.id(t[r]))&&(e.splice(n,1),n--,t.splice(r,1),r--);return{added:e,removed:t}},val:function(n,r){var i,o=this;if(0===arguments.length)return this.getVal();if(i=this.data(),i.length||(i=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),r&&this.triggerChange({added:this.data(),removed:i}),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t.map(e,o.id);o.setVal(n),o.updateSelection(e),o.clearSearch(),r&&o.triggerChange(this.buildChangeDetails(i,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,n){var r,i,o=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(i=this.data(),e||(e=[]),r=t.map(e,function(t){return o.opts.id(t)}),this.setVal(r),this.updateSelection(e),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(i,this.data())),void 0)}}),t.fn.select2=function(){var r,i,o,a,s,u=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","readonly","positionDropdown","data","search"],l=["val","opened","isFocused","container","data"],h={search:"externalSearch"};return this.each(function(){if(0===u.length||"object"==typeof u[0])r=0===u.length?{}:t.extend({},u[0]),r.element=t(this),"select"===r.element.get(0).tagName.toLowerCase()?s=r.element.prop("multiple"):(s=r.multiple||!1,"tags"in r&&(r.multiple=s=!0)),i=s?new j:new N,i.init(r);else{if("string"!=typeof u[0])throw"Invalid arguments to select2 plugin: "+u;if(n(u[0],c)<0)throw"Unknown method: "+u[0];if(a=e,i=t(this).data("select2"),i===e)return;if(o=u[0],"container"===o?a=i.container:"dropdown"===o?a=i.dropdown:(h[o]&&(o=h[o]),a=i[o].apply(i,u.slice(1))),n(u[0],l)>=0)return!1}}),a===e?this:a},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,r){var i=[];return y(t.text,n.term,i,r),i.join("")},formatSelection:function(t,n,r){return t?r(t.text):e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatSelectionCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return(""+e).toUpperCase().indexOf((""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:b,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null}},t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:M,local:w,tags:x},util:{debounce:c,markMatch:y,escapeMarkup:b},"class":{"abstract":A,single:N,multi:j}}}}(jQuery),!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){r.trigger("closed").remove()}var r,i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r=t(o),e&&e.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(e=t.Event("close")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.on(t.support.transition.end,n):n())};var r=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var r=t(this),i=r.data("alert");i||r.data("alert",i=new n(this)),"string"==typeof e&&i[e].call(r)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var r=t(this),i=r.data("modal"),o=t.extend({},t.fn.modal.defaults,r.data(),"object"==typeof n&&n);i||r.data("modal",i=new e(this,o)),"string"==typeof n?i[n]():o.show&&i.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),r=n.attr("href"),i=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),n.data());e.preventDefault(),i.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),!function(t){"use strict";function e(){t(r).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,r=e.attr("data-target");return r||(r=e.attr("href"),r=r&&/#/.test(r)&&r.replace(/.*(?=#[^\s]*$)/,"")),n=r&&t(r),n&&n.length||(n=e.parent()),n}var r="[data-toggle=dropdown]",i=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(){var r,i,o=t(this);if(!o.is(".disabled, :disabled"))return r=n(o),i=r.hasClass("open"),e(),i||r.toggleClass("open"),o.focus(),!1},keydown:function(e){var i,o,a,s,u;if(/(38|40|27)/.test(e.keyCode)&&(i=t(this),e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled"))){if(a=n(i),s=a.hasClass("open"),!s||s&&27==e.keyCode)return 27==e.which&&a.find(r).focus(),i.click();o=t("[role=menu] li:not(.divider):visible a",a),o.length&&(u=o.index(o.filter(":focus")),38==e.keyCode&&u>0&&u--,40==e.keyCode&&u<o.length-1&&u++,~u||(u=0),o.eq(u).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),"string"==typeof e&&r[e].call(n)})},t.fn.dropdown.Constructor=i,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)}(window.jQuery),!function(t){"use strict";function e(e,n){var r,i=t.proxy(this.process,this),o=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(r=t(e).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,n=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),i=/^#\w/.test(r)&&t(r);return i&&i.length&&[[i.position().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,r=n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(e>=r)return a!=(t=o.last()[0])&&this.activate(t);for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(o[t])},activate:function(e){var n,r;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var r=t(this),i=r.data("scrollspy"),o="object"==typeof n&&n;i||r.data("scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,r,i=this.element,o=i.closest("ul:not(.dropdown-menu)"),a=i.attr("data-target");a||(a=i.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(e=o.find(".active:last a")[0],r=t.Event("show",{relatedTarget:e}),i.trigger(r),r.isDefaultPrevented()||(n=t(a),this.activate(i.parent("li"),o),this.activate(n,n.parent(),function(){i.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),a=r&&t.support.transition&&o.hasClass("fade");a?o.one(t.support.transition.end,i):i(),o.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var r=t(this),i=r.data("tab");i||r.data("tab",i=new e(this)),"string"==typeof n&&i[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,r){var i,o,a,s,u;for(this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.enabled=!0,a=this.options.trigger.split(" "),u=a.length;u--;)s=a[u],"click"==s?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=s&&(i="hover"==s?"mouseenter":"focus",o="hover"==s?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,r=t.fn[this.type].defaults,i={};return this._options&&t.each(this._options,function(t,e){r[t]!=e&&(i[t]=e)},this),n=t(e.currentTarget)[this.type](i).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var e,n,r,i,o,a,s=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),r=e[0].offsetWidth,i=e[0].offsetHeight,o){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":a={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":a={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":a={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,r,i,o,a=this.tip(),s=a[0].offsetWidth,u=a[0].offsetHeight;a.offset(t).addClass(e).addClass("in"),n=a[0].offsetWidth,r=a[0].offsetHeight,"top"==e&&r!=u&&(t.top=t.top+u-r,o=!0),"bottom"==e||"top"==e?(i=0,t.left<0&&(i=-2*t.left,t.left=0,a.offset(t),n=a[0].offsetWidth,r=a[0].offsetHeight),this.replaceArrow(i-s+n,n,"left")):this.replaceArrow(r-u,r,"top"),o&&a.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var n=this.tip(),r=t.Event("hide");return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var r=t(this),i=r.data("tooltip"),o="object"==typeof n&&n;i||r.data("tooltip",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var r=t(this),i=r.data("popover"),o="object"==typeof n&&n;i||r.data("popover",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";t+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var r=t(this),i=r.data("button"),o="object"==typeof n&&n;i||r.data("button",i=new e(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,r,i;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in"),r&&r.length){if(i=r.data("collapse"),i&&i.transitioning)return;
r.collapse("hide"),i||r.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,r){var i=this,o=function(){"show"==n.type&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var r=t(this),i=r.data("collapse"),o=t.extend({},t.fn.collapse.defaults,r.data(),"object"==typeof n&&n);i||r.data("collapse",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n,r=t(this),i=r.attr("data-target")||e.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=t(i).data("collapse")?"toggle":r.data();r[t(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(i).collapse(o)})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),r=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){r.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,n){var r,i=this.$element.find(".item.active"),o=n||i[e](),a=this.interval,s="next"==e?"left":"right",u="next"==e?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),o=o.length?o:this.$element.find(".item")[u](),r=t.Event("slide",{relatedTarget:o[0],direction:s}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(r),r.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),this.$element.one(t.support.transition.end,function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(r),r.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var r=t(this),i=r.data("carousel"),o=t.extend({},t.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:o.slide;i||r.data("carousel",i=new e(this,o)),"number"==typeof n?i.to(n):a?i[a]():o.interval&&i.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,r,i=t(this),o=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},o.data(),i.data());o.carousel(a),(r=i.attr("data-slide-to"))&&o.data("carousel").pause().to(r).cycle(),e.preventDefault()})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],r=[],i=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?r.push(e):i.push(e):n.push(e);return n.concat(r,i)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,r){return e=t(n.options.item).attr("data-value",r),e.find("a").html(n.highlighter(r)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),n=e.next();n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var r=t(this),i=r.data("typeahead"),o="object"==typeof n&&n;i||r.data("typeahead",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.options=t.extend({},t.fn.affix.defaults,n),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,n=t(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),o=this.options.offset,a=o.bottom,s=o.top,u="affix affix-top affix-bottom";"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom()),e=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=a&&i.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=r?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?i.top-r:null,this.$element.removeClass(u).addClass("affix"+(e?"-"+e:"")))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var r=t(this),i=r.data("affix"),o="object"==typeof n&&n;i||r.data("affix",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),d3=function(){function t(t){return null!=t&&!isNaN(t)}function e(t){return t.length}function n(t){for(var e=1;t*e%1;)e*=10;return e}function r(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(r){t.prototype=e}}function i(){}function o(){}function a(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function s(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,r=Aa.length;r>n;++n){var i=Aa[n]+e;if(i in t)return i}}function u(t){for(var e=-1,n=t.length,r=[];++e<n;)r.push(t[e]);return r}function c(t){return Array.prototype.slice.call(t)}function l(){}function h(){}function f(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new i;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function p(){ba.event.preventDefault()}function d(){for(var t,e=ba.event;t=e.sourceEvent;)e=t;return e}function g(t){for(var e=new h,n=0,r=arguments.length;++n<r;)e[arguments[n]]=f(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=ba.event;i.target=t,ba.event=i,e[i.type].apply(n,r)}finally{ba.event=o}}},e}function m(t){return qa(t,Ra),t}function v(t){return function(){return Da(t,this)}}function y(t){return function(){return Pa(t,this)}}function b(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ba.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function M(t){return t.trim().replace(/\s+/g," ")}function w(t){return new RegExp("(?:^|\\s+)"+ba.requote(t)+"(?:\\s+|$)","g")}function x(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=t.trim().split(/\s+/).map(_);var i=t.length;return"function"==typeof e?r:n}function _(t){var e=w(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",M(i+" "+t))):n.setAttribute("class",M(i.replace(e," ")))}}function S(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function C(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function T(t){return{__data__:t}}function k(t){return function(){return La(this,t)}}function E(t){return arguments.length||(t=ba.ascending),function(e,n){return!e-!n||t(e.__data__,n.__data__)}}function A(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],a=0,s=o.length;s>a;a++)(i=o[a])&&e(i,a,n);return t}function N(t){return qa(t,Fa),t}function j(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=u(e,Na(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ba.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),u=q;s>0&&(t=t.substring(0,s));var c=za.get(t);return c&&(t=c,u=$),s?e?i:r:e?l:o}function q(t,e){return function(n){var r=ba.event;ba.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ba.event=r}}}function $(t,e){var n=q(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function D(t){var e="selectstart."+t,n="dragstart."+t,r="click."+t,i=ba.select(xa).on(e,p).on(n,p),o=wa.style,a=o[Ba];return o[Ba]="none",function(t){function s(){i.on(r,null)}i.on(e,null).on(n,null),o[Ba]=a,t&&(i.on(r,function(){p(),s()},!0),setTimeout(s,0))}}function P(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Wa&&(xa.scrollX||xa.scrollY)){n=ba.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Wa=!(i.f||i.e),n.remove()}return Wa?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function H(){}function L(t,e,n){return new R(t,e,n)}function R(t,e,n){this.h=t,this.s=e,this.l=n}function O(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,ne(i(t+120),i(t),i(t-120))}function F(t){return t>0?1:0>t?-1:0}function I(t){return t>1?0:-1>t?Xa:Math.acos(t)}function z(t){return t>1?Xa/2:-1>t?-Xa/2:Math.asin(t)}function B(t){return(Math.exp(t)-Math.exp(-t))/2}function W(t){return(Math.exp(t)+Math.exp(-t))/2}function V(t){return(t=Math.sin(t/2))*t}function U(t,e,n){return new Q(t,e,n)}function Q(t,e,n){this.h=t,this.c=e,this.l=n}function J(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),X(n,Math.cos(t*=Ka)*e,Math.sin(t)*e)}function X(t,e,n){return new Y(t,e,n)}function Y(t,e,n){this.l=t,this.a=e,this.b=n}function G(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=Z(i)*ns,r=Z(r)*rs,o=Z(o)*is,ne(ee(3.2404542*i-1.5371385*r-.4985314*o),ee(-.969266*i+1.8760108*r+.041556*o),ee(.0556434*i-.2040259*r+1.0572252*o))}function K(t,e,n){return t>0?U(Math.atan2(n,e)*Za,Math.sqrt(e*e+n*n),t):U(0/0,0/0,t)}function Z(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function te(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ee(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ne(t,e,n){return new re(t,e,n)}function re(t,e,n){this.r=t,this.g=e,this.b=n}function ie(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function oe(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(ce(i[0]),ce(i[1]),ce(i[2]))}return(o=ss.get(t))?e(o.r,o.g,o.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(a=t.charAt(1),a+=a,s=t.charAt(2),s+=s,u=t.charAt(3),u+=u):7===t.length&&(a=t.substring(1,3),s=t.substring(3,5),u=t.substring(5,7)),a=parseInt(a,16),s=parseInt(s,16),u=parseInt(u,16)),e(a,s,u))}function ae(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=.5>u?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=0/0,i=u>0&&1>u?0:r),L(r,i,u)}function se(t,e,n){t=ue(t),e=ue(e),n=ue(n);var r=te((.4124564*t+.3575761*e+.1804375*n)/ns),i=te((.2126729*t+.7151522*e+.072175*n)/rs),o=te((.0193339*t+.119192*e+.9503041*n)/is);return X(116*i-16,500*(r-i),200*(i-o))}function ue(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ce(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function le(t){return"function"==typeof t?t:function(){return t}}function he(t){return t}function fe(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),pe(e,n,t,r)}}function pe(t,e,n,r){function i(){var t,e=u.status;if(!e&&u.responseText||e>=200&&300>e||304===e){try{t=n.call(o,u)}catch(r){return a.error.call(o,r),void 0}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=ba.dispatch("progress","load","error"),s={},u=new XMLHttpRequest,c=null;return!xa.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=ba.event;ba.event=t;try{a.progress.call(o,u)}finally{ba.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(Na(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var a in s)u.setRequestHeader(a,s[a]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},ba.rebind(o,a,"on"),null==r?o:o.get(de(r))}function de(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function ge(){var t=me(),e=ve()-t;e>24?(isFinite(e)&&(clearTimeout(hs),hs=setTimeout(ge,e)),ls=0):(ls=1,fs(ge))}function me(){for(var t=Date.now(),e=us;e;)t>=e.time&&(e.flush=e.callback(t-e.time)),e=e.next;return t}function ve(){for(var t,e=us,n=1/0;e;)e.flush?e=t?t.next=e.next:us=e.next:(e.time<n&&(n=e.time),e=(t=e).next);return cs=t,n}function ye(t,e){var n=Math.pow(10,3*Math.abs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function be(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Me(t){return t+""}function we(){}function xe(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function _e(t,e){t&&_s.hasOwnProperty(t.type)&&_s[t.type](t,e)}function Se(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1]);e.lineEnd()}function Ce(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Se(t[n],e,1);e.polygonEnd()}function Te(){function t(t,e){t*=Ka,e=e*Ka/2+Xa/4;var n=t-r,a=Math.cos(e),s=Math.sin(e),u=o*s,c=i*a+u*Math.cos(n),l=u*Math.sin(n);Cs.add(Math.atan2(l,c)),r=t,i=a,o=s}var e,n,r,i,o;Ts.point=function(a,s){Ts.point=t,r=(e=a)*Ka,i=Math.cos(s=(n=s)*Ka/2+Xa/4),o=Math.sin(s)},Ts.lineEnd=function(){t(e,n)}}function ke(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Ee(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ae(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ne(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function je(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function qe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function $e(t){return[Math.atan2(t[1],t[0]),z(t[2])]}function De(t,e){return Math.abs(t[0]-e[0])<Ya&&Math.abs(t[1]-e[1])<Ya}function Pe(t,e){t*=Ka;var n=Math.cos(e*=Ka);He(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function He(t,e,n){++ks,As+=(t-As)/ks,Ns+=(e-Ns)/ks,js+=(n-js)/ks}function Le(){function t(t,i){t*=Ka;var o=Math.cos(i*=Ka),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),c=Math.atan2(Math.sqrt((c=n*u-r*s)*c+(c=r*a-e*u)*c+(c=e*s-n*a)*c),e*a+n*s+r*u);Es+=c,qs+=c*(e+(e=a)),$s+=c*(n+(n=s)),Ds+=c*(r+(r=u)),He(e,n,r)}var e,n,r;Rs.point=function(i,o){i*=Ka;var a=Math.cos(o*=Ka);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Rs.point=t,He(e,n,r)}}function Re(){Rs.point=Pe}function Oe(){function t(t,e){t*=Ka;var n=Math.cos(e*=Ka),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),c=i*u-o*s,l=o*a-r*u,h=r*s-i*a,f=Math.sqrt(c*c+l*l+h*h),p=r*a+i*s+o*u,d=f&&-I(p)/f,g=Math.atan2(f,p);Ps+=d*c,Hs+=d*l,Ls+=d*h,Es+=g,qs+=g*(r+(r=a)),$s+=g*(i+(i=s)),Ds+=g*(o+(o=u)),He(r,i,o)}var e,n,r,i,o;Rs.point=function(a,s){e=a,n=s,Rs.point=t,a*=Ka;var u=Math.cos(s*=Ka);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),He(r,i,o)},Rs.lineEnd=function(){t(e,n),Rs.lineEnd=Re,Rs.point=Pe}}function Fe(){return!0}function Ie(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(De(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return i.lineEnd(),void 0}var u={point:n,points:t,other:null,visited:!1,entry:!0,subject:!0},c={point:n,points:[n],other:u,visited:!1,entry:!1,subject:!1};u.other=c,o.push(u),a.push(c),u={point:r,points:[r],other:null,visited:!1,entry:!1,subject:!0},c={point:r,points:[r],other:u,visited:!1,entry:!0,subject:!1},u.other=c,o.push(u),a.push(c)}}),a.sort(e),ze(o),ze(a),o.length){if(n)for(var s=1,u=!n(a[0].point),c=a.length;c>s;++s)a[s].entry=u=!u;for(var l,h,f,p=o[0];;){for(l=p;l.visited;)if((l=l.next)===p)return;h=l.points,i.lineStart();do{if(l.visited=l.other.visited=!0,l.entry){if(l.subject)for(var s=0;s<h.length;s++)i.point((f=h[s])[0],f[1]);else r(l.point,l.next.point,1,i);l=l.next}else{if(l.subject){h=l.prev.points;for(var s=h.length;--s>=0;)i.point((f=h[s])[0],f[1])}else r(l.point,l.prev.point,-1,i);l=l.prev}l=l.other,h=l.points}while(!l.visited);i.lineEnd()}}}function ze(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.next=n=t[r],n.prev=i,i=n;i.next=n=t[0],n.prev=i}}function Be(t,e,n,r){return function(i){function o(e,n){t(e,n)&&i.point(e,n)}function a(t,e){g.point(t,e)}function s(){m.point=a,g.lineStart()}function u(){m.point=o,g.lineEnd()}function c(t,e){y.point(t,e),d.push([t,e])}function l(){y.lineStart(),d=[]}function h(){c(d[0][0],d[0][1]),y.lineEnd();var t,e=y.clean(),n=v.buffer(),r=n.length;if(d.pop(),p.push(d),d=null,r){if(1&e){t=n[0];var o,r=t.length-1,a=-1;for(i.lineStart();++a<r;)i.point((o=t[a])[0],o[1]);return i.lineEnd(),void 0}r>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(We))}}var f,p,d,g=e(i),m={point:o,lineStart:s,lineEnd:u,polygonStart:function(){m.point=c,m.lineStart=l,m.lineEnd=h,f=[],p=[],i.polygonStart()},polygonEnd:function(){m.point=o,m.lineStart=s,m.lineEnd=u,f=ba.merge(f),f.length?Ie(f,Ue,null,n,i):r(p)&&(i.lineStart(),n(null,null,1,i),i.lineEnd()),i.polygonEnd(),f=p=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},v=Ve(),y=e(v);return m}}function We(t){return t.length>1}function Ve(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:l,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ue(t,e){return((t=t.point)[0]<0?t[1]-Xa/2-Ya:Xa/2-t[1])-((e=e.point)[0]<0?e[1]-Xa/2-Ya:Xa/2-e[1])}function Qe(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=!1,s=!1,u=0;Cs.reset();for(var c=0,l=e.length;l>c;++c){var h=e[c],f=h.length;if(f){for(var p=h[0],d=p[0],g=p[1]/2+Xa/4,m=Math.sin(g),v=Math.cos(g),y=1;;){y===f&&(y=0),t=h[y];var b=t[0],M=t[1]/2+Xa/4,w=Math.sin(M),x=Math.cos(M),_=b-d,S=Math.abs(_)>Xa,C=m*w;if(Cs.add(Math.atan2(C*Math.sin(_),v*x+C*Math.cos(_))),Math.abs(M)<Ya&&(s=!0),o+=S?_+(_>=0?2:-2)*Xa:_,S^d>=n^b>=n){var T=Ae(ke(p),ke(t));qe(T);var k=Ae(i,T);qe(k);var E=(S^_>=0?-1:1)*z(k[2]);r>E&&(u+=S^_>=0?1:-1)}if(!y++)break;d=b,m=w,v=x,p=t}Math.abs(o)>Ya&&(a=!0)}}return(!s&&!a&&0>Cs||-Ya>o)^1&u}function Je(t){var e,n=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Xa:-Xa,u=Math.abs(o-n);Math.abs(u-Xa)<Ya?(t.point(n,r=(r+a)/2>0?Xa/2:-Xa/2),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Xa&&(Math.abs(n-i)<Ya&&(n-=i*Ya),Math.abs(o-s)<Ya&&(o-=s*Ya),r=Xe(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=0/0},clean:function(){return 2-e}}}function Xe(t,e,n,r){var i,o,a=Math.sin(t-n);return Math.abs(a)>Ya?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Ye(t,e,n,r){var i;if(null==t)i=n*Xa/2,r.point(-Xa,i),r.point(0,i),r.point(Xa,i),r.point(Xa,0),r.point(Xa,-i),r.point(0,-i),r.point(-Xa,-i),r.point(-Xa,0),r.point(-Xa,i);else if(Math.abs(t[0]-e[0])>Ya){var o=(t[0]<e[0]?1:-1)*Xa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Ge(t){return Qe(Fs,t)}function Ke(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,o,a,u,l;return{lineStart:function(){u=a=!1,l=1},point:function(h,f){var p,d=[h,f],g=e(h,f),m=s?g?0:i(h,f):g?i(h+(0>h?Xa:-Xa),f):0;if(!n&&(u=a=g)&&t.lineStart(),g!==a&&(p=r(n,d),(De(n,p)||De(d,p))&&(d[0]+=Ya,d[1]+=Ya,g=e(d[0],d[1]))),g!==a)l=0,g?(t.lineStart(),p=r(d,n),t.point(p[0],p[1])):(p=r(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(c&&n&&s^g){var v;m&o||!(v=r(d,n,!0))||(l=0,s?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&De(n,d)||t.point(d[0],d[1]),n=d,a=g,o=m},lineEnd:function(){a&&t.lineEnd(),n=null},clean:function(){return l|(u&&a)<<1}}}function r(t,e,n){var r=ke(t),i=ke(e),o=[1,0,0],s=Ae(r,i),u=Ee(s,s),c=s[0],l=u-c*c;if(!l)return!n&&t;var h=a*u/l,f=-a*c/l,p=Ae(o,s),d=je(o,h),g=je(s,f);Ne(d,g);var m=p,v=Ee(d,m),y=Ee(m,m),b=v*v-y*(Ee(d,d)-1);if(!(0>b)){var M=Math.sqrt(b),w=je(m,(-v-M)/y);if(Ne(w,d),w=$e(w),!n)return w;var x,_=t[0],S=e[0],C=t[1],T=e[1];_>S&&(x=_,_=S,S=x);var k=S-_,E=Math.abs(k-Xa)<Ya,A=E||Ya>k;if(!E&&C>T&&(x=C,C=T,T=x),A?E?C+T>0^w[1]<(Math.abs(w[0]-_)<Ya?C:T):C<=w[1]&&w[1]<=T:k>Xa^(_<=w[0]&&w[0]<=S)){var N=je(m,(-v+M)/y);return Ne(N,d),[w,$e(N)]}}}function i(e,n){var r=s?t:Xa-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}function o(t){return Qe(u,t)}var a=Math.cos(t),s=a>0,u=[t,0],c=Math.abs(a)>Ya,l=Sn(t,6*Ka);return Be(e,n,l,o)}function Ze(t,e,n,r){function i(r,i){return Math.abs(r[0]-t)<Ya?i>0?0:3:Math.abs(r[0]-n)<Ya?i>0?2:1:Math.abs(r[1]-e)<Ya?i>0?1:0:i>0?3:2}function o(t,e){return a(t.point,e.point)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}function s(i,o){var a=o[0]-i[0],s=o[1]-i[1],u=[0,1];return Math.abs(a)<Ya&&Math.abs(s)<Ya?t<=i[0]&&i[0]<=n&&e<=i[1]&&i[1]<=r:tn(t-i[0],a,u)&&tn(i[0]-n,-a,u)&&tn(e-i[1],s,u)&&tn(i[1]-r,-s,u)?(u[1]<1&&(o[0]=i[0]+u[1]*a,o[1]=i[1]+u[1]*s),u[0]>0&&(i[0]+=u[0]*a,i[1]+=u[0]*s),!0):!1}return function(u){function c(o){var a=i(o,-1),s=l([0===a||3===a?t:n,a>1?r:e]);return s}function l(t){for(var e=0,n=b.length,r=t[1],i=0;n>i;++i)for(var o,a=1,s=b[i],u=s.length,c=s[0];u>a;++a)o=s[a],c[1]<=r?o[1]>r&&h(c,o,t)>0&&++e:o[1]<=r&&h(c,o,t)<0&&--e,c=o;return 0!==e}function h(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function f(o,s,u,c){var l=0,h=0;if(null==o||(l=i(o,u))!==(h=i(s,u))||a(o,s)<0^u>0){do c.point(0===l||3===l?t:n,l>1?r:e);while((l=(l+u+4)%4)!==h)}else c.point(s[0],s[1])}function p(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function d(t,e){p(t,e)&&u.point(t,e)}function g(){N.point=v,b&&b.push(M=[]),k=!0,T=!1,S=C=0/0}function m(){y&&(v(w,x),_&&T&&A.rejoin(),y.push(A.buffer())),N.point=d,T&&u.lineEnd()}function v(t,e){t=Math.max(-Is,Math.min(Is,t)),e=Math.max(-Is,Math.min(Is,e));var n=p(t,e);if(b&&M.push([t,e]),k)w=t,x=e,_=n,k=!1,n&&(u.lineStart(),u.point(t,e));else if(n&&T)u.point(t,e);else{var r=[S,C],i=[t,e];s(r,i)?(T||(u.lineStart(),u.point(r[0],r[1])),u.point(i[0],i[1]),n||u.lineEnd()):n&&(u.lineStart(),u.point(t,e))}S=t,C=e,T=n}var y,b,M,w,x,_,S,C,T,k,E=u,A=Ve(),N={point:d,lineStart:g,lineEnd:m,polygonStart:function(){u=A,y=[],b=[]},polygonEnd:function(){u=E,(y=ba.merge(y)).length?(u.polygonStart(),Ie(y,o,c,f,u),u.polygonEnd()):l([t,e])&&(u.polygonStart(),u.lineStart(),f(null,null,1,u),u.lineEnd(),u.polygonEnd()),y=b=M=null}};return N}}function tn(t,e,n){if(Math.abs(e)<Ya)return 0>=t;var r=t/e;if(e>0){if(r>n[1])return!1;r>n[0]&&(n[0]=r)}else{if(r<n[0])return!1;r<n[1]&&(n[1]=r)}return!0}function en(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function nn(t){var e=0,n=Xa/3,r=vn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Xa/180,n=t[1]*Xa/180):[180*(e/Xa),180*(n/Xa)]},i}function rn(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,z((o-(t*t+n*n)*i*i)/(2*i))]},n}function on(){function t(t,e){Bs+=i*t-r*e,r=t,i=e}var e,n,r,i;Js.point=function(o,a){Js.point=t,e=r=o,n=i=a},Js.lineEnd=function(){t(e,n)}}function an(t,e){Ws>t&&(Ws=t),t>Us&&(Us=t),Vs>e&&(Vs=e),e>Qs&&(Qs=e)}function sn(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=un(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=un(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function un(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function cn(t,e){As+=t,Ns+=e,++js}function ln(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);qs+=a*(e+t)/2,$s+=a*(n+r)/2,Ds+=a,cn(e=t,n=r)}var e,n;Ys.point=function(r,i){Ys.point=t,cn(e=r,n=i)}}function hn(){Ys.point=cn}function fn(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);qs+=a*(r+t)/2,$s+=a*(i+e)/2,Ds+=a,a=i*t-r*e,Ps+=a*(r+t),Hs+=a*(i+e),Ls+=3*a,cn(r=t,i=e)}var e,n,r,i;Ys.point=function(o,a){Ys.point=t,cn(e=r=o,n=i=a)},Ys.lineEnd=function(){t(e,n)}}function pn(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,a,0,2*Xa)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:l};return s}function dn(t){function e(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){b=0/0,S.point=a,e.lineStart()}function a(r,i){var a=ke([r,i]),s=t(r,i);
n(b,M,y,w,x,_,b=s[0],M=s[1],y=r,w=a[0],x=a[1],_=a[2],o,e),e.point(b,M)}function s(){S.point=r,e.lineEnd()}function u(){i(),S.point=c,S.lineEnd=l}function c(t,e){a(h=t,f=e),p=b,d=M,g=w,m=x,v=_,S.point=a}function l(){n(b,M,y,w,x,_,p,d,h,g,m,v,o,e),S.lineEnd=s,s()}var h,f,p,d,g,m,v,y,b,M,w,x,_,S={point:r,lineStart:i,lineEnd:s,polygonStart:function(){e.polygonStart(),S.lineStart=u},polygonEnd:function(){e.polygonEnd(),S.lineStart=i}};return S}function n(e,o,a,s,u,c,l,h,f,p,d,g,m,v){var y=l-e,b=h-o,M=y*y+b*b;if(M>4*r&&m--){var w=s+p,x=u+d,_=c+g,S=Math.sqrt(w*w+x*x+_*_),C=Math.asin(_/=S),T=Math.abs(Math.abs(_)-1)<Ya?(a+f)/2:Math.atan2(x,w),k=t(T,C),E=k[0],A=k[1],N=E-e,j=A-o,q=b*N-y*j;(q*q/M>r||Math.abs((y*N+b*j)/M-.5)>.3||i>s*p+u*d+c*g)&&(n(e,o,a,s,u,c,E,A,T,w/=S,x/=S,_,m,v),v.point(E,A),n(E,A,T,w,x,_,l,h,f,p,d,g,m,v))}}var r=.5,i=Math.cos(30*Ka),o=16;return e.precision=function(t){return arguments.length?(o=(r=t*t)>0&&16,e):Math.sqrt(r)},e}function gn(t){var e=dn(function(e,n){return t([e*Za,n*Za])});return function(t){return t=e(t),{point:function(e,n){t.point(e*Ka,n*Ka)},sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}}function mn(t){return vn(function(){return t})()}function vn(t){function e(t){return t=s(t[0]*Ka,t[1]*Ka),[t[0]*f+u,c-t[1]*f]}function n(t){return t=s.invert((t[0]-u)/f,(c-t[1])/f),t&&[t[0]*Za,t[1]*Za]}function r(){s=en(a=Mn(v,y,b),o);var t=o(g,m);return u=p-t[0]*f,c=d+t[1]*f,i()}function i(){return l&&(l.valid=!1,l=null),e}var o,a,s,u,c,l,h=dn(function(t,e){return t=o(t,e),[t[0]*f+u,c-t[1]*f]}),f=150,p=480,d=250,g=0,m=0,v=0,y=0,b=0,M=Os,w=he,x=null,_=null;return e.stream=function(t){return l&&(l.valid=!1),l=yn(a,M(h(w(t)))),l.valid=!0,l},e.clipAngle=function(t){return arguments.length?(M=null==t?(x=t,Os):Ke((x=+t)*Ka),i()):x},e.clipExtent=function(t){return arguments.length?(_=t,w=null==t?he:Ze(t[0][0],t[0][1],t[1][0],t[1][1]),i()):_},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(p=+t[0],d=+t[1],r()):[p,d]},e.center=function(t){return arguments.length?(g=t[0]%360*Ka,m=t[1]%360*Ka,r()):[g*Za,m*Za]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ka,y=t[1]%360*Ka,b=t.length>2?t[2]%360*Ka:0,r()):[v*Za,y*Za,b*Za]},ba.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function yn(t,e){return{point:function(n,r){r=t(n*Ka,r*Ka),n=r[0],e.point(n>Xa?n-2*Xa:-Xa>n?n+2*Xa:n,r[1])},sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function bn(t,e){return[t,e]}function Mn(t,e,n){return t?e||n?en(xn(t),_n(e,n)):xn(t):e||n?_n(e,n):bn}function wn(t){return function(e,n){return e+=t,[e>Xa?e-2*Xa:-Xa>e?e+2*Xa:e,n]}}function xn(t){var e=wn(t);return e.invert=wn(-t),e}function _n(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*r+s*i;return[Math.atan2(u*o-l*a,s*r-c*i),z(l*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*o-u*a;return[Math.atan2(u*o+c*a,s*r+l*i),z(l*r-s*i)]},n}function Sn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){null!=i?(i=Cn(n,i),o=Cn(n,o),(a>0?o>i:i>o)&&(i+=2*a*Xa)):(i=t+2*a*Xa,o=t);for(var u,c=a*e,l=i;a>0?l>o:o>l;l-=c)s.point((u=$e([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],u[1])}}function Cn(t,e){var n=ke(e);n[0]-=t,qe(n);var r=I(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ya)%(2*Math.PI)}function Tn(t,e,n){var r=ba.range(t,e-Ya,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function kn(t,e,n){var r=ba.range(t,e-Ya,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function En(t){return t.source}function An(t){return t.target}function Nn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),c=i*Math.sin(t),l=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(V(r-e)+i*a*V(n-t))),p=1/Math.sin(f),d=f?function(t){var e=Math.sin(t*=f)*p,n=Math.sin(f-t)*p,r=n*u+e*l,i=n*c+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Za,Math.atan2(a,Math.sqrt(r*r+i*i))*Za]}:function(){return[t*Za,e*Za]};return d.distance=f,d}function jn(){function t(t,i){var o=Math.sin(i*=Ka),a=Math.cos(i),s=Math.abs((t*=Ka)-e),u=Math.cos(s);Gs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;Ks.point=function(i,o){e=i*Ka,n=Math.sin(o*=Ka),r=Math.cos(o),Ks.point=t},Ks.lineEnd=function(){Ks.point=Ks.lineEnd=l}}function qn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function $n(t,e){function n(t,e){var n=Math.abs(Math.abs(e)-Xa/2)<Ya?0:a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Xa/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=F(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Xa/2]},n):Pn}function Dn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return Math.abs(i)<Ya?bn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-F(i)*Math.sqrt(t*t+n*n)]},n)}function Pn(t,e){return[t,Math.log(Math.tan(Xa/4+e/2))]}function Hn(t){var e,n=mn(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Xa*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Ln(t,e){var n=Math.cos(e)*Math.sin(t);return[Math.log((1+n)/(1-n))/2,Math.atan2(Math.tan(e),Math.cos(t))]}function Rn(t){function e(e){function a(){c.push("M",o(t(l),s))}for(var u,c=[],l=[],h=-1,f=e.length,p=le(n),d=le(r);++h<f;)i.call(this,u=e[h],h)?l.push([+p.call(this,u,h),+d.call(this,u,h)]):l.length&&(a(),l=[]);return l.length&&a(),c.length?c.join(""):null}var n=On,r=Fn,i=Fe,o=In,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=iu.get(t)||In).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function On(t){return t[0]}function Fn(t){return t[1]}function In(t){return t.join("L")}function zn(t){return In(t)+"Z"}function Bn(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Wn(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Vn(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Un(t,e){return t.length<4?In(t):t[1]+Xn(t.slice(1,t.length-1),Yn(t,e))}function Qn(t,e){return t.length<3?In(t):t[0]+Xn((t.push(t[0]),t),Yn([t[t.length-2]].concat(t,[t[1]]),e))}function Jn(t,e){return t.length<3?In(t):t[0]+Xn(t,Yn(t,e))}function Xn(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return In(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,u++)o=t[u],s=e[c],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var l=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+l[0]+","+l[1]}return r}function Yn(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Gn(t){if(t.length<3)return In(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o];for(nr(u,a,s);++e<n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),nr(u,a,s);for(e=-1;++e<2;)a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),nr(u,a,s);return u.join("")}function Kn(t){if(t.length<4)return In(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(er(su,o)+","+er(su,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),nr(n,o,a);return n.join("")}function Zn(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[er(su,a),",",er(su,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),nr(e,a,s);return e.join("")}function tr(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,c=-1;++c<=n;)r=t[c],i=c/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Gn(t)}function er(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function nr(t,e,n){t.push("C",er(ou,e),",",er(ou,n),",",er(au,e),",",er(au,n),",",er(su,e),",",er(su,n))}function rr(t,e){return(e[1]-t[1])/(e[0]-t[0])}function ir(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=rr(i,o);++e<n;)r[e]=(a+(a=rr(i=o,o=t[e+1])))/2;return r[e]=a,r}function or(t){for(var e,n,r,i,o=[],a=ir(t),s=-1,u=t.length-1;++s<u;)e=rr(t[s],t[s+1]),Math.abs(e)<1e-6?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function ar(t){return t.length<3?In(t):t[0]+Xn(t,or(t))}function sr(t,e,n,r){var i,o,a,s,u,c,l;return i=r[t],o=i[0],a=i[1],i=r[e],s=i[0],u=i[1],i=r[n],c=i[0],l=i[1],(l-a)*(s-o)-(u-a)*(c-o)>0}function ur(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function cr(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],c=n[1],l=e[1]-u,h=r[1]-c,f=(s*(u-c)-h*(i-o))/(h*a-s*l);return[i+f*a,u+f*l]}function lr(t,e){var n={list:t.map(function(t,e){return{index:e,x:t[0],y:t[1]}}).sort(function(t,e){return t.y<e.y?-1:t.y>e.y?1:t.x<e.x?-1:t.x>e.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l"),r.rightEnd=r.createHalfEdge(null,"l"),r.leftEnd.r=r.rightEnd,r.rightEnd.l=r.leftEnd,r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(t,e){return{edge:t,side:e,vertex:null,l:null,r:null}},insert:function(t,e){e.l=t,e.r=t.r,t.r.l=e,t.r=e},leftBound:function(t){var e=r.leftEnd;do e=e.r;while(e!=r.rightEnd&&i.rightOf(e,t));return e=e.l},del:function(t){t.l.r=t.r,t.r.l=t.l,t.edge=null},right:function(t){return t.r},left:function(t){return t.l},leftRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[t.side]},rightRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[uu[t.side]]}},i={bisect:function(t,e){var n={region:{l:t,r:e},ep:{l:null,r:null}},r=e.x-t.x,i=e.y-t.y,o=r>0?r:-r,a=i>0?i:-i;return n.c=t.x*r+t.y*i+.5*(r*r+i*i),o>a?(n.a=1,n.b=i/r,n.c/=r):(n.b=1,n.a=r/i,n.c/=i),n},intersect:function(t,e){var n=t.edge,r=e.edge;if(!n||!r||n.region.r==r.region.r)return null;var i=n.a*r.b-n.b*r.a;if(Math.abs(i)<1e-10)return null;var o,a,s=(n.c*r.b-r.c*n.b)/i,u=(r.c*n.a-n.c*r.a)/i,c=n.region.r,l=r.region.r;c.y<l.y||c.y==l.y&&c.x<l.x?(o=t,a=n):(o=e,a=r);var h=s>=a.region.r.x;return h&&"l"===o.side||!h&&"r"===o.side?null:{x:s,y:u}},rightOf:function(t,e){var n=t.edge,r=n.region.r,i=e.x>r.x;if(i&&"l"===t.side)return 1;if(!i&&"r"===t.side)return 0;if(1===n.a){var o=e.y-r.y,a=e.x-r.x,s=0,u=0;if(!i&&n.b<0||i&&n.b>=0?u=s=o>=n.b*a:(u=e.x+e.y*n.b>n.c,n.b<0&&(u=!u),u||(s=1)),!s){var c=r.x-n.region.l.x;u=n.b*(a*a-o*o)<c*o*(1+2*a/c+n.b*n.b),n.b<0&&(u=!u)}}else{var l=n.c-n.a*e.x,h=e.y-l,f=e.x-r.x,p=l-r.y;u=h*h>f*f+p*p}return"l"===t.side?u:!u},endPoint:function(t,n,r){t.ep[n]=r,t.ep[uu[n]]&&e(t)},distance:function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}},o={list:[],insert:function(t,e,n){t.vertex=e,t.ystar=e.y+n;for(var r=0,i=o.list,a=i.length;a>r;r++){var s=i[r];if(!(t.ystar>s.ystar||t.ystar==s.ystar&&e.x>s.vertex.x))break}i.splice(r,0,t)},del:function(t){for(var e=0,n=o.list,r=n.length;r>e&&n[e]!=t;++e);n.splice(e,1)},empty:function(){return 0===o.list.length},nextEvent:function(t){for(var e=0,n=o.list,r=n.length;r>e;++e)if(n[e]==t)return n[e+1];return null},min:function(){var t=o.list[0];return{x:t.vertex.x,y:t.ystar}},extractMin:function(){return o.list.shift()}};r.init(),n.bottomSite=n.list.shift();for(var a,s,u,c,l,h,f,p,d,g,m,v,y,b=n.list.shift();;)if(o.empty()||(a=o.min()),b&&(o.empty()||b.y<a.y||b.y==a.y&&b.x<a.x))s=r.leftBound(b),u=r.right(s),f=r.rightRegion(s),v=i.bisect(f,b),h=r.createHalfEdge(v,"l"),r.insert(s,h),g=i.intersect(s,h),g&&(o.del(s),o.insert(s,g,i.distance(g,b))),s=h,h=r.createHalfEdge(v,"r"),r.insert(s,h),g=i.intersect(h,u),g&&o.insert(h,g,i.distance(g,b)),b=n.list.shift();else{if(o.empty())break;s=o.extractMin(),c=r.left(s),u=r.right(s),l=r.right(u),f=r.leftRegion(s),p=r.rightRegion(u),m=s.vertex,i.endPoint(s.edge,s.side,m),i.endPoint(u.edge,u.side,m),r.del(s),o.del(u),r.del(u),y="l",f.y>p.y&&(d=f,f=p,p=d,y="r"),v=i.bisect(f,p),h=r.createHalfEdge(v,y),r.insert(c,h),i.endPoint(v,uu[y],m),g=i.intersect(c,h),g&&(o.del(c),o.insert(c,g,i.distance(g,f))),g=i.intersect(h,l),g&&o.insert(h,g,i.distance(g,f))}for(s=r.right(r.leftEnd);s!=r.rightEnd;s=r.right(s))e(s.edge)}function hr(t){return t.x}function fr(t){return t.y}function pr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&dr(t,u[0],n,r,a,s),u[1]&&dr(t,u[1],a,r,i,s),u[2]&&dr(t,u[2],n,s,a,o),u[3]&&dr(t,u[3],a,s,i,o)}}function gr(t,e){t=ba.rgb(t),e=ba.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+ie(Math.round(n+o*t))+ie(Math.round(r+a*t))+ie(Math.round(i+s*t))}}function mr(t){var e=[t.a,t.b],n=[t.c,t.d],r=yr(e),i=vr(e,n),o=yr(br(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Za,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Za:0}function vr(t,e){return t[0]*e[0]+t[1]*e[1]}function yr(t){var e=Math.sqrt(vr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function br(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Mr(t,e){return e-=t=+t,function(n){return t+e*n}}function wr(t,e){var n,r=[],i=[],o=ba.transform(t),a=ba.transform(e),s=o.translate,u=a.translate,c=o.rotate,l=a.rotate,h=o.skew,f=a.skew,p=o.scale,d=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:Mr(s[0],u[0])},{i:3,x:Mr(s[1],u[1])})):u[0]||u[1]?r.push("translate("+u+")"):r.push(""),c!=l?(c-l>180?l+=360:l-c>180&&(c+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:Mr(c,l)})):l&&r.push(r.pop()+"rotate("+l+")"),h!=f?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:Mr(h,f)}):f&&r.push(r.pop()+"skewX("+f+")"),p[0]!=d[0]||p[1]!=d[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:Mr(p[0],d[0])},{i:n-2,x:Mr(p[1],d[1])})):(1!=d[0]||1!=d[1])&&r.push(r.pop()+"scale("+d+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function xr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=Cr(n)(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function _r(t,e){var n,r,i,o,a,s=0,u=0,c=[],l=[];for(t+="",e+="",lu.lastIndex=0,r=0;n=lu.exec(e);++r)n.index&&c.push(e.substring(s,u=n.index)),l.push({i:c.length,x:n[0]}),c.push(null),s=lu.lastIndex;for(s<e.length&&c.push(e.substring(s)),r=0,o=l.length;(n=lu.exec(t))&&o>r;++r)if(a=l[r],a.x==n[0]){if(a.i)if(null==c[a.i+1])for(c[a.i-1]+=a.x,c.splice(a.i,1),i=r+1;o>i;++i)l[i].i--;else for(c[a.i-1]+=a.x+c[a.i+1],c.splice(a.i,2),i=r+1;o>i;++i)l[i].i-=2;else if(null==c[a.i+1])c[a.i]=a.x;else for(c[a.i]=a.x+c[a.i+1],c.splice(a.i+1,1),i=r+1;o>i;++i)l[i].i--;l.splice(r,1),o--,r--}else a.x=Mr(parseFloat(n[0]),parseFloat(a.x));for(;o>r;)a=l.pop(),null==c[a.i+1]?c[a.i]=a.x:(c[a.i]=a.x+c[a.i+1],c.splice(a.i+1,1)),o--;return 1===c.length?null==c[0]?(a=l[0].x,function(t){return a(t)+""}):function(){return e}:function(t){for(r=0;o>r;++r)c[(a=l[r]).i]=a.x(t);return c.join("")}}function Sr(t,e){for(var n,r=ba.interpolators.length;--r>=0&&!(n=ba.interpolators[r](t,e)););return n}function Cr(t){return"transform"==t?wr:Sr}function Tr(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(Sr(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;a>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function kr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Er(t){return function(e){return 1-t(1-e)}}function Ar(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Nr(t){return t*t}function jr(t){return t*t*t}function qr(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function $r(t){return function(e){return Math.pow(e,t)}}function Dr(t){return 1-Math.cos(t*Xa/2)}function Pr(t){return Math.pow(2,10*(t-1))}function Hr(t){return 1-Math.sqrt(1-t*t)}function Lr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/(2*Xa)*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,10*-r)*Math.sin(2*(r-n)*Xa/e)}}function Rr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Or(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Fr(t,e){t=ba.hcl(t),e=ba.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return J(n+o*t,r+a*t,i+s*t)+""}}function Ir(t,e){t=ba.hsl(t),e=ba.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return O(n+o*t,r+a*t,i+s*t)+""}}function zr(t,e){t=ba.lab(t),e=ba.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return G(n+o*t,r+a*t,i+s*t)+""}}function Br(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Wr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function Vr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function Ur(t){for(var e=t.source,n=t.target,r=Jr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Qr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Jr(t,e){if(t===e)return t;for(var n=Qr(t),r=Qr(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Xr(t){t.fixed|=2}function Yr(t){t.fixed&=-7}function Gr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Kr(t){t.fixed&=-5}function Zr(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(Zr(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ti(t,e){return ba.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ii,t}function ei(t){return t.children}function ni(t){return t.value}function ri(t,e){return e.value-t.value}function ii(t){return ba.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function oi(t){return t.x}function ai(t){return t.y}function si(t,e,n){t.y0=e,t.y=n}function ui(t){return ba.range(t.length)}function ci(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function li(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function hi(t){return t.reduce(fi,0)}function fi(t,e){return t+e[1]}function pi(t,e){return di(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function di(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function gi(t){return[ba.min(t),ba.max(t)]}function mi(t,e){return t.parent==e.parent?1:2}function vi(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function yi(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function bi(t,e){var n=t.children;if(n&&(i=n.length))for(var r,i,o=-1;++o<i;)e(r=bi(n[o],e),t)>0&&(t=r);return t}function Mi(t,e){return t.x-e.x}function wi(t,e){return e.x-t.x}function xi(t,e){return t.depth-e.depth}function _i(t,e){function n(t,r){var i=t.children;if(i&&(a=i.length))for(var o,a,s=null,u=-1;++u<a;)o=i[u],n(o,s),s=o;e(t,r)}n(t,null)}function Si(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o]._tree,e.prelim+=n,e.mod+=n,n+=e.shift+(r+=e.change)}function Ci(t,e,n){t=t._tree,e=e._tree;var r=n/(e.number-t.number);t.change+=r,e.change-=r,e.shift+=n,e.prelim+=n,e.mod+=n}function Ti(t,e,n){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:n}function ki(t,e){return t.value-e.value}function Ei(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ai(t,e){t._pack_next=e,e._pack_prev=t}function Ni(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function ji(t){function e(t){l=Math.min(t.x-t.r,l),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),p=Math.max(t.y+t.r,p)}if((n=t.children)&&(c=n.length)){var n,r,i,o,a,s,u,c,l=1/0,h=-1/0,f=1/0,p=-1/0;if(n.forEach(qi),r=n[0],r.x=-r.r,r.y=0,e(r),c>1&&(i=n[1],i.x=i.r,i.y=0,e(i),c>2))for(o=n[2],Pi(r,i,o),e(o),Ei(r,o),r._pack_prev=o,Ei(o,i),i=r._pack_next,a=3;c>a;a++){Pi(r,i,o=n[a]);var d=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Ni(s,o)){d=1;break}if(1==d)for(u=r._pack_prev;u!==s._pack_prev&&!Ni(u,o);u=u._pack_prev,m++);d?(m>g||g==m&&i.r<r.r?Ai(r,i=s):Ai(r=u,i),a--):(Ei(r,o),i=o,e(o))}var v=(l+h)/2,y=(f+p)/2,b=0;for(a=0;c>a;a++)o=n[a],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach($i)}}function qi(t){t._pack_next=t._pack_prev=t}function $i(t){delete t._pack_next,delete t._pack_prev}function Di(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Di(i[o],e,n,r)}function Pi(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+c*o,n.y=t.y+u*o-c*i}else n.x=t.x+r,n.y=t.y}function Hi(t){return 1+ba.max(t,function(t){return t.y})}function Li(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Ri(t){var e=t.children;return e&&e.length?Ri(e[0]):t}function Oi(t){var e,n=t.children;return n&&(e=n.length)?Oi(n[e-1]):t}function Fi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ii(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function zi(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Bi(t){return t.rangeExtent?t.rangeExtent():zi(t.range())}function Wi(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Vi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Ui(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:bu}function Qi(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=ba.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function Ji(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Qi:Wi,u=r?Vr:Wr;return a=i(t,e,u,n),s=i(e,t,u,Sr),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Br)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Zi(t,e)},o.tickFormat=function(e,n){return to(t,e,n)},o.nice=function(e){return Yi(t,e),i()},o.copy=function(){return Ji(t,e,n,r)},i()}function Xi(t,e){return ba.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Yi(t,e){return Vi(t,Ui(e?Ki(t,e)[2]:Gi(t)))}function Gi(t){var e=zi(t),n=e[1]-e[0];return Math.pow(10,Math.round(Math.log(n)/Math.LN10)-1)}function Ki(t,e){var n=zi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Zi(t,e){return ba.range.apply(ba,Ki(t,e))}function to(t,e,n){var r=-Math.floor(Math.log(Ki(t,e)[2])/Math.LN10+.01);return ba.format(n?n.replace(vs,function(t,e,n,i,o,a,s,u,c,l){return[e,n,i,o,a,s,u,c||"."+(r-2*("%"===l)),l].join("")}):",."+r+"f")}function eo(t,e,n,r,i){function o(e){return t(n(e))}return o.invert=function(e){return r(t.invert(e))},o.domain=function(e){return arguments.length?(e[0]<0?(n=io,r=oo):(n=no,r=ro),t.domain((i=e.map(Number)).map(n)),o):i},o.base=function(t){return arguments.length?(e=+t,o):e},o.nice=function(){function r(t){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}function a(t){return Math.pow(e,Math.ceil(Math.log(t)/Math.log(e)))}return t.domain(Vi(i,n===no?{floor:r,ceil:a}:{floor:function(t){return-a(-t)},ceil:function(t){return-r(-t)}}).map(n)),o},o.ticks=function(){var i=zi(t.domain()),o=[];if(i.every(isFinite)){var a=Math.log(e),s=Math.floor(i[0]/a),u=Math.ceil(i[1]/a),c=r(i[0]),l=r(i[1]),h=e%1?2:e;if(n===io)for(o.push(-Math.pow(e,-s));s++<u;)for(var f=h-1;f>0;f--)o.push(-Math.pow(e,-s)*f);else{for(;u>s;s++)for(var f=1;h>f;f++)o.push(Math.pow(e,s)*f);o.push(Math.pow(e,s))}for(s=0;o[s]<c;s++);for(u=o.length;o[u-1]>l;u--);o=o.slice(s,u)}return o},o.tickFormat=function(t,i){if(!arguments.length)return Mu;arguments.length<2?i=Mu:"function"!=typeof i&&(i=ba.format(i));var a,s=Math.log(e),u=Math.max(.1,t/o.ticks().length),c=n===io?(a=-1e-12,Math.floor):(a=1e-12,Math.ceil);return function(t){return t/r(s*c(n(t)/s+a))<=u?i(t):""}},o.copy=function(){return eo(t.copy(),e,n,r,i)},Xi(o,t)}function no(t){return Math.log(0>t?0:t)}function ro(t){return Math.exp(t)}function io(t){return-Math.log(t>0?0:-t)}function oo(t){return-Math.exp(-t)}function ao(t,e,n){function r(e){return t(i(e))}var i=so(e),o=so(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Zi(n,t)},r.tickFormat=function(t,e){return to(n,t,e)},r.nice=function(t){return r.domain(Yi(n,t))},r.exponent=function(a){return arguments.length?(i=so(e=a),o=so(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return ao(t.copy(),e,n)},Xi(r,t)}function so(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function uo(t,e){function n(e){return a[((o.get(e)||o.set(e,t.push(e)))-1)%a.length]}function r(e,n){return ba.range(t.length).map(function(t){return e+n*t})}var o,a,s;return n.domain=function(r){if(!arguments.length)return t;t=[],o=new i;for(var a,s=-1,u=r.length;++s<u;)o.has(a=r[s])||o.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,s=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(i,o){arguments.length<2&&(o=0);var u=i[0],c=i[1],l=(c-u)/(Math.max(1,t.length-1)+o);return a=r(t.length<2?(u+c)/2:u+l*o/2,l),s=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,o,u){arguments.length<2&&(o=0),arguments.length<3&&(u=o);var c=i[1]<i[0],l=i[c-0],h=i[1-c],f=(h-l)/(t.length-o+2*u);return a=r(l+f*u,f),c&&a.reverse(),s=f*(1-o),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,o,u){arguments.length<2&&(o=0),arguments.length<3&&(u=o);var c=i[1]<i[0],l=i[c-0],h=i[1-c],f=Math.floor((h-l)/(t.length-o+2*u)),p=h-l-(t.length-o)*f;return a=r(l+Math.round(p/2),f),c&&a.reverse(),s=Math.round(f*(1-o)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return zi(e.a[0])},n.copy=function(){return uo(t,e)},n.domain(t)}function co(t,e){function n(){var n=0,o=e.length;for(i=[];++n<o;)i[n-1]=ba.quantile(t,n/o);return r}function r(t){return isNaN(t=+t)?void 0:e[ba.bisect(i,t)]}var i;return r.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(ba.ascending),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return i},r.copy=function(){return co(t,e)},n()}function lo(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.copy=function(){return lo(t,e,n)},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},i()}function ho(t,e){function n(n){return n>=n?e[ba.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ho(t,e)},n}function fo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Zi(t,e)},e.tickFormat=function(e,n){return to(t,e,n)},e.copy=function(){return fo(t)},e}function po(t){return t.innerRadius}function go(t){return t.outerRadius}function mo(t){return t.startAngle}function vo(t){return t.endAngle}function yo(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]+Cu,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function bo(t){function e(e){function u(){g.push("M",s(t(v),h),l,c(t(m.reverse()),h),"Z")}for(var f,p,d,g=[],m=[],v=[],y=-1,b=e.length,M=le(n),w=le(i),x=n===r?function(){return p}:le(r),_=i===o?function(){return d}:le(o);++y<b;)a.call(this,f=e[y],y)?(m.push([p=+M.call(this,f,y),d=+w.call(this,f,y)]),v.push([+x.call(this,f,y),+_.call(this,f,y)])):m.length&&(u(),m=[],v=[]);return m.length&&u(),g.length?g.join(""):null}var n=On,r=On,i=0,o=Fn,a=Fe,s=In,u=s.key,c=s,l="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=iu.get(t)||In).key,c=s.reverse||s,l=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Mo(t){return t.radius}function wo(t){return[t.x,t.y]}function xo(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+Cu;return[n*Math.cos(r),n*Math.sin(r)]}}function _o(){return 64}function So(){return"circle"}function Co(t){var e=Math.sqrt(t/Xa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function To(t,e){return qa(t,ju),t.id=e,t}function ko(t,e,n,r){var i=t.id;return A(t,"function"==typeof n?function(t,o,a){t.__transition__[i].tween.set(e,r(n.call(t,t.__data__,o,a)))}:(n=r(n),function(t){t.__transition__[i].tween.set(e,n)}))}function Eo(t){return null==t&&(t=""),function(){this.textContent=t}}function Ao(t,e,n,r){var o=t.__transition__||(t.__transition__={active:0,count:0}),a=o[n];if(!a){var s=r.time;return a=o[n]={tween:new i,event:ba.dispatch("start","end"),time:s,ease:r.ease,delay:r.delay,duration:r.duration},++o.count,ba.timer(function(r){function i(r){return o.active>n?c():(o.active=n,f.start.call(t,l,e),a.tween.forEach(function(n,r){(r=r.call(t,l,e))&&g.push(r)}),u(r)||ba.timer(u,0,s),1)}function u(r){if(o.active!==n)return c();for(var i=(r-p)/d,a=h(i),s=g.length;s>0;)g[--s].call(t,a);return i>=1?(c(),f.end.call(t,l,e),1):void 0}function c(){return--o.count?delete o[n]:delete t.__transition__,1}var l=t.__data__,h=a.ease,f=a.event,p=a.delay,d=a.duration,g=[];return r>=p?i(r):ba.timer(i,p,s),1},0,s),a}}function No(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function jo(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function qo(t,e,n){if(r=[],n&&e.length>1){for(var r,i,o,a=zi(t.domain()),s=-1,u=e.length,c=(e[1]-e[0])/++n;++s<u;)for(i=n;--i>0;)(o=+e[s]-i*c)>=a[0]&&r.push(o);
for(--s,i=0;++i<n&&(o=+e[s]+i*c)<a[1];)r.push(o)}return r}function $o(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Do(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new Ru(n-1)),1),n}function o(t,n){return e(t=new Ru(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{Ru=$o;var r=new $o;return r._=t,a(r,e,n)}finally{Ru=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=Po(t);return u.floor=u,u.round=Po(r),u.ceil=Po(i),u.offset=Po(o),u.range=s,t}function Po(t){return function(e,n){try{Ru=$o;var r=new $o;return r._=e,t(r,n)._}finally{Ru=Date}}}function Ho(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;s>a;){if(r>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(o=oc[e.charAt(a++)],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function Lo(t){return new RegExp("^(?:"+t.map(ba.requote).join("|")+")","i")}function Ro(t){for(var e=new i,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Oo(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function Fo(t,e,n){Yu.lastIndex=0;var r=Yu.exec(e.substring(n));return r?(t.w=Gu.get(r[0].toLowerCase()),n+r[0].length):-1}function Io(t,e,n){Ju.lastIndex=0;var r=Ju.exec(e.substring(n));return r?(t.w=Xu.get(r[0].toLowerCase()),n+r[0].length):-1}function zo(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Bo(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n));return r?(t.U=+r[0],n+r[0].length):-1}function Wo(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n));return r?(t.W=+r[0],n+r[0].length):-1}function Vo(t,e,n){tc.lastIndex=0;var r=tc.exec(e.substring(n));return r?(t.m=ec.get(r[0].toLowerCase()),n+r[0].length):-1}function Uo(t,e,n){Ku.lastIndex=0;var r=Ku.exec(e.substring(n));return r?(t.m=Zu.get(r[0].toLowerCase()),n+r[0].length):-1}function Qo(t,e,n){return Ho(t,ic.c.toString(),e,n)}function Jo(t,e,n){return Ho(t,ic.x.toString(),e,n)}function Xo(t,e,n){return Ho(t,ic.X.toString(),e,n)}function Yo(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Go(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n,n+2));return r?(t.y=Ko(+r[0]),n+r[0].length):-1}function Ko(t){return t+(t>68?1900:2e3)}function Zo(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ta(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ea(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function na(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ra(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ia(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oa(t,e,n){ac.lastIndex=0;var r=ac.exec(e.substring(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function aa(t,e,n){var r=sc.get(e.substring(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}function sa(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=~~(Math.abs(e)/60),i=Math.abs(e)%60;return n+Oo(r,"0",2)+Oo(i,"0",2)}function ua(t,e,n){nc.lastIndex=0;var r=nc.exec(e.substring(n,n+1));return r?n+r[0].length:-1}function ca(t){return t.toISOString()}function la(t,e,n){function r(e){return t(e)}return r.invert=function(e){return ha(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ha)},r.nice=function(t){return r.domain(Vi(r.domain(),t))},r.ticks=function(n,i){var o=zi(r.domain());if("function"!=typeof n){var a=o[1]-o[0],s=a/n,u=ba.bisect(cc,s);if(u==cc.length)return e.year(o,n);if(!u)return t.ticks(n).map(ha);Math.log(s/cc[u-1])<Math.log(cc[u]/s)&&--u,n=e[u],i=n[1],n=n[0].range}return n(o[0],new Date(+o[1]+1),i)},r.tickFormat=function(){return n},r.copy=function(){return la(t.copy(),e,n)},Xi(r,t)}function ha(t){return new Date(t)}function fa(t){return function(e){for(var n=t.length-1,r=t[n];!r[1](e);)r=t[--n];return r[0](e)}}function pa(t){var e=new Date(t,0,1);return e.setFullYear(t),e}function da(t){var e=t.getFullYear(),n=pa(e),r=pa(e+1);return e+(t-n)/(r-n)}function ga(t){var e=new Date(Date.UTC(t,0,1));return e.setUTCFullYear(t),e}function ma(t){var e=t.getUTCFullYear(),n=ga(e),r=ga(e+1);return e+(t-n)/(r-n)}function va(t){return JSON.parse(t.responseText)}function ya(t){var e=Ma.createRange();return e.selectNode(Ma.body),e.createContextualFragment(t.responseText)}var ba={version:"3.2.2"};Date.now||(Date.now=function(){return+new Date});var Ma=document,wa=Ma.documentElement,xa=window;try{Ma.createElement("div").style.setProperty("opacity",0,"")}catch(_a){var Sa=xa.CSSStyleDeclaration.prototype,Ca=Sa.setProperty;Sa.setProperty=function(t,e,n){Ca.call(this,t,e+"",n)}}ba.ascending=function(t,e){return e>t?-1:t>e?1:t>=e?0:0/0},ba.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},ba.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},ba.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},ba.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a&&!(null!=(n=i=t[o])&&n>=n);)n=i=void 0;for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a&&!(null!=(n=i=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},ba.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)isNaN(n=+t[o])||(r+=n);else for(;++o<i;)isNaN(n=+e.call(t,t[o],o))||(r+=n);return r},ba.mean=function(e,n){var r,i=e.length,o=0,a=-1,s=0;if(1===arguments.length)for(;++a<i;)t(r=e[a])&&(o+=(r-o)/++s);else for(;++a<i;)t(r=n.call(e,e[a],a))&&(o+=(r-o)/++s);return s?o:void 0},ba.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},ba.median=function(e,n){return arguments.length>1&&(e=e.map(n)),e=e.filter(t),e.length?ba.quantile(e.sort(ba.ascending),.5):void 0},ba.bisector=function(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t.call(e,e[o],o)<n?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;n<t.call(e,e[o],o)?i=o:r=o+1}return r}}};var Ta=ba.bisector(function(t){return t});ba.bisectLeft=Ta.left,ba.bisect=ba.bisectRight=Ta.right,ba.shuffle=function(t){for(var e,n,r=t.length;r;)n=0|Math.random()*r--,e=t[r],t[r]=t[n],t[n]=e;return t},ba.permute=function(t,e){for(var n=[],r=-1,i=e.length;++r<i;)n[r]=t[e[r]];return n},ba.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,n=ba.min(arguments,e),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=arguments[o][t];return r},ba.transpose=function(t){return ba.zip.apply(ba,t)},ba.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ba.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ba.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ba.merge=function(t){return Array.prototype.concat.apply([],t)},ba.range=function(t,e,r){if(arguments.length<3&&(r=1,arguments.length<2&&(e=t,t=0)),1/0===(e-t)/r)throw new Error("infinite range");var i,o=[],a=n(Math.abs(r)),s=-1;if(t*=a,e*=a,r*=a,0>r)for(;(i=t+r*++s)>e;)o.push(i/a);else for(;(i=t+r*++s)<e;)o.push(i/a);return o},ba.map=function(t){var e=new i;for(var n in t)e.set(n,t[n]);return e},r(i,{has:function(t){return ka+t in this},get:function(t){return this[ka+t]},set:function(t,e){return this[ka+t]=e},remove:function(t){return t=ka+t,t in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Ea&&t.call(this,e.substring(1),this[e])}});var ka="\0",Ea=ka.charCodeAt(0);ba.nest=function(){function t(e,s,u){if(u>=a.length)return r?r.call(o,s):n?s.sort(n):s;for(var c,l,h,f,p=-1,d=s.length,g=a[u++],m=new i;++p<d;)(f=m.get(c=g(l=s[p])))?f.push(l):m.set(c,[l]);return e?(l=e(),h=function(n,r){l.set(n,t(e,r,u))}):(l={},h=function(n,r){l[n]=t(e,r,u)}),m.forEach(h),l}function e(t,n){if(n>=a.length)return t;var r=[],i=s[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,o={},a=[],s=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(ba.map,n,0),0)},o.key=function(t){return a.push(t),o},o.sortKeys=function(t){return s[a.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return r=t,o},o},ba.set=function(t){var e=new o;if(t)for(var n=0;n<t.length;n++)e.add(t[n]);return e},r(o,{has:function(t){return ka+t in this},add:function(t){return this[ka+t]=!0,t},remove:function(t){return t=ka+t,t in this&&delete this[t]},values:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Ea&&t.call(this,e.substring(1))}}),ba.behavior={},ba.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=a(t,e,e[n]);return t};var Aa=["webkit","ms","moz","Moz","o","O"],Na=c;try{Na(wa.childNodes)[0].nodeType}catch(ja){Na=u}var qa=[].__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};ba.dispatch=function(){for(var t=new h,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=f(t);return t},h.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ba.event=null,ba.requote=function(t){return t.replace($a,"\\$&")};var $a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Da=function(t,e){return e.querySelector(t)},Pa=function(t,e){return e.querySelectorAll(t)},Ha=wa[s(wa,"matchesSelector")],La=function(t,e){return Ha.call(t,e)};"function"==typeof Sizzle&&(Da=function(t,e){return Sizzle(t,e)[0]||null},Pa=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},La=Sizzle.matchesSelector),ba.selection=function(){return Ia};var Ra=ba.selection.prototype=[];Ra.select=function(t){var e,n,r,i,o=[];"function"!=typeof t&&(t=v(t));for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,c=r.length;++u<c;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return m(o)},Ra.selectAll=function(t){var e,n,r=[];"function"!=typeof t&&(t=y(t));for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=Na(t.call(n,n.__data__,s))),e.parentNode=n);return m(r)};var Oa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ba.ns={prefix:Oa,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),Oa.hasOwnProperty(n)?{space:Oa[n],local:t}:t}},Ra.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ba.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(b(e,t[e]));return this}return this.each(b(t,e))},Ra.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=t.trim().split(/^|\s+/g)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!w(t[i]).test(e))return!1;return!0}for(e in t)this.each(x(e,t[e]));return this}return this.each(x(t,e))},Ra.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.each(S(n,t[n],e));return this}if(2>r)return xa.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(S(t,e,n))},Ra.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},Ra.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ra.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ra.append=function(t){function e(){return this.appendChild(Ma.createElementNS(this.namespaceURI,t))}function n(){return this.appendChild(Ma.createElementNS(t.space,t.local))}return t=ba.ns.qualify(t),this.select(t.local?n:e)},Ra.insert=function(t,e){function n(n,r){return this.insertBefore(Ma.createElementNS(this.namespaceURI,t),e.call(this,n,r))}function r(n,r){return this.insertBefore(Ma.createElementNS(t.space,t.local),e.call(this,n,r))}return t=ba.ns.qualify(t),"function"!=typeof e&&(e=v(e)),this.select(t.local?r:n)},Ra.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},Ra.data=function(t,e){function n(t,n){var r,o,a,s=t.length,h=n.length,f=Math.min(s,h),p=new Array(h),d=new Array(h),g=new Array(s);if(e){var m,v=new i,y=new i,b=[];for(r=-1;++r<s;)m=e.call(o=t[r],o.__data__,r),v.has(m)?g[r]=o:v.set(m,o),b.push(m);for(r=-1;++r<h;)m=e.call(n,a=n[r],r),(o=v.get(m))?(p[r]=o,o.__data__=a):y.has(m)||(d[r]=T(a)),y.set(m,a),v.remove(m);for(r=-1;++r<s;)v.has(b[r])&&(g[r]=t[r])}else{for(r=-1;++r<f;)o=t[r],a=n[r],o?(o.__data__=a,p[r]=o):d[r]=T(a);for(;h>r;++r)d[r]=T(n[r]);for(;s>r;++r)g[r]=t[r]}d.update=p,d.parentNode=p.parentNode=g.parentNode=t.parentNode,u.push(d),c.push(p),l.push(g)}var r,o,a=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(r=this[0]).length);++a<s;)(o=r[a])&&(t[a]=o.__data__);return t}var u=N([]),c=m([]),l=m([]);if("function"==typeof t)for(;++a<s;)n(r=this[a],t.call(r,r.parentNode.__data__,a));else for(;++a<s;)n(r=this[a],t);return c.enter=function(){return u},c.exit=function(){return l},c},Ra.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ra.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=k(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s)&&e.push(r)}return m(i)},Ra.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ra.sort=function(t){t=E.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ra.each=function(t){return A(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Ra.call=function(t){var e=Na(arguments);return t.apply(e[0]=this,e),this},Ra.empty=function(){return!this.node()},Ra.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},Ra.size=function(){var t=0;return this.each(function(){++t}),t};var Fa=[];ba.selection.enter=N,ba.selection.enter.prototype=Fa,Fa.append=Ra.append,Fa.insert=Ra.insert,Fa.empty=Ra.empty,Fa.node=Ra.node,Fa.call=Ra.call,Fa.size=Ra.size,Fa.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(e.push(r[c]=n=t.call(i.parentNode,o.__data__,c)),n.__data__=o.__data__):e.push(null)}return m(a)},Ra.transition=function(){var t,e,n=Eu||++qu,r=[],i=Object.create($u);i.time=Date.now();for(var o=-1,a=this.length;++o<a;){r.push(t=[]);for(var s=this[o],u=-1,c=s.length;++u<c;)(e=s[u])&&Ao(e,u,n,i),t.push(e)}return To(r,n)},ba.select=function(t){var e=["string"==typeof t?Da(t,Ma):t];return e.parentNode=wa,m([e])},ba.selectAll=function(t){var e=Na("string"==typeof t?Pa(t,Ma):t);return e.parentNode=wa,m([e])};var Ia=ba.select(wa);Ra.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(j(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(j(t,e,n))};var za=ba.map({mouseenter:"mouseover",mouseleave:"mouseout"});za.forEach(function(t){"on"+t in Ma&&za.remove(t)});var Ba=s(wa.style,"userSelect");ba.mouse=function(t){return P(t,d())};var Wa=/WebKit/.test(xa.navigator.userAgent)?-1:0;ba.touches=function(t,e){return arguments.length<2&&(e=d().touches),e?Na(e).map(function(e){var n=P(t,e);return n.identifier=e.identifier,n}):[]},ba.behavior.drag=function(){function t(){this.on("mousedown.drag",e).on("touchstart.drag",e)}function e(){function t(){var t=a.parentNode;return null!=c?ba.touches(t).filter(function(t){return t.identifier===c})[0]:ba.mouse(t)}function e(){if(!a.parentNode)return i();var e=t(),n=e[0]-l[0],r=e[1]-l[1];h|=n|r,l=e,s({type:"drag",x:e[0]+o[0],y:e[1]+o[1],dx:n,dy:r})}function i(){p.on(null!=c?"touchmove.drag-"+c:"mousemove.drag",null).on(null!=c?"touchend.drag-"+c:"mouseup.drag",null),f(h&&ba.event.target===u),s({type:"dragend"})}var o,a=this,s=n.of(a,arguments),u=ba.event.target,c=ba.event.touches?ba.event.changedTouches[0].identifier:null,l=t(),h=0,f=D(null!=c?"drag-"+c:"drag"),p=ba.select(xa).on(null!=c?"touchmove.drag-"+c:"mousemove.drag",e).on(null!=c?"touchend.drag-"+c:"mouseup.drag",i,!0);r?(o=r.apply(a,arguments),o=[o.x-l[0],o.y-l[1]]):o=[0,0],s({type:"dragstart"})}var n=g(t,"drag","dragstart","dragend"),r=null;return t.origin=function(e){return arguments.length?(r=e,t):r},ba.rebind(t,n,"on")},ba.behavior.zoom=function(){function t(){this.on("mousedown.zoom",s).on("mousemove.zoom",c).on(Qa+".zoom",u).on("dblclick.zoom",l).on("touchstart.zoom",h).on("touchmove.zoom",f).on("touchend.zoom",h)}function e(t){return[(t[0]-x[0])/_,(t[1]-x[1])/_]}function n(t){return[t[0]*_+x[0],t[1]*_+x[1]]}function r(t){_=Math.max(S[0],Math.min(S[1],t))}function i(t,e){e=n(e),x[0]+=t[0]-e[0],x[1]+=t[1]-e[1]}function o(){y&&y.domain(v.range().map(function(t){return(t-x[0])/_}).map(v.invert)),M&&M.domain(b.range().map(function(t){return(t-x[1])/_}).map(b.invert))}function a(t){o(),ba.event.preventDefault(),t({type:"zoom",scale:_,translate:x})}function s(){function t(){u=1,i(ba.mouse(r),l),a(o)}function n(){c.on("mousemove.zoom",null).on("mouseup.zoom",null),h(u&&ba.event.target===s)}var r=this,o=C.of(r,arguments),s=ba.event.target,u=0,c=ba.select(xa).on("mousemove.zoom",t).on("mouseup.zoom",n),l=e(ba.mouse(r)),h=D("zoom")}function u(){p||(p=e(ba.mouse(this))),r(Math.pow(2,.002*Va())*_),i(ba.mouse(this),p),a(C.of(this,arguments))}function c(){p=null}function l(){var t=ba.mouse(this),n=e(t),o=Math.log(_)/Math.LN2;r(Math.pow(2,ba.event.shiftKey?Math.ceil(o)-1:Math.floor(o)+1)),i(t,n),a(C.of(this,arguments))}function h(){var t=ba.touches(this),n=Date.now();if(m=_,p={},d=0,t.forEach(function(t){p[t.identifier]=e(t)}),1===t.length){if(500>n-w){var o=t[0],s=e(t[0]);r(2*_),i(o,s),a(C.of(this,arguments))}w=n}else if(t.length>1){var o=t[0],u=t[1],c=o[0]-u[0],l=o[1]-u[1];d=c*c+l*l}}function f(){var t=ba.touches(this),e=t[0],n=p[e.identifier];if(o=t[1]){var o,s=p[o.identifier],u=ba.event.scale;if(null==u){var c=(c=o[0]-e[0])*c+(c=o[1]-e[1])*c;u=d&&Math.sqrt(c/d)}e=[(e[0]+o[0])/2,(e[1]+o[1])/2],n=[(n[0]+s[0])/2,(n[1]+s[1])/2],r(u*m)}i(e,n),w=null,a(C.of(this,arguments))}var p,d,m,v,y,b,M,w,x=[0,0],_=1,S=Ua,C=g(t,"zoom");return t.translate=function(e){return arguments.length?(x=e.map(Number),o(),t):x},t.scale=function(e){return arguments.length?(_=+e,o(),t):_},t.scaleExtent=function(e){return arguments.length?(S=null==e?Ua:e.map(Number),t):S},t.x=function(e){return arguments.length?(y=e,v=e.copy(),x=[0,0],_=1,t):y},t.y=function(e){return arguments.length?(M=e,b=e.copy(),x=[0,0],_=1,t):M},ba.rebind(t,C,"on")};var Va,Ua=[0,1/0],Qa="onwheel"in Ma?(Va=function(){return-ba.event.deltaY*(ba.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ma?(Va=function(){return ba.event.wheelDelta},"mousewheel"):(Va=function(){return-ba.event.detail},"MozMousePixelScroll");H.prototype.toString=function(){return this.rgb()+""},ba.hsl=function(t,e,n){return 1===arguments.length?t instanceof R?L(t.h,t.s,t.l):oe(""+t,ae,L):L(+t,+e,+n)};var Ja=R.prototype=new H;Ja.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),L(this.h,this.s,this.l/t)},Ja.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),L(this.h,this.s,t*this.l)},Ja.rgb=function(){return O(this.h,this.s,this.l)};var Xa=Math.PI,Ya=1e-6,Ga=Ya*Ya,Ka=Xa/180,Za=180/Xa;ba.hcl=function(t,e,n){return 1===arguments.length?t instanceof Q?U(t.h,t.c,t.l):t instanceof Y?K(t.l,t.a,t.b):K((t=se((t=ba.rgb(t)).r,t.g,t.b)).l,t.a,t.b):U(+t,+e,+n)};var ts=Q.prototype=new H;ts.brighter=function(t){return U(this.h,this.c,Math.min(100,this.l+es*(arguments.length?t:1)))},ts.darker=function(t){return U(this.h,this.c,Math.max(0,this.l-es*(arguments.length?t:1)))},ts.rgb=function(){return J(this.h,this.c,this.l).rgb()},ba.lab=function(t,e,n){return 1===arguments.length?t instanceof Y?X(t.l,t.a,t.b):t instanceof Q?J(t.l,t.c,t.h):se((t=ba.rgb(t)).r,t.g,t.b):X(+t,+e,+n)};var es=18,ns=.95047,rs=1,is=1.08883,os=Y.prototype=new H;os.brighter=function(t){return X(Math.min(100,this.l+es*(arguments.length?t:1)),this.a,this.b)},os.darker=function(t){return X(Math.max(0,this.l-es*(arguments.length?t:1)),this.a,this.b)},os.rgb=function(){return G(this.l,this.a,this.b)},ba.rgb=function(t,e,n){return 1===arguments.length?t instanceof re?ne(t.r,t.g,t.b):oe(""+t,ne,O):ne(~~t,~~e,~~n)};var as=re.prototype=new H;as.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),ne(Math.min(255,Math.floor(e/t)),Math.min(255,Math.floor(n/t)),Math.min(255,Math.floor(r/t)))):ne(i,i,i)},as.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),ne(Math.floor(t*this.r),Math.floor(t*this.g),Math.floor(t*this.b))},as.hsl=function(){return ae(this.r,this.g,this.b)},as.toString=function(){return"#"+ie(this.r)+ie(this.g)+ie(this.b)};var ss=ba.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});ss.forEach(function(t,e){ss.set(t,oe(e,ne,O))}),ba.functor=le,ba.xhr=fe(he),ba.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=ba.xhr(t,e,o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a.row(n)}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(s).join(t)}function s(t){return u.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var u=new RegExp('["'+t+"\n]"),c=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(l>=u)return a;if(i)return i=!1,o;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}l=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++l):10===r&&(i=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;u>l;){var r=t.charCodeAt(l++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(l)&&(++l,++s);else if(r!==c)continue;return t.substring(e,l-s)}return t.substring(e)}for(var r,i,o={},a={},s=[],u=t.length,l=0,h=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();(!e||(f=e(f,h++)))&&s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new o,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(s).join(t)].concat(e.map(function(e){return i.map(function(t){return s(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},ba.csv=ba.dsv(",","text/csv"),ba.tsv=ba.dsv("	","text/tab-separated-values");var us,cs,ls,hs;ba.timer=function(t,e,n){if(arguments.length<3){if(arguments.length<2)e=0;else if(!isFinite(e))return;n=Date.now()}var r=n+e,i={callback:t,time:r,next:null};cs?cs.next=i:us=i,cs=i,ls||(hs=clearTimeout(hs),ls=1,fs(ge))},ba.timer.flush=function(){me(),ve()};var fs=xa[s(xa,"requestAnimationFrame")]||function(t){setTimeout(t,17)},ps=".",ds=",",gs=[3,3],ms=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(ye);ba.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=ba.round(t,be(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),ms[8+n/3]},ba.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},ba.format=function(t){var e=vs.exec(t),n=e[1]||" ",r=e[2]||">",i=e[3]||"",o=e[4]||"",a=e[5],s=+e[6],u=e[7],c=e[8],l=e[9],h=1,f="",p=!1;switch(c&&(c=+c.substring(1)),(a||"0"===n&&"="===r)&&(a=n="0",r="=",u&&(s-=Math.floor((s-1)/4))),l){case"n":u=!0,l="g";break;case"%":h=100,f="%",l="f";break;case"p":h=100,f="%",l="r";break;case"b":case"o":case"x":case"X":o&&(o="0"+l.toLowerCase());case"c":case"d":p=!0,c=0;break;case"s":h=-1,l="r"}"#"===o&&(o=""),"r"!=l||c||(l="g"),null!=c&&("g"==l?c=Math.max(1,Math.min(21,c)):("e"==l||"f"==l)&&(c=Math.max(0,Math.min(20,c)))),l=ys.get(l)||Me;var d=a&&u;return function(t){if(p&&t%1)return"";var e=0>t||0===t&&0>1/t?(t=-t,"-"):i;if(0>h){var g=ba.formatPrefix(t,c);t=g.scale(t),f=g.symbol}else t*=h;t=l(t,c),!a&&u&&(t=bs(t));var m=o.length+t.length+(d?0:e.length),v=s>m?new Array(m=s-m+1).join(n):"";return d&&(t=bs(v+t)),ps&&t.replace(".",ps),e+=o,("<"===r?e+t+v:">"===r?v+e+t:"^"===r?v.substring(0,m>>=1)+e+t+v.substring(m):e+(d?t:v+t))+f}};var vs=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ys=ba.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ba.round(t,be(t,e))).toFixed(Math.max(0,Math.min(20,be(t*(1+1e-15),e))))}}),bs=he;if(gs){var Ms=gs.length;bs=function(t){for(var e=t.lastIndexOf("."),n=e>=0?"."+t.substring(e+1):(e=t.length,""),r=[],i=0,o=gs[0];e>0&&o>0;)r.push(t.substring(e-=o,e+o)),o=gs[i=(i+1)%Ms];return r.reverse().join(ds||"")+n}}ba.geo={},we.prototype={s:0,t:0,add:function(t){xe(t,this.t,ws),xe(ws.s,this.s,this),this.s?this.t+=ws.t:this.s=ws.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ws=new we;ba.geo.stream=function(t,e){t&&xs.hasOwnProperty(t.type)?xs[t.type](t,e):_e(t,e)};var xs={Feature:function(t,e){_e(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)_e(n[r].geometry,e)}},_s={Sphere:function(t,e){e.sphere()},Point:function(t,e){var n=t.coordinates;e.point(n[0],n[1])},MultiPoint:function(t,e){for(var n,r=t.coordinates,i=-1,o=r.length;++i<o;)n=r[i],e.point(n[0],n[1])},LineString:function(t,e){Se(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Se(n[r],e,0)},Polygon:function(t,e){Ce(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ce(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)_e(n[r],e)}};ba.geo.area=function(t){return Ss=0,ba.geo.stream(t,Ts),Ss};var Ss,Cs=new we,Ts={sphere:function(){Ss+=4*Xa},point:l,lineStart:l,lineEnd:l,polygonStart:function(){Cs.reset(),Ts.lineStart=Te},polygonEnd:function(){var t=2*Cs;Ss+=0>t?4*Xa+t:t,Ts.lineStart=Ts.lineEnd=Ts.point=l}};ba.geo.bounds=function(){function t(t,e){b.push(M=[l=t,f=t]),h>e&&(h=e),e>p&&(p=e)}function e(e,n){var r=ke([e*Ka,n*Ka]);if(v){var i=Ae(v,r),o=[i[1],-i[0],0],a=Ae(o,i);qe(a),a=$e(a);var u=e-d,c=u>0?1:-1,g=a[0]*Za*c,m=Math.abs(u)>180;if(m^(g>c*d&&c*e>g)){var y=a[1]*Za;y>p&&(p=y)}else if(g=(g+360)%360-180,m^(g>c*d&&c*e>g)){var y=-a[1]*Za;h>y&&(h=y)}else h>n&&(h=n),n>p&&(p=n);m?d>e?s(l,e)>s(l,f)&&(f=e):s(e,f)>s(l,f)&&(l=e):f>=l?(l>e&&(l=e),e>f&&(f=e)):e>d?s(l,e)>s(l,f)&&(f=e):s(e,f)>s(l,f)&&(l=e)}else t(e,n);v=r,d=e}function n(){w.point=e}function r(){M[0]=l,M[1]=f,w.point=t,v=null}function i(t,n){if(v){var r=t-d;y+=Math.abs(r)>180?r+(r>0?360:-360):r}else g=t,m=n;Ts.point(t,n),e(t,n)}function o(){Ts.lineStart()}function a(){i(g,m),Ts.lineEnd(),Math.abs(y)>Ya&&(l=-(f=180)),M[0]=l,M[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var l,h,f,p,d,g,m,v,y,b,M,w={point:t,lineStart:n,lineEnd:r,polygonStart:function(){w.point=i,w.lineStart=o,w.lineEnd=a,y=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),w.point=t,w.lineStart=n,w.lineEnd=r,0>Cs?(l=-(f=180),h=-(p=90)):y>Ya?p=90:-Ya>y&&(h=-90),M[0]=l,M[1]=f}};return function(t){p=f=-(l=h=1/0),b=[],ba.geo.stream(t,w);var e=b.length;if(e){b.sort(u);for(var n,r=1,i=b[0],o=[i];e>r;++r)n=b[r],c(n[0],i)||c(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);
for(var a,n,d=-1/0,e=o.length-1,r=0,i=o[e];e>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>d&&(d=a,l=n[0],f=i[1])}return b=M=null,1/0===l||1/0===h?[[0/0,0/0],[0/0,0/0]]:[[l,h],[f,p]]}}(),ba.geo.centroid=function(t){ks=Es=As=Ns=js=qs=$s=Ds=Ps=Hs=Ls=0,ba.geo.stream(t,Rs);var e=Ps,n=Hs,r=Ls,i=e*e+n*n+r*r;return Ga>i&&(e=qs,n=$s,r=Ds,Ya>Es&&(e=As,n=Ns,r=js),i=e*e+n*n+r*r,Ga>i)?[0/0,0/0]:[Math.atan2(n,e)*Za,z(r/Math.sqrt(i))*Za]};var ks,Es,As,Ns,js,qs,$s,Ds,Ps,Hs,Ls,Rs={sphere:l,point:Pe,lineStart:Le,lineEnd:Re,polygonStart:function(){Rs.lineStart=Oe},polygonEnd:function(){Rs.lineStart=Le}},Os=Be(Fe,Je,Ye,Ge),Fs=[-Xa,0],Is=1e9;(ba.geo.conicEqualArea=function(){return nn(rn)}).raw=rn,ba.geo.albers=function(){return ba.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ba.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=ba.geo.albers(),a=ba.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ba.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var c=o.scale(),l=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[l-.455*c,h-.238*c],[l+.455*c,h+.238*c]]).stream(u).point,r=a.translate([l-.307*c,h+.201*c]).clipExtent([[l-.425*c+Ya,h+.12*c+Ya],[l-.214*c-Ya,h+.234*c-Ya]]).stream(u).point,i=s.translate([l-.205*c,h+.212*c]).clipExtent([[l-.214*c+Ya,h+.166*c+Ya],[l-.115*c-Ya,h+.234*c-Ya]]).stream(u).point,t},t.scale(1070)};var zs,Bs,Ws,Vs,Us,Qs,Js={point:l,lineStart:l,lineEnd:l,polygonStart:function(){Bs=0,Js.lineStart=on},polygonEnd:function(){Js.lineStart=Js.lineEnd=Js.point=l,zs+=Math.abs(Bs/2)}},Xs={point:an,lineStart:l,lineEnd:l,polygonStart:l,polygonEnd:l},Ys={point:cn,lineStart:ln,lineEnd:hn,polygonStart:function(){Ys.lineStart=fn},polygonEnd:function(){Ys.point=cn,Ys.lineStart=ln,Ys.lineEnd=hn}};ba.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),ba.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return zs=0,ba.geo.stream(t,i(Js)),zs},t.centroid=function(t){return As=Ns=js=qs=$s=Ds=Ps=Hs=Ls=0,ba.geo.stream(t,i(Ys)),Ls?[Ps/Ls,Hs/Ls]:Ds?[qs/Ds,$s/Ds]:js?[As/js,Ns/js]:[0/0,0/0]},t.bounds=function(t){return Us=Qs=-(Ws=Vs=1/0),ba.geo.stream(t,i(Xs)),[[Ws,Vs],[Us,Qs]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||gn(t):he,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new sn:new pn(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(ba.geo.albersUsa()).context(null)},ba.geo.projection=mn,ba.geo.projectionMutator=vn,(ba.geo.equirectangular=function(){return mn(bn)}).raw=bn.invert=bn,ba.geo.rotation=function(t){function e(e){return e=t(e[0]*Ka,e[1]*Ka),e[0]*=Za,e[1]*=Za,e}return t=Mn(t[0]%360*Ka,t[1]*Ka,t.length>2?t[2]*Ka:0),e.invert=function(e){return e=t.invert(e[0]*Ka,e[1]*Ka),e[0]*=Za,e[1]*=Za,e},e},ba.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=Mn(-t[0]*Ka,-t[1]*Ka,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Za,t[1]*=Za}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=Sn((e=+r)*Ka,i*Ka),t):e},t.precision=function(r){return arguments.length?(n=Sn(e*Ka,(i=+r)*Ka),t):i},t.angle(90)},ba.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ka,i=t[1]*Ka,o=e[1]*Ka,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),c=Math.cos(i),l=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=c*l-u*h*s)*n),u*l+c*h*s)},ba.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ba.range(Math.ceil(o/m)*m,i,m).map(f).concat(ba.range(Math.ceil(c/v)*v,u,v).map(p)).concat(ba.range(Math.ceil(r/d)*d,n,d).filter(function(t){return Math.abs(t%m)>Ya}).map(l)).concat(ba.range(Math.ceil(s/g)*g,a,g).filter(function(t){return Math.abs(t%v)>Ya}).map(h))}var n,r,i,o,a,s,u,c,l,h,f,p,d=10,g=d,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(p(u).slice(1),f(i).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],c=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),c>u&&(e=c,c=u,u=e),t.precision(y)):[[o,c],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(d=+e[0],g=+e[1],t):[d,g]},t.precision=function(e){return arguments.length?(y=+e,l=Tn(s,a,90),h=kn(r,n,y),f=Tn(c,u,90),p=kn(o,i,y),t):y},t.majorExtent([[-180,-90+Ya],[180,90-Ya]]).minorExtent([[-180,-80-Ya],[180,80+Ya]])},ba.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=En,i=An;return t.distance=function(){return ba.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},ba.geo.interpolate=function(t,e){return Nn(t[0]*Ka,t[1]*Ka,e[0]*Ka,e[1]*Ka)},ba.geo.length=function(t){return Gs=0,ba.geo.stream(t,Ks),Gs};var Gs,Ks={sphere:l,point:l,lineStart:jn,lineEnd:l,polygonStart:l,polygonEnd:l},Zs=qn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ba.geo.azimuthalEqualArea=function(){return mn(Zs)}).raw=Zs;var tu=qn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},he);(ba.geo.azimuthalEquidistant=function(){return mn(tu)}).raw=tu,(ba.geo.conicConformal=function(){return nn($n)}).raw=$n,(ba.geo.conicEquidistant=function(){return nn(Dn)}).raw=Dn;var eu=qn(function(t){return 1/t},Math.atan);(ba.geo.gnomonic=function(){return mn(eu)}).raw=eu,Pn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Xa/2]},(ba.geo.mercator=function(){return Hn(Pn)}).raw=Pn;var nu=qn(function(){return 1},Math.asin);(ba.geo.orthographic=function(){return mn(nu)}).raw=nu;var ru=qn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ba.geo.stereographic=function(){return mn(ru)}).raw=ru,Ln.invert=function(t,e){return[Math.atan2(B(t),Math.cos(e)),z(Math.sin(e)/W(t))]},(ba.geo.transverseMercator=function(){return Hn(Ln)}).raw=Ln,ba.geom={},ba.svg={},ba.svg.line=function(){return Rn(he)};var iu=ba.map({linear:In,"linear-closed":zn,step:Bn,"step-before":Wn,"step-after":Vn,basis:Gn,"basis-open":Kn,"basis-closed":Zn,bundle:tr,cardinal:Jn,"cardinal-open":Un,"cardinal-closed":Qn,monotone:ar});iu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var ou=[0,2/3,1/3,0],au=[0,1/3,2/3,0],su=[0,1/6,2/3,1/6];ba.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i,o,a,s,u,c,l,h,f,p,d,g=le(n),m=le(r),v=t.length,y=v-1,b=[],M=[],w=0;if(g===On&&r===Fn)e=t;else for(o=0,e=[];v>o;++o)e.push([+g.call(this,i=t[o],o),+m.call(this,i,o)]);for(o=1;v>o;++o)(e[o][1]<e[w][1]||e[o][1]==e[w][1]&&e[o][0]<e[w][0])&&(w=o);for(o=0;v>o;++o)o!==w&&(u=e[o][1]-e[w][1],s=e[o][0]-e[w][0],b.push({angle:Math.atan2(u,s),index:o}));for(b.sort(function(t,e){return t.angle-e.angle}),p=b[0].angle,f=b[0].index,h=0,o=1;y>o;++o){if(a=b[o].index,p==b[o].angle){if(s=e[f][0]-e[w][0],u=e[f][1]-e[w][1],c=e[a][0]-e[w][0],l=e[a][1]-e[w][1],s*s+u*u>=c*c+l*l){b[o].index=-1;continue}b[h].index=-1}p=b[o].angle,h=o,f=a}for(M.push(w),o=0,a=0;2>o;++a)b[a].index>-1&&(M.push(b[a].index),o++);for(d=M.length;y>a;++a)if(!(b[a].index<0)){for(;!sr(M[d-2],M[d-1],b[a].index,e);)--d;M[d++]=b[a].index}var x=[];for(o=d-1;o>=0;--o)x.push(t[M[o]]);return x}var n=On,r=Fn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},ba.geom.polygon=function(t){return t.area=function(){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return.5*r},t.centroid=function(e){var n,r,i=-1,o=t.length,a=0,s=0,u=t[o-1];for(arguments.length||(e=-1/(6*t.area()));++i<o;)n=u,u=t[i],r=n[0]*u[1]-u[0]*n[1],a+=(n[0]+u[0])*r,s+=(n[1]+u[1])*r;return[a*e,s*e]},t.clip=function(e){for(var n,r,i,o,a,s,u=-1,c=t.length,l=t[c-1];++u<c;){for(n=e.slice(),e.length=0,o=t[u],a=n[(i=n.length)-1],r=-1;++r<i;)s=n[r],ur(s,l,o)?(ur(a,l,o)||e.push(cr(a,s,l,o)),e.push(s)):ur(a,l,o)&&e.push(cr(a,s,l,o)),a=s;l=o}return e},t},ba.geom.delaunay=function(t){var e=t.map(function(){return[]}),n=[];return lr(t,function(n){e[n.region.l.index].push(t[n.region.r.index])}),e.forEach(function(e,r){var i=t[r],o=i[0],a=i[1];e.forEach(function(t){t.angle=Math.atan2(t[0]-o,t[1]-a)}),e.sort(function(t,e){return t.angle-e.angle});for(var s=0,u=e.length-1;u>s;s++)n.push([i,e[s],e[s+1]])}),n},ba.geom.voronoi=function(t){function e(t){var e,o,a,s=t.map(function(){return[]}),u=le(n),c=le(r),l=t.length,h=1e6;if(u===On&&c===Fn)e=t;else for(e=new Array(l),a=0;l>a;++a)e[a]=[+u.call(this,o=t[a],a),+c.call(this,o,a)];if(lr(e,function(t){var e,n,r,i,o,a;1===t.a&&t.b>=0?(e=t.ep.r,n=t.ep.l):(e=t.ep.l,n=t.ep.r),1===t.a?(o=e?e.y:-h,r=t.c-t.b*o,a=n?n.y:h,i=t.c-t.b*a):(r=e?e.x:-h,o=t.c-t.a*r,i=n?n.x:h,a=t.c-t.a*i);var u=[r,o],c=[i,a];s[t.region.l.index].push(u,c),s[t.region.r.index].push(u,c)}),s=s.map(function(t,n){var r=e[n][0],i=e[n][1],o=t.map(function(t){return Math.atan2(t[0]-r,t[1]-i)}),a=ba.range(t.length).sort(function(t,e){return o[t]-o[e]});return a.filter(function(t,e){return!e||o[t]-o[a[e-1]]>Ya}).map(function(e){return t[e]})}),s.forEach(function(t,n){var r=t.length;if(!r)return t.push([-h,-h],[-h,h],[h,h],[h,-h]);if(!(r>2)){var i=e[n],o=t[0],a=t[1],s=i[0],u=i[1],c=o[0],l=o[1],f=a[0],p=a[1],d=Math.abs(f-c),g=p-l;if(Math.abs(g)<Ya){var m=l>u?-h:h;t.push([-h,m],[h,m])}else if(Ya>d){var v=c>s?-h:h;t.push([v,-h],[v,h])}else{var m=(c-s)*(p-l)>(f-c)*(l-u)?h:-h,y=Math.abs(g)-d;Math.abs(y)<Ya?t.push([0>g?m:-m,m]):(y>0&&(m*=-1),t.push([-h,m],[h,m]))}}}),i)for(a=0;l>a;++a)i.clip(s[a]);for(a=0;l>a;++a)s[a].point=t[a];return s}var n=On,r=Fn,i=null;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.clipExtent=function(t){if(!arguments.length)return i&&[i[0],i[2]];if(null==t)i=null;else{var n=+t[0][0],r=+t[0][1],o=+t[1][0],a=+t[1][1];i=ba.geom.polygon([[n,r],[n,a],[o,a],[o,r]])}return e},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):i&&i[2]},e.links=function(t){var e,i,o,a=t.map(function(){return[]}),s=[],u=le(n),c=le(r),l=t.length;if(u===On&&c===Fn)e=t;else for(e=new Array(l),o=0;l>o;++o)e[o]=[+u.call(this,i=t[o],o),+c.call(this,i,o)];return lr(e,function(e){var n=e.region.l.index,r=e.region.r.index;a[n][r]||(a[n][r]=a[r][n]=!0,s.push({source:t[n],target:t[r]}))}),s},e.triangles=function(t){if(n===On&&r===Fn)return ba.geom.delaunay(t);for(var e,i=new Array(u),o=le(n),a=le(r),s=-1,u=t.length;++s<u;)(i[s]=[+o.call(this,e=t[s],s),+a.call(this,e,s)]).data=e;return ba.geom.delaunay(i).map(function(t){return t.map(function(t){return t.data})})},e)};var uu={l:"r",r:"l"};ba.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(Math.abs(u-n)+Math.abs(l-r)<.01)c(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,c(t,h,u,l,i,o,a,s),c(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else c(t,e,n,r,i,o,a,s)}function c(t,e,n,r,i,a,s,u){var c=.5*(i+s),l=.5*(a+u),h=n>=c,f=r>=l,p=(f<<1)+h;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=pr()),h?i=c:s=c,f?a=l:u=l,o(t,e,n,r,i,a,s,u)}var l,h,f,p,d,g,m,v,y,b=le(s),M=le(u);if(null!=e)g=e,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),h=[],f=[],d=t.length,a)for(p=0;d>p;++p)l=t[p],l.x<g&&(g=l.x),l.y<m&&(m=l.y),l.x>v&&(v=l.x),l.y>y&&(y=l.y),h.push(l.x),f.push(l.y);else for(p=0;d>p;++p){var w=+b(l=t[p],p),x=+M(l,p);g>w&&(g=w),m>x&&(m=x),w>v&&(v=w),x>y&&(y=x),h.push(w),f.push(x)}var _=v-g,S=y-m;_>S?y=m+_:v=g+S;var C=pr();if(C.add=function(t){o(C,t,+b(t,++p),+M(t,p),g,m,v,y)},C.visit=function(t){dr(t,C,g,m,v,y)},p=-1,null==e){for(;++p<d;)o(C,t[p],h[p],f[p],g,m,v,y);--p}else t.forEach(C.add);return h=f=t=l=null,C}var a,s=On,u=Fn;return(a=arguments.length)?(s=hr,u=fr,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},ba.interpolateRgb=gr,ba.transform=function(t){var e=Ma.createElementNS(ba.ns.prefix.svg,"g");return(ba.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new mr(n?n.matrix:cu)})(t)},mr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var cu={a:1,b:0,c:0,d:1,e:0,f:0};ba.interpolateNumber=Mr,ba.interpolateTransform=wr,ba.interpolateObject=xr,ba.interpolateString=_r;var lu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;ba.interpolate=Sr,ba.interpolators=[function(t,e){var n=typeof e;return("string"===n?ss.has(e)||/^(#|rgb\(|hsl\()/.test(e)?gr:_r:e instanceof H?gr:"object"===n?Array.isArray(e)?Tr:xr:Mr)(t,e)}],ba.interpolateArray=Tr;var hu=function(){return he},fu=ba.map({linear:hu,poly:$r,quad:function(){return Nr},cubic:function(){return jr},sin:function(){return Dr},exp:function(){return Pr},circle:function(){return Hr},elastic:Lr,back:Rr,bounce:function(){return Or}}),pu=ba.map({"in":he,out:Er,"in-out":Ar,"out-in":function(t){return Ar(Er(t))}});ba.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,r=e>=0?t.substring(e+1):"in";return n=fu.get(n)||hu,r=pu.get(r)||he,kr(r(n.apply(null,Array.prototype.slice.call(arguments,1))))},ba.interpolateHcl=Fr,ba.interpolateHsl=Ir,ba.interpolateLab=zr,ba.interpolateRound=Br,ba.layout={},ba.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Ur(t[n]));return e}},ba.layout.chord=function(){function t(){var t,c,h,f,p,d={},g=[],m=ba.range(o),v=[];for(n=[],r=[],t=0,f=-1;++f<o;){for(c=0,p=-1;++p<o;)c+=i[f][p];g.push(c),v.push(ba.range(o)),t+=c}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(2*Xa-l*o)/t,c=0,f=-1;++f<o;){for(h=c,p=-1;++p<o;){var y=m[f],b=v[y][p],M=i[y][b],w=c,x=c+=M*t;d[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:x,value:M}}r[y]={index:y,startAngle:h,endAngle:c,value:(c-h)/t},c+=l}for(f=-1;++f<o;)for(p=f-1;++p<o;){var _=d[f+"-"+p],S=d[p+"-"+f];(_.value||S.value)&&n.push(_.value<S.value?{source:S,target:_}:{source:_,target:S})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,u,c={},l=0;return c.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,c):i},c.padding=function(t){return arguments.length?(l=t,n=r=null,c):l},c.sortGroups=function(t){return arguments.length?(a=t,n=r=null,c):a},c.sortSubgroups=function(t){return arguments.length?(s=t,n=null,c):s},c.sortChords=function(t){return arguments.length?(u=t,n&&e(),c):u},c.chords=function(){return n||t(),n},c.groups=function(){return r||t(),r},c},ba.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=1/Math.sqrt(o*o+a*a);if(g>(i-n)*s){var u=e.charge*s*s;return t.px-=o*u,t.py-=a*u,!0}if(e.point&&isFinite(s)){var u=e.pointCharge*s*s;t.px-=o*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=ba.event.x,t.py=ba.event.y,s.resume()}var n,r,i,o,a,s={},u=ba.dispatch("start","tick","end"),c=[1,1],l=.9,h=du,f=gu,p=-30,d=.1,g=.8,m=[],v=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var e,n,s,h,f,g,y,b,M,w=m.length,x=v.length;for(n=0;x>n;++n)s=v[n],h=s.source,f=s.target,b=f.x-h.x,M=f.y-h.y,(g=b*b+M*M)&&(g=r*o[n]*((g=Math.sqrt(g))-i[n])/g,b*=g,M*=g,f.x-=b*(y=h.weight/(f.weight+h.weight)),f.y-=M*y,h.x+=b*(y=1-y),h.y+=M*y);if((y=r*d)&&(b=c[0]/2,M=c[1]/2,n=-1,y))for(;++n<w;)s=m[n],s.x+=(b-s.x)*y,s.y+=(M-s.y)*y;if(p)for(Zr(e=ba.geom.quadtree(m),r,a),n=-1;++n<w;)(s=m[n]).fixed||e.visit(t(s));for(n=-1;++n<w;)s=m[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*l,s.y-=(s.py-(s.py=s.y))*l);u.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(v=t,s):v},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(l=+t,s):l},s.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,s):p},s.gravity=function(t){return arguments.length?(d=+t,s):d},s.theta=function(t){return arguments.length?(g=+t,s):g},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(u.start({type:"start",alpha:r=t}),ba.timer(s.tick)),s):r},s.start=function(){function t(t,r){for(var i,o=e(n),a=-1,s=o.length;++a<s;)if(!isNaN(i=o[a][t]))return i;return Math.random()*r}function e(){if(!u){for(u=[],r=0;d>r;++r)u[r]=[];for(r=0;g>r;++r){var t=v[r];u[t.source.index].push(t.target),u[t.target.index].push(t.source)}}return u[n]}var n,r,u,l,d=m.length,g=v.length,y=c[0],b=c[1];for(n=0;d>n;++n)(l=m[n]).index=n,l.weight=0;for(n=0;g>n;++n)l=v[n],"number"==typeof l.source&&(l.source=m[l.source]),"number"==typeof l.target&&(l.target=m[l.target]),++l.source.weight,++l.target.weight;for(n=0;d>n;++n)l=m[n],isNaN(l.x)&&(l.x=t("x",y)),isNaN(l.y)&&(l.y=t("y",b)),isNaN(l.px)&&(l.px=l.x),isNaN(l.py)&&(l.py=l.y);if(i=[],"function"==typeof h)for(n=0;g>n;++n)i[n]=+h.call(this,v[n],n);else for(n=0;g>n;++n)i[n]=h;if(o=[],"function"==typeof f)for(n=0;g>n;++n)o[n]=+f.call(this,v[n],n);else for(n=0;g>n;++n)o[n]=f;if(a=[],"function"==typeof p)for(n=0;d>n;++n)a[n]=+p.call(this,m[n],n);else for(n=0;d>n;++n)a[n]=p;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=ba.behavior.drag().origin(he).on("dragstart.force",Xr).on("drag.force",e).on("dragend.force",Yr)),arguments.length?(this.on("mouseover.force",Gr).on("mouseout.force",Kr).call(n),void 0):n},ba.rebind(s,u,"on")};var du=20,gu=1;ba.layout.hierarchy=function(){function t(e,a,s){var u=i.call(n,e,a);if(e.depth=a,s.push(e),u&&(c=u.length)){for(var c,l,h=-1,f=e.children=[],p=0,d=a+1;++h<c;)l=t(u[h],d,s),l.parent=e,f.push(l),p+=l.value;r&&f.sort(r),o&&(e.value=p)}else o&&(e.value=+o.call(n,e,a)||0);return e}function e(t,r){var i=t.children,a=0;if(i&&(s=i.length))for(var s,u=-1,c=r+1;++u<s;)a+=e(i[u],c);else o&&(a=+o.call(n,t,r)||0);return o&&(t.value=a),a}function n(e){var n=[];return t(e,0,n),n}var r=ri,i=ei,o=ni;return n.sort=function(t){return arguments.length?(r=t,n):r},n.children=function(t){return arguments.length?(i=t,n):i},n.value=function(t){return arguments.length?(o=t,n):o},n.revalue=function(t){return e(t,0),t},n},ba.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,c=-1;for(r=e.value?r/e.value:0;++c<a;)t(s=o[c],n,u=s.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=ba.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},ti(n,r)},ba.layout.pie=function(){function t(o){var a=o.map(function(n,r){return+e.call(t,n,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-s)/ba.sum(a),c=ba.range(o.length);null!=n&&c.sort(n===mu?function(t,e){return a[e]-a[t]}:function(t,e){return n(o[t],o[e])});var l=[];return c.forEach(function(t){var e;l[t]={data:o[t],value:e=a[t],startAngle:s,endAngle:s+=e*u}}),l}var e=Number,n=mu,r=0,i=2*Xa;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t};var mu={};ba.layout.stack=function(){function t(s,u){var c=s.map(function(n,r){return e.call(t,n,r)}),l=c.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,l,u);c=ba.permute(c,h),l=ba.permute(l,h);var f,p,d,g=r.call(t,l,u),m=c.length,v=c[0].length;for(p=0;v>p;++p)for(i.call(t,c[0][p],d=g[p],l[0][p][1]),f=1;m>f;++f)i.call(t,c[f][p],d+=l[f-1][p][1],l[f][p][1]);return s}var e=he,n=ui,r=ci,i=si,o=oi,a=ai;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:vu.get(e)||ui,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:yu.get(e)||ci,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var vu=ba.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(li),o=t.map(hi),a=ba.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,c=[],l=[];for(e=0;r>e;++e)n=a[e],u>s?(s+=o[n],c.push(n)):(u+=o[n],l.push(n));return l.reverse().concat(c)},reverse:function(t){return ba.range(t.length).reverse()},"default":ui}),yu=ba.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,c,l=t.length,h=t[0],f=h.length,p=[];for(p[0]=u=c=0,n=1;f>n;++n){for(e=0,i=0;l>e;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];l>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}p[n]=u-=i?o/i*s:0,c>u&&(c=u)}for(n=0;f>n;++n)p[n]-=c;return p},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:ci});ba.layout.histogram=function(){function t(t,o){for(var a,s,u=[],c=t.map(n,this),l=r.call(this,c,o),h=i.call(this,l,c,o),o=-1,f=c.length,p=h.length-1,d=e?1:1/f;++o<p;)a=u[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(p>0)for(o=-1;++o<f;)s=c[o],s>=l[0]&&s<=l[1]&&(a=u[ba.bisect(h,s,1,p)-1],a.y+=d,a.push(t[o]));return u}var e=!0,n=Number,r=gi,i=pi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=le(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return di(t,e)}:le(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ba.layout.tree=function(){function t(t,o){function a(t,e){var r=t.children,i=t._tree;if(r&&(o=r.length)){for(var o,s,c,l=r[0],h=l,f=-1;++f<o;)c=r[f],a(c,s),h=u(c,s,h),s=c;Si(t);var p=.5*(l._tree.prelim+c._tree.prelim);e?(i.prelim=e._tree.prelim+n(t,e),i.mod=i.prelim-p):i.prelim=p}else e&&(i.prelim=e._tree.prelim+n(t,e))}function s(t,e){t.x=t._tree.prelim+e;var n=t.children;if(n&&(r=n.length)){var r,i=-1;for(e+=t._tree.mod;++i<r;)s(n[i],e)}}function u(t,e,r){if(e){for(var i,o=t,a=t,s=e,u=t.parent.children[0],c=o._tree.mod,l=a._tree.mod,h=s._tree.mod,f=u._tree.mod;s=yi(s),o=vi(o),s&&o;)u=vi(u),a=yi(a),a._tree.ancestor=t,i=s._tree.prelim+h-o._tree.prelim-c+n(s,o),i>0&&(Ci(Ti(s,t,r),t,i),c+=i,l+=i),h+=s._tree.mod,c+=o._tree.mod,f+=u._tree.mod,l+=a._tree.mod;s&&!yi(a)&&(a._tree.thread=s,a._tree.mod+=h-l),o&&!vi(u)&&(u._tree.thread=o,u._tree.mod+=c-f,r=t)}return r}var c=e.call(this,t,o),l=c[0];_i(l,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),a(l),s(l,-l._tree.prelim);var h=bi(l,wi),f=bi(l,Mi),p=bi(l,xi),d=h.x-n(h,f)/2,g=f.x+n(f,h)/2,m=p.depth||1;return _i(l,i?function(t){t.x*=r[0],t.y=t.depth*r[1],delete t._tree}:function(t){t.x=(t.x-d)/(g-d)*r[0],t.y=t.depth/m*r[1],delete t._tree}),c}var e=ba.layout.hierarchy().sort(null).value(null),n=mi,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},ti(t,e)},ba.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],c=i[1],l=e||Math.sqrt;if(s.x=s.y=0,_i(s,function(t){t.r=l(t.value)}),_i(s,ji),r){var h=r*(e?1:Math.max(2*s.r/u,2*s.r/c))/2;_i(s,function(t){t.r+=h}),_i(s,ji),_i(s,function(t){t.r-=h})}return Di(s,u/2,c/2,e?1:1/Math.max(2*s.r/u,2*s.r/c)),a}var e,n=ba.layout.hierarchy().sort(ki),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},ti(t,n)},ba.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],c=0;_i(u,function(t){var e=t.children;e&&e.length?(t.x=Li(e),t.y=Hi(e)):(t.x=a?c+=n(t,a):0,t.y=0,a=t)});var l=Ri(u),h=Oi(u),f=l.x-n(l,h)/2,p=h.x+n(h,l)/2;return _i(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(p-f)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=ba.layout.hierarchy().sort(null).value(null),n=mi,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},ti(t,e)},ba.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,u,c=h(n),l=[],f=o.slice(),d=1/0,g="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(f,c.dx*c.dy/n.value),l.area=0;(u=f.length)>0;)l.push(a=f[u-1]),l.area+=a.area,"squarify"!==p||(s=r(l,g))<=d?(f.pop(),d=s):(l.area-=l.pop().area,i(l,g,c,!1),g=Math.min(c.dx,c.dy),l.length=l.area=0,d=1/0);l.length&&(i(l,g,c,!0),l.length=l.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=h(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*d/r,r/(e*o*d)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,c=n.y,l=e?u(t.area/e):0;if(e==n.dx){for((r||l>n.dy)&&(l=n.dy);++o<a;)i=t[o],i.x=s,i.y=c,i.dy=l,s+=i.dx=Math.min(n.x+n.dx-s,l?u(i.area/l):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((r||l>n.dx)&&(l=n.dx);++o<a;)i=t[o],i.x=s,i.y=c,i.dx=l,c+=i.dy=Math.min(n.y+n.dy-c,l?u(i.area/l):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=l,n.dx-=l}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=c[0],o.dy=c[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),f&&(a=i),i}var a,s=ba.layout.hierarchy(),u=Math.round,c=[1,1],l=null,h=Fi,f=!1,p="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(c=t,o):c},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Fi(e):Ii(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Ii(e,t)}if(!arguments.length)return l;var r;return h=null==(l=t)?Fi:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(f=t,a=null,o):f},o.ratio=function(t){return arguments.length?(d=t,o):d},o.mode=function(t){return arguments.length?(p=t+"",o):p},ti(o,s)},ba.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=ba.random.normal.apply(ba,arguments);return function(){return Math.exp(t())}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e/t}}},ba.scale={};var bu={floor:he,ceil:he};ba.scale.linear=function(){return Ji([0,1],[0,1],Sr,!1)},ba.scale.log=function(){return eo(ba.scale.linear().domain([0,Math.LN10]),10,no,ro,[1,10])};var Mu=ba.format(".0e");ba.scale.pow=function(){return ao(ba.scale.linear(),1,[0,1])},ba.scale.sqrt=function(){return ba.scale.pow().exponent(.5)},ba.scale.ordinal=function(){return uo([],{t:"range",a:[[]]})},ba.scale.category10=function(){return ba.scale.ordinal().range(wu)},ba.scale.category20=function(){return ba.scale.ordinal().range(xu)},ba.scale.category20b=function(){return ba.scale.ordinal().range(_u)},ba.scale.category20c=function(){return ba.scale.ordinal().range(Su)};var wu=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],xu=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],_u=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Su=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];ba.scale.quantile=function(){return co([],[])},ba.scale.quantize=function(){return lo(0,1,[0,1])},ba.scale.threshold=function(){return ho([.5],[0,1])},ba.scale.identity=function(){return fo([0,1])},ba.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),a=r.apply(this,arguments)+Cu,s=i.apply(this,arguments)+Cu,u=(a>s&&(u=a,a=s,s=u),s-a),c=Xa>u?"0":"1",l=Math.cos(a),h=Math.sin(a),f=Math.cos(s),p=Math.sin(s);return u>=Tu?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*l+","+o*h+"A"+o+","+o+" 0 "+c+",1 "+o*f+","+o*p+"L"+t*f+","+t*p+"A"+t+","+t+" 0 "+c+",0 "+t*l+","+t*h+"Z":"M"+o*l+","+o*h+"A"+o+","+o+" 0 "+c+",1 "+o*f+","+o*p+"L0,0"+"Z"}var e=po,n=go,r=mo,i=vo;return t.innerRadius=function(n){return arguments.length?(e=le(n),t):e},t.outerRadius=function(e){return arguments.length?(n=le(e),t):n},t.startAngle=function(e){return arguments.length?(r=le(e),t):r},t.endAngle=function(e){return arguments.length?(i=le(e),t):i},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+Cu;return[Math.cos(o)*t,Math.sin(o)*t]},t};var Cu=-Xa/2,Tu=2*Xa-1e-6;ba.svg.line.radial=function(){var t=Rn(yo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Wn.reverse=Vn,Vn.reverse=Wn,ba.svg.area=function(){return bo(he)},ba.svg.area.radial=function(){var t=bo(yo);
return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ba.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),c=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,c)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)+Cu,l=c.call(t,i,r)+Cu;return{r:o,a0:a,a1:l,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(l),o*Math.sin(l)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Xa)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=En,a=An,s=Mo,u=mo,c=vo;return t.radius=function(e){return arguments.length?(s=le(e),t):s},t.source=function(e){return arguments.length?(o=le(e),t):o},t.target=function(e){return arguments.length?(a=le(e),t):a},t.startAngle=function(e){return arguments.length?(u=le(e),t):u},t.endAngle=function(e){return arguments.length?(c=le(e),t):c},t},ba.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=En,n=An,r=wo;return t.source=function(n){return arguments.length?(e=le(n),t):e},t.target=function(e){return arguments.length?(n=le(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},ba.svg.diagonal.radial=function(){var t=ba.svg.diagonal(),e=wo,n=t.projection;return t.projection=function(t){return arguments.length?n(xo(e=t)):e},t},ba.svg.symbol=function(){function t(t,r){return(ku.get(e.call(this,t,r))||Co)(n.call(this,t,r))}var e=So,n=_o;return t.type=function(n){return arguments.length?(e=le(n),t):e},t.size=function(e){return arguments.length?(n=le(e),t):n},t};var ku=ba.map({circle:Co,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Nu)),n=e*Nu;return"M0,"+-e+"L"+n+",0"+" 0,"+e+" "+-n+",0"+"Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Au),n=e*Au/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Au),n=e*Au/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ba.svg.symbolTypes=ku.keys();var Eu,Au=Math.sqrt(3),Nu=Math.tan(30*Ka),ju=[],qu=0,$u={ease:qr,delay:0,duration:250};ju.call=Ra.call,ju.empty=Ra.empty,ju.node=Ra.node,ju.size=Ra.size,ba.transition=function(t){return arguments.length?Eu?t.transition():t:Ia.transition()},ba.transition.prototype=ju,ju.select=function(t){var e,n,r,i=this.id,o=[];"function"!=typeof t&&(t=v(t));for(var a=-1,s=this.length;++a<s;){o.push(e=[]);for(var u=this[a],c=-1,l=u.length;++c<l;)(r=u[c])&&(n=t.call(r,r.__data__,c))?("__data__"in r&&(n.__data__=r.__data__),Ao(n,c,i,r.__transition__[i]),e.push(n)):e.push(null)}return To(o,i)},ju.selectAll=function(t){var e,n,r,i,o,a=this.id,s=[];"function"!=typeof t&&(t=y(t));for(var u=-1,c=this.length;++u<c;)for(var l=this[u],h=-1,f=l.length;++h<f;)if(r=l[h]){o=r.__transition__[a],n=t.call(r,r.__data__,h),s.push(e=[]);for(var p=-1,d=n.length;++p<d;)(i=n[p])&&Ao(i,p,a,o),e.push(i)}return To(s,a)},ju.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=k(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s)&&e.push(r)}return To(i,this.id,this.time).ease(this.ease())},ju.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):A(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})},ju.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a=Cr(t),s=ba.ns.qualify(t);return ko(this,"attr."+t,e,s.local?o:i)},ju.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=ba.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},ju.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=xa.getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=a(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}var a=Cr(t);return ko(this,"style."+t,e,i)},ju.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,xa.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},ju.text=function(t){return ko(this,"text",t,Eo)},ju.remove=function(){return this.each("end.transition",function(){var t;!this.__transition__&&(t=this.parentNode)&&t.removeChild(this)})},ju.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=ba.ease.apply(ba,arguments)),A(this,function(n){n.__transition__[e].ease=t}))},ju.delay=function(t){var e=this.id;return A(this,"function"==typeof t?function(n,r,i){n.__transition__[e].delay=0|t.call(n,n.__data__,r,i)}:(t|=0,function(n){n.__transition__[e].delay=t}))},ju.duration=function(t){var e=this.id;return A(this,"function"==typeof t?function(n,r,i){n.__transition__[e].duration=Math.max(1,0|t.call(n,n.__data__,r,i))}:(t=Math.max(1,0|t),function(n){n.__transition__[e].duration=t}))},ju.each=function(t,e){var n=this.id;if(arguments.length<2){var r=$u,i=Eu;Eu=n,A(this,function(e,r,i){$u=e.__transition__[n],t.call(e,e.__data__,r,i)}),$u=r,Eu=i}else A(this,function(r){r.__transition__[n].event.on(t,e)});return this},ju.transition=function(){for(var t,e,n,r,i=this.id,o=++qu,a=[],s=0,u=this.length;u>s;s++){a.push(t=[]);for(var e=this[s],c=0,l=e.length;l>c;c++)(n=e[c])&&(r=Object.create(n.__transition__[i]),r.delay+=r.duration,Ao(n,c,o,r)),t.push(n)}return To(a,o)},ba.svg.axis=function(){function t(t){t.each(function(){var t,h=ba.select(this),f=null==c?n.ticks?n.ticks.apply(n,u):n.domain():c,p=null==e?n.tickFormat?n.tickFormat.apply(n,u):String:e,d=qo(n,f,l),g=h.selectAll(".tick.minor").data(d,String),m=g.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-6),v=ba.transition(g.exit()).style("opacity",1e-6).remove(),y=ba.transition(g).style("opacity",1),b=h.selectAll(".tick.major").data(f,String),M=b.enter().insert("g",".domain").attr("class","tick major").style("opacity",1e-6),w=ba.transition(b.exit()).style("opacity",1e-6).remove(),x=ba.transition(b).style("opacity",1),_=Bi(n),S=h.selectAll(".domain").data([0]),C=(S.enter().append("path").attr("class","domain"),ba.transition(S)),T=n.copy(),k=this.__chart__||T;this.__chart__=T,M.append("line"),M.append("text");var E=M.select("line"),A=x.select("line"),N=b.select("text").text(p),j=M.select("text"),q=x.select("text");switch(r){case"bottom":t=No,m.attr("y2",o),y.attr("x2",0).attr("y2",o),E.attr("y2",i),j.attr("y",Math.max(i,0)+s),A.attr("x2",0).attr("y2",i),q.attr("x",0).attr("y",Math.max(i,0)+s),N.attr("dy",".71em").style("text-anchor","middle"),C.attr("d","M"+_[0]+","+a+"V0H"+_[1]+"V"+a);break;case"top":t=No,m.attr("y2",-o),y.attr("x2",0).attr("y2",-o),E.attr("y2",-i),j.attr("y",-(Math.max(i,0)+s)),A.attr("x2",0).attr("y2",-i),q.attr("x",0).attr("y",-(Math.max(i,0)+s)),N.attr("dy","0em").style("text-anchor","middle"),C.attr("d","M"+_[0]+","+-a+"V0H"+_[1]+"V"+-a);break;case"left":t=jo,m.attr("x2",-o),y.attr("x2",-o).attr("y2",0),E.attr("x2",-i),j.attr("x",-(Math.max(i,0)+s)),A.attr("x2",-i).attr("y2",0),q.attr("x",-(Math.max(i,0)+s)).attr("y",0),N.attr("dy",".32em").style("text-anchor","end"),C.attr("d","M"+-a+","+_[0]+"H0V"+_[1]+"H"+-a);break;case"right":t=jo,m.attr("x2",o),y.attr("x2",o).attr("y2",0),E.attr("x2",i),j.attr("x",Math.max(i,0)+s),A.attr("x2",i).attr("y2",0),q.attr("x",Math.max(i,0)+s).attr("y",0),N.attr("dy",".32em").style("text-anchor","start"),C.attr("d","M"+a+","+_[0]+"H0V"+_[1]+"H"+a)}if(n.ticks)M.call(t,k),x.call(t,T),w.call(t,T),m.call(t,k),y.call(t,T),v.call(t,T);else{var $=T.rangeBand()/2,D=function(t){return T(t)+$};M.call(t,D),x.call(t,D)}})}var e,n=ba.scale.linear(),r=Du,i=6,o=6,a=6,s=3,u=[10],c=null,l=0;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Pu?e+"":Du,t):r},t.ticks=function(){return arguments.length?(u=arguments,t):u},t.tickValues=function(e){return arguments.length?(c=e,t):c},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e,n){if(!arguments.length)return i;var r=arguments.length-1;return i=+e,o=r>1?+n:i,a=r>0?+arguments[r]:i,t},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(e){return arguments.length?(l=+e,t):l},t};var Du="bottom",Pu={top:1,right:1,bottom:1,left:1};ba.svg.brush=function(){function t(o){o.each(function(){var o,a=ba.select(this),l=a.selectAll(".background").data([0]),h=a.selectAll(".extent").data([0]),f=a.selectAll(".resize").data(c,String);a.style("pointer-events","all").on("mousedown.brush",i).on("touchstart.brush",i),l.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),h.enter().append("rect").attr("class","extent").style("cursor","move"),f.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Hu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),f.style("display",t.empty()?"none":null),f.exit().remove(),s&&(o=Bi(s),l.attr("x",o[0]).attr("width",o[1]-o[0]),n(a)),u&&(o=Bi(u),l.attr("y",o[0]).attr("height",o[1]-o[0]),r(a)),e(a)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+l[+/e$/.test(t)][0]+","+l[+/^s/.test(t)][1]+")"})}function n(t){t.select(".extent").attr("x",l[0][0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1][0]-l[0][0])}function r(t){t.select(".extent").attr("y",l[0][1]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1][1]-l[0][1])}function i(){function i(){var t=ba.event.changedTouches;return t?ba.touches(b,t)[0]:ba.mouse(b)}function c(){32==ba.event.keyCode&&(T||(v=null,E[0]-=l[1][0],E[1]-=l[1][1],T=2),p())}function f(){32==ba.event.keyCode&&2==T&&(E[0]+=l[1][0],E[1]+=l[1][1],T=0,p())}function d(){var t=i(),o=!1;y&&(t[0]+=y[0],t[1]+=y[1]),T||(ba.event.altKey?(v||(v=[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2]),E[0]=l[+(t[0]<v[0])][0],E[1]=l[+(t[1]<v[1])][1]):v=null),S&&g(t,s,0)&&(n(x),o=!0),C&&g(t,u,1)&&(r(x),o=!0),o&&(e(x),w({type:"brush",mode:T?"move":"resize"}))}function g(t,e,n){var r,i,a=Bi(e),s=a[0],u=a[1],c=E[n],f=l[1][n]-l[0][n];return T&&(s-=c,u-=f+c),r=h[n]?Math.max(s,Math.min(u,t[n])):t[n],T?i=(r+=c)+f:(v&&(c=Math.max(s,Math.min(u,2*v[n]-r))),r>c?(i=r,r=c):i=c),l[0][n]!==r||l[1][n]!==i?(o=null,l[0][n]=r,l[1][n]=i,!0):void 0}function m(){d(),x.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ba.select("body").style("cursor",null),A.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),w({type:"brushend"})}var v,y,b=this,M=ba.select(ba.event.target),w=a.of(b,arguments),x=ba.select(b),_=M.datum(),S=!/^(n|s)$/.test(_)&&s,C=!/^(e|w)$/.test(_)&&u,T=M.classed("extent"),k=D("brush"),E=i(),A=ba.select(xa).on("keydown.brush",c).on("keyup.brush",f);if(ba.event.changedTouches?A.on("touchmove.brush",d).on("touchend.brush",m):A.on("mousemove.brush",d).on("mouseup.brush",m),T)E[0]=l[0][0]-E[0],E[1]=l[0][1]-E[1];else if(_){var N=+/w$/.test(_),j=+/^n/.test(_);y=[l[1-N][0]-E[0],l[1-j][1]-E[1]],E[0]=l[N][0],E[1]=l[j][1]}else ba.event.altKey&&(v=E.slice());x.style("pointer-events","none").selectAll(".resize").style("display",null),ba.select("body").style("cursor",M.style("cursor")),w({type:"brushstart"}),d()}var o,a=g(t,"brushstart","brush","brushend"),s=null,u=null,c=Lu[0],l=[[0,0],[0,0]],h=[!0,!0];return t.x=function(e){return arguments.length?(s=e,c=Lu[!s<<1|!u],t):s},t.y=function(e){return arguments.length?(u=e,c=Lu[!s<<1|!u],t):u},t.clamp=function(e){return arguments.length?(s&&u?h=[!!e[0],!!e[1]]:(s||u)&&(h[+!s]=!!e),t):s&&u?h:s||u?h[+!s]:null},t.extent=function(e){var n,r,i,a,c;return arguments.length?(o=[[0,0],[0,0]],s&&(n=e[0],r=e[1],u&&(n=n[0],r=r[0]),o[0][0]=n,o[1][0]=r,s.invert&&(n=s(n),r=s(r)),n>r&&(c=n,n=r,r=c),l[0][0]=0|n,l[1][0]=0|r),u&&(i=e[0],a=e[1],s&&(i=i[1],a=a[1]),o[0][1]=i,o[1][1]=a,u.invert&&(i=u(i),a=u(a)),i>a&&(c=i,i=a,a=c),l[0][1]=0|i,l[1][1]=0|a),t):(e=o||l,s&&(n=e[0][0],r=e[1][0],o||(n=l[0][0],r=l[1][0],s.invert&&(n=s.invert(n),r=s.invert(r)),n>r&&(c=n,n=r,r=c))),u&&(i=e[0][1],a=e[1][1],o||(i=l[0][1],a=l[1][1],u.invert&&(i=u.invert(i),a=u.invert(a)),i>a&&(c=i,i=a,a=c))),s&&u?[[n,i],[r,a]]:s?[n,r]:u&&[i,a])},t.clear=function(){return o=null,l[0][0]=l[0][1]=l[1][0]=l[1][1]=0,t},t.empty=function(){return s&&l[0][0]===l[1][0]||u&&l[0][1]===l[1][1]},ba.rebind(t,a,"on")};var Hu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Lu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];ba.time={};var Ru=Date,Ou=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];$o.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Fu.setUTCDate.apply(this._,arguments)},setDay:function(){Fu.setUTCDay.apply(this._,arguments)},setFullYear:function(){Fu.setUTCFullYear.apply(this._,arguments)},setHours:function(){Fu.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Fu.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Fu.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Fu.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Fu.setUTCSeconds.apply(this._,arguments)},setTime:function(){Fu.setTime.apply(this._,arguments)}};var Fu=Date.prototype,Iu="%a %b %e %X %Y",zu="%m/%d/%Y",Bu="%H:%M:%S",Wu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Vu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Uu=["January","February","March","April","May","June","July","August","September","October","November","December"],Qu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];ba.time.year=Do(function(t){return t=ba.time.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ba.time.years=ba.time.year.range,ba.time.years.utc=ba.time.year.utc.range,ba.time.day=Do(function(t){var e=new Ru(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ba.time.days=ba.time.day.range,ba.time.days.utc=ba.time.day.utc.range,ba.time.dayOfYear=function(t){var e=ba.time.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},Ou.forEach(function(t,e){t=t.toLowerCase(),e=7-e;var n=ba.time[t]=Do(function(t){return(t=ba.time.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ba.time.year(t).getDay();return Math.floor((ba.time.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ba.time[t+"s"]=n.range,ba.time[t+"s"].utc=n.utc.range,ba.time[t+"OfYear"]=function(t){var n=ba.time.year(t).getDay();return Math.floor((ba.time.dayOfYear(t)+(n+e)%7)/7)}}),ba.time.week=ba.time.sunday,ba.time.weeks=ba.time.sunday.range,ba.time.weeks.utc=ba.time.sunday.utc.range,ba.time.weekOfYear=ba.time.sundayOfYear,ba.time.format=function(t){function e(e){for(var r,i,o,a=[],s=-1,u=0;++s<n;)37===t.charCodeAt(s)&&(a.push(t.substring(u,s)),null!=(i=rc[r=t.charAt(++s)])&&(r=t.charAt(++s)),(o=ic[r])&&(r=o(e,null==i?"e"===r?" ":"0":i)),a.push(r),u=s+1);return a.push(t.substring(u,s)),a.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},r=Ho(n,t,e,0);if(r!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=new Ru;return"j"in n?i.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H,n.M,n.S,n.L),i},e.toString=function(){return t},e};var Ju=Lo(Wu),Xu=Ro(Wu),Yu=Lo(Vu),Gu=Ro(Vu),Ku=Lo(Uu),Zu=Ro(Uu),tc=Lo(Qu),ec=Ro(Qu),nc=/^%/,rc={"-":"",_:" ",0:"0"},ic={a:function(t){return Vu[t.getDay()]},A:function(t){return Wu[t.getDay()]},b:function(t){return Qu[t.getMonth()]},B:function(t){return Uu[t.getMonth()]},c:ba.time.format(Iu),d:function(t,e){return Oo(t.getDate(),e,2)},e:function(t,e){return Oo(t.getDate(),e,2)},H:function(t,e){return Oo(t.getHours(),e,2)},I:function(t,e){return Oo(t.getHours()%12||12,e,2)},j:function(t,e){return Oo(1+ba.time.dayOfYear(t),e,3)},L:function(t,e){return Oo(t.getMilliseconds(),e,3)},m:function(t,e){return Oo(t.getMonth()+1,e,2)},M:function(t,e){return Oo(t.getMinutes(),e,2)},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t,e){return Oo(t.getSeconds(),e,2)},U:function(t,e){return Oo(ba.time.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Oo(ba.time.mondayOfYear(t),e,2)},x:ba.time.format(zu),X:ba.time.format(Bu),y:function(t,e){return Oo(t.getFullYear()%100,e,2)},Y:function(t,e){return Oo(t.getFullYear()%1e4,e,4)},Z:sa,"%":function(){return"%"}},oc={a:Fo,A:Io,b:Vo,B:Uo,c:Qo,d:ta,e:ta,H:na,I:na,j:ea,L:oa,m:Zo,M:ra,p:aa,S:ia,U:Bo,w:zo,W:Wo,x:Jo,X:Xo,y:Go,Y:Yo,"%":ua},ac=/^\s*\d+/,sc=ba.map({am:0,pm:1});ba.time.format.utc=function(t){function e(t){try{Ru=$o;var e=new Ru;return e._=t,n(e)}finally{Ru=Date}}var n=ba.time.format(t);return e.parse=function(t){try{Ru=$o;var e=n.parse(t);return e&&e._}finally{Ru=Date}},e.toString=n.toString,e};var uc=ba.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");ba.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ca:uc,ca.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ca.toString=uc.toString,ba.time.second=Do(function(t){return new Ru(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ba.time.seconds=ba.time.second.range,ba.time.seconds.utc=ba.time.second.utc.range,ba.time.minute=Do(function(t){return new Ru(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ba.time.minutes=ba.time.minute.range,ba.time.minutes.utc=ba.time.minute.utc.range,ba.time.hour=Do(function(t){var e=t.getTimezoneOffset()/60;return new Ru(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ba.time.hours=ba.time.hour.range,ba.time.hours.utc=ba.time.hour.utc.range,ba.time.month=Do(function(t){return t=ba.time.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ba.time.months=ba.time.month.range,ba.time.months.utc=ba.time.month.utc.range;var cc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],lc=[[ba.time.second,1],[ba.time.second,5],[ba.time.second,15],[ba.time.second,30],[ba.time.minute,1],[ba.time.minute,5],[ba.time.minute,15],[ba.time.minute,30],[ba.time.hour,1],[ba.time.hour,3],[ba.time.hour,6],[ba.time.hour,12],[ba.time.day,1],[ba.time.day,2],[ba.time.week,1],[ba.time.month,1],[ba.time.month,3],[ba.time.year,1]],hc=[[ba.time.format("%Y"),Fe],[ba.time.format("%B"),function(t){return t.getMonth()}],[ba.time.format("%b %d"),function(t){return 1!=t.getDate()}],[ba.time.format("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[ba.time.format("%I %p"),function(t){return t.getHours()}],[ba.time.format("%I:%M"),function(t){return t.getMinutes()}],[ba.time.format(":%S"),function(t){return t.getSeconds()}],[ba.time.format(".%L"),function(t){return t.getMilliseconds()}]],fc=ba.scale.linear(),pc=fa(hc);lc.year=function(t,e){return fc.domain(t.map(da)).ticks(e).map(pa)},ba.time.scale=function(){return la(ba.scale.linear(),lc,pc)};var dc=lc.map(function(t){return[t[0].utc,t[1]]}),gc=[[ba.time.format.utc("%Y"),Fe],[ba.time.format.utc("%B"),function(t){return t.getUTCMonth()}],[ba.time.format.utc("%b %d"),function(t){return 1!=t.getUTCDate()}],[ba.time.format.utc("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[ba.time.format.utc("%I %p"),function(t){return t.getUTCHours()}],[ba.time.format.utc("%I:%M"),function(t){return t.getUTCMinutes()}],[ba.time.format.utc(":%S"),function(t){return t.getUTCSeconds()}],[ba.time.format.utc(".%L"),function(t){return t.getUTCMilliseconds()}]],mc=fa(gc);return dc.year=function(t,e){return fc.domain(t.map(ma)).ticks(e).map(ga)},ba.time.scale.utc=function(){return la(ba.scale.linear(),dc,mc)},ba.text=fe(function(t){return t.responseText}),ba.json=function(t,e){return pe(t,"application/json",va,e)},ba.html=function(t,e){return pe(t,"text/html",ya,e)},ba.xml=fe(function(t){return t.responseXML}),ba}(),function(){function t(t){function r(){for(;s=l<c.length&&t>h;){var e=l++,r=c[e],o=n.call(r,1);o.push(i(e)),++h,r[0].apply(null,o)}}function i(t){return function(e,n){--h,null==p&&(null!=e?(p=e,l=f=0/0,o()):(c[t]=n,--f?s||r():o()))}}function o(){null!=p?d(p):u?d(p,c):d.apply(null,[p].concat(c))}var a,s,u,c=[],l=0,h=0,f=0,p=null,d=e;return t||(t=1/0),a={defer:function(){return p||(c.push(arguments),++f,r()),a},await:function(t){return d=t,u=!1,f||o(),a},awaitAll:function(t){return d=t,u=!0,f||o(),a}}}function e(){}"undefined"==typeof module?self.queue=t:module.exports=t,t.version="1.0.4";var n=[].slice}(),!function(){function t(t){return t?t/Math.sin(t):1}function e(t){return t>0?1:0>t?-1:0}function n(t){return t>1?Ze/2:-1>t?-Ze/2:Math.asin(t)}function r(t){return t>1?0:-1>t?Ze:Math.acos(t)}function i(t){return t>0?Math.sqrt(t):0}function o(t){function e(t,e){var n=Math.cos(t),r=Math.cos(e),o=Math.sin(e),a=r*n,s=-((1-a?Math.log(.5*(1+a))/(1-a):-.5)+i/(1+a));return[s*r*Math.sin(t),s*o]}var r=Math.tan(.5*t),i=2*Math.log(Math.cos(.5*t))/(r*r);return e.invert=function(e,r){var o,a=Math.sqrt(e*e+r*r),s=t*-.5,u=50;if(!a)return[0,0];do{var c=.5*s,l=Math.cos(c),h=Math.sin(c),f=Math.tan(c),p=Math.log(1/l);s-=o=(2/f*p-i*f-a)/(-p/(h*h)+1-i/(2*l*l))}while(Math.abs(o)>Ge&&--u>0);var d=Math.sin(s);return[Math.atan2(e*d,a*Math.cos(s)),n(r*d/a)]},e}function a(){var t=Ze/2,e=on(o),n=e(t);return n.radius=function(n){return arguments.length?e(t=n*Ze/180):180*(t/Ze)},n}function s(e,n){var i=Math.cos(n),o=t(r(i*Math.cos(e/=2)));return[2*i*Math.sin(e)*o,Math.sin(n)*o]}function u(t){function e(t,e){var s=Math.cos(e),u=Math.cos(t/=2);return[(1+s)*Math.sin(t),(i*e>-Math.atan2(u,o)-.001?0:10*-i)+a+Math.sin(e)*r-(1+s)*n*u]}var n=Math.sin(t),r=Math.cos(t),i=t>0?1:-1,o=Math.tan(i*t),a=(1+n-r)/2;return e.invert=function(t,e){var s=0,u=0,c=50;do{var l=Math.cos(s),h=Math.sin(s),f=Math.cos(u),p=Math.sin(u),d=1+f,g=d*h-t,m=a+p*r-d*n*l-e,v=.5*d*l,y=-h*p,b=.5*n*d*h,M=r*f+n*l*p,w=y*b-M*v,x=.5*(m*y-g*M)/w,_=(g*b-m*v)/w;s-=x,u-=_}while((Math.abs(x)>Ge||Math.abs(_)>Ge)&&--c>0);return i*u>-Math.atan2(Math.cos(s),o)-.001?[2*s,u]:null},e}function c(){var t=Ze/9,e=t>0?1:-1,n=Math.tan(e*t),r=on(u),i=r(t),o=i.stream;return i.parallel=function(i){return arguments.length?(n=Math.tan((e=(t=i*Ze/180)>0?1:-1)*t),r(t)):180*(t/Ze)},i.stream=function(r){var a=i.rotate(),s=o(r),u=(i.rotate([0,0]),o(r));return i.rotate(a),s.sphere=function(){u.polygonStart(),u.lineStart();for(var r=-180*e;180>e*r;r+=90*e)u.point(r,90*e);for(;e*(r-=t)>=-180;)u.point(r,e*-Math.atan2(Math.cos(r*en/2),n)*nn);u.lineEnd(),u.polygonEnd()},s},i}function l(t){return t=Math.exp(2*t),(t-1)/(t+1)}function h(t){return.5*(Math.exp(t)-Math.exp(-t))}function f(t){return.5*(Math.exp(t)+Math.exp(-t))}function p(t){return Math.log(t+i(t*t+1))}function d(t){return Math.log(t+i(t*t-1))}function g(t,e){var n=Math.tan(e/2),r=i(1-n*n),o=1+r*Math.cos(t/=2),a=Math.sin(t)*r/o,s=n/o,u=a*a,c=s*s;return[4/3*a*(3+u-3*c),4/3*s*(3+3*u-c)]}function m(t,n){var r=Math.abs(n);return Ze/4>r?[t,Math.log(Math.tan(Ze/4+n/2))]:[t*Math.cos(r)*(2*Math.SQRT2-1/Math.sin(r)),e(n)*(2*Math.SQRT2*(r-Ze/4)-Math.log(Math.tan(r/2)))]}function v(t){function e(t,e){var i=sn(t,e);if(Math.abs(t)>Ze/2){var o=Math.atan2(i[1],i[0]),a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=r*Math.round((o-Ze/2)/r)+Ze/2,u=Math.atan2(Math.sin(o-=s),2-Math.cos(o));o=s+n(Ze/a*Math.sin(u))-u,i[0]=a*Math.cos(o),i[1]=a*Math.sin(o)}return i}var r=2*Ze/t;return e.invert=function(t,e){var n=Math.sqrt(t*t+e*e);if(n>Ze/2){var i=Math.atan2(e,t),o=r*Math.round((i-Ze/2)/r)+Ze/2,a=i>o?-1:1,s=n*Math.cos(o-i),u=1/Math.tan(a*Math.acos((s-Ze)/Math.sqrt(Ze*(Ze-2*s)+n*n)));i=o+2*Math.atan((u+a*Math.sqrt(u*u-3))/3),t=n*Math.cos(i),e=n*Math.sin(i)}return sn.invert(t,e)},e}function y(){var t=5,e=on(v),n=e(t),r=n.stream;return n.lobes=function(n){return arguments.length?e(t=+n):t},n.stream=function(e){var i=n.rotate(),o=r(e),a=(n.rotate([0,0]),r(e));return n.rotate(i),o.sphere=function(){a.polygonStart(),a.lineStart();for(var e=.01,n=0,r=360/t,i=90-180/t;t>n;++n,i-=r)a.point(180,0),-90>i?(a.point(-90,180-i-e),a.point(-90,180-i+e)):(a.point(90,i+e),a.point(90,i-e));a.lineEnd(),a.polygonEnd()},o},n}function b(t){return function(e){var n,r=t*Math.sin(e),i=30;do e-=n=(e+Math.sin(e)-r)/(1+Math.cos(e));while(Math.abs(n)>Ge&&--i>0);return e/2}}function M(t,e,r){function i(n,r){return[t*n*Math.cos(r=o(r)),e*Math.sin(r)]}var o=b(r);return i.invert=function(i,o){var a=n(o/e);return[i/(t*Math.cos(a)),n((2*a+Math.sin(2*a))/r)]},i}function w(t,e){var n=2.00276,r=un(e);return[n*t/(1/Math.cos(e)+1.11072/Math.cos(r)),(e+Math.SQRT2*Math.sin(r))/n]}function x(t){var e=0,n=on(t),r=n(e);return r.parallel=function(t){return arguments.length?n(e=t*Ze/180):180*(e/Ze)},r}function _(t,e){return[t*Math.cos(e),e]}function S(t){function e(e,r){var i=n+t-r,o=i?e*Math.cos(r)/i:i;return[i*Math.sin(o),n-i*Math.cos(o)]}if(!t)return _;var n=1/Math.tan(t);return e.invert=function(e,r){var i=Math.sqrt(e*e+(r=n-r)*r),o=n+t-i;return[i/Math.cos(o)*Math.atan2(e,r),o]},e}function C(t){function e(e,n){for(var r=Math.sin(n),i=Math.cos(n),o=new Array(3),c=0;3>c;++c){var l=t[c];if(o[c]=k(n-l[1],l[3],l[2],i,r,e-l[0]),!o[c][0])return l.point;o[c][1]=A(o[c][1]-l.v[1])}for(var h=u.slice(),c=0;3>c;++c){var f=2==c?0:c+1,p=E(t[c].v[0],o[c][0],o[f][0]);o[c][1]<0&&(p=-p),c?1==c?(p=a-p,h[0]-=o[c][0]*Math.cos(p),h[1]-=o[c][0]*Math.sin(p)):(p=s-p,h[0]+=o[c][0]*Math.cos(p),h[1]+=o[c][0]*Math.sin(p)):(h[0]+=o[c][0]*Math.cos(p),h[1]-=o[c][0]*Math.sin(p))}return h[0]/=3,h[1]/=3,h}t=t.map(function(t){return[t[0],t[1],Math.sin(t[1]),Math.cos(t[1])]});for(var n,r=t[2],i=0;3>i;++i,r=n)n=t[i],r.v=k(n[1]-r[1],r[3],r[2],n[3],n[2],n[0]-r[0]),r.point=[0,0];var o=E(t[0].v[0],t[2].v[0],t[1].v[0]),a=E(t[0].v[0],t[1].v[0],t[2].v[0]),s=Ze-o;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=.5*t[0].v[0]);var u=[t[2].point[0]=t[0].point[0]+t[2].v[0]*Math.cos(o),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*Math.sin(o))];return e}function T(){var t=[[0,0],[0,0],[0,0]],e=on(C),n=e(t),r=n.rotate;return delete n.rotate,n.points=function(i){if(!arguments.length)return t;t=i;var o=d3.geo.centroid({type:"MultiPoint",coordinates:t}),a=[-o[0],-o[1]];return r.call(n,a),e(t.map(d3.geo.rotation(a)).map(N))},n.points([[-150,55],[-35,55],[-92.5,10]])}function k(t,e,i,o,a,s){var u,c=Math.cos(s);if(Math.abs(t)>1||Math.abs(s)>1)u=r(i*a+e*o*c);else{var l=Math.sin(.5*t),h=Math.sin(.5*s);u=2*n(Math.sqrt(l*l+e*o*h*h))}return Math.abs(u)>Ge?[u,Math.atan2(o*Math.sin(s),e*a-i*o*c)]:[0,0]}function E(t,e,n){return r(.5*(t*t+e*e-n*n)/(t*e))}function A(t){return t-2*Ze*Math.floor((t+Ze)/(2*Ze))}function N(t){return[t[0]*en,t[1]*en]}function j(t,e){var n=i(1-Math.sin(e));return[2/tn*t*n,tn*(1-n)]}function q(t){function e(t,e){return[t,(t?t/Math.sin(t):1)*(Math.sin(e)*Math.cos(t)-r*Math.cos(e))]}var r=Math.tan(t);return e.invert=r?function(t,e){t&&(e*=Math.sin(t)/t);var n=Math.cos(t);return[t,2*Math.atan2(Math.sqrt(n*n+r*r-e*e)-n,r-e)]}:function(t,e){return[t,n(t?e*Math.tan(t)/t:e)]},e}function $(t,e){var n=Math.sqrt(3);return[n*t*(2*Math.cos(2*e/3)-1)/tn,n*tn*Math.sin(e/3)]}function D(t){function e(t,e){return[t*r,Math.sin(e)/r]}var r=Math.cos(t);return e.invert=function(t,e){return[t/r,n(e*r)]},e}function P(t){function e(t,e){return[t*n,(1+n)*Math.tan(.5*e)]}var n=Math.cos(t);return e.invert=function(t,e){return[t/n,2*Math.atan(e/(1+n))]},e}function H(t,e){var n=Math.sqrt(8/(3*Ze));return[n*t*(1-Math.abs(e)/Ze),n*e]}function L(t,n){var r=Math.sqrt(4-3*Math.sin(Math.abs(n)));return[2/Math.sqrt(6*Ze)*t*r,e(n)*Math.sqrt(2*Ze/3)*(2-r)]}function R(t,e){var n=Math.sqrt(Ze*(4+Ze));return[2/n*t*(1+Math.sqrt(1-4*e*e/(Ze*Ze))),4/n*e]}function O(t,e){var n=(2+Ze/2)*Math.sin(e);e/=2;for(var r=0,i=1/0;10>r&&Math.abs(i)>Ge;r++){var o=Math.cos(e);e-=i=(e+Math.sin(e)*(o+2)-n)/(2*o*(1+o))}return[2/Math.sqrt(Ze*(4+Ze))*t*(1+Math.cos(e)),2*Math.sqrt(Ze/(4+Ze))*Math.sin(e)]}function F(t,e){return[t*(1+Math.cos(e))/Math.sqrt(2+Ze),2*e/Math.sqrt(2+Ze)]}function I(t,e){for(var n=(1+Ze/2)*Math.sin(e),r=0,i=1/0;10>r&&Math.abs(i)>Ge;r++)e-=i=(e+Math.sin(e)-n)/(1+Math.cos(e));return n=Math.sqrt(2+Ze),[t*(1+Math.cos(e))/n,2*e/n]}function z(t,e){var n=Math.sin(t/=2),r=Math.cos(t),i=Math.sqrt(Math.cos(e)),o=Math.cos(e/=2),a=Math.sin(e)/(o+Math.SQRT2*r*i),s=Math.sqrt(2/(1+a*a)),u=Math.sqrt((Math.SQRT2*o+(r+n)*i)/(Math.SQRT2*o+(r-n)*i));return[hn*(s*(u-1/u)-2*Math.log(u)),hn*(s*a*(u+1/u)-2*Math.atan(a))]}function B(t,e){var n=Math.tan(e/2);return[t*fn*i(1-n*n),(1+fn)*n]}function W(t,e){var n=e/2,r=Math.cos(n);return[2*t/tn*Math.cos(e)*r*r,tn*Math.tan(n)]}function V(t,e,n,r,o,a,s,u){function c(i,c){if(!c)return[t*i/Ze,0];var l=c*c,h=t+l*(e+l*(n+l*r)),f=c*(o-1+l*(a-u+l*s)),p=(h*h+f*f)/(2*f),d=i*Math.asin(h/p)/Ze;return[p*Math.sin(d),c*(1+l*u)+p*(1-Math.cos(d))]}return arguments.length<8&&(u=0),c.invert=function(c,l){var h,f,p=Ze*c/t,d=l,g=50;do{var m=d*d,v=t+m*(e+m*(n+m*r)),y=d*(o-1+m*(a-u+m*s)),b=v*v+y*y,M=2*y,w=b/M,x=w*w,_=Math.asin(v/w)/Ze,S=p*_;if(xB2=v*v,dxBdφ=(2*e+m*(4*n+6*m*r))*d,dyBdφ=o+m*(3*a+5*m*s),dpdφ=2*(v*dxBdφ+y*(dyBdφ-1)),dqdφ=2*(dyBdφ-1),dmdφ=(dpdφ*M-b*dqdφ)/(M*M),cosα=Math.cos(S),sinα=Math.sin(S),mcosα=w*cosα,msinα=w*sinα,dαdφ=p/Ze*(1/i(1-xB2/x))*(dxBdφ*w-v*dmdφ)/x,fx=msinα-c,fy=d*(1+m*u)+w-mcosα-l,δxδφ=dmdφ*sinα+mcosα*dαdφ,δxδλ=mcosα*_,δyδφ=1+dmdφ-(dmdφ*cosα-msinα*dαdφ),δyδλ=msinα*_,denominator=δxδφ*δyδλ-δyδφ*δxδλ,!denominator)break;p-=h=(fy*δxδφ-fx*δyδφ)/denominator,d-=f=(fx*δyδλ-fy*δxδλ)/denominator}while((Math.abs(h)>Ge||Math.abs(f)>Ge)&&--g>0);return[p,d]},c}function U(t,e){var n=t*t,r=e*e;return[t*(1-.162388*r)*(.87-952426e-9*n*n),e*(1+r/12)]}function Q(t){function n(){var t=!1,e=on(r),n=e(t);return n.quincuncial=function(n){return arguments.length?e(t=!!n):t},n}function r(n){var r=n?function(n,r){var o=Math.abs(n)<Ze/2,a=t(o?n:n>0?n-Ze:n+Ze,r),s=(a[0]-a[1])*Math.SQRT1_2,u=(a[0]+a[1])*Math.SQRT1_2;if(o)return[s,u];var c=i*Math.SQRT1_2,l=s>0^u>0?-1:1;return[l*s-e(u)*c,l*u-e(s)*c]}:function(e,n){var r=e>0?-.5:.5,o=t(e+r*Ze,n);return o[0]-=r*i,o};return t.invert&&(r.invert=n?function(e,n){var r=(e+n)*Math.SQRT1_2,o=(n-e)*Math.SQRT1_2,a=Math.abs(r)<.5*i&&Math.abs(o)<.5*i;if(!a){var s=i*Math.SQRT1_2,u=r>0^o>0?-1:1,c=-u*(e+(o>0?1:-1)*s),l=-u*(n+(r>0?1:-1)*s);r=(-c-l)*Math.SQRT1_2,o=(c-l)*Math.SQRT1_2}var h=t.invert(r,o);return a||(h[0]+=r>0?Ze:-Ze),h}:function(e,n){var r=e>0?-.5:.5,o=t.invert(e+r*i,n),a=o[0]-r*Ze;return-Ze>a?a+=2*Ze:a>Ze&&(a-=2*Ze),o[0]=a,o}),r}var i=t(Ze/2,0)[0]-t(-Ze/2,0)[0];return n.raw=r,n
}function J(t,r){var i=e(t),o=e(r),a=Math.cos(r),s=Math.cos(t)*a,u=Math.sin(t)*a,c=Math.sin(o*r);t=Math.abs(Math.atan2(u,c)),r=n(s),Math.abs(t-Ze/2)>Ge&&(t%=Ze/2);var l=X(t>Ze/4?Ze/2-t:t,r);return t>Ze/4&&(c=l[0],l[0]=-l[1],l[1]=-c),l[0]*=i,l[1]*=-o,l}function X(t,e){if(e===Ze/2)return[0,0];var r=Math.sin(e),o=r*r,a=o*o,s=1+a,u=1+3*a,c=1-a,l=n(1/Math.sqrt(s)),h=c+o*s*l,f=(1-r)/h,p=Math.sqrt(f),d=f*s,g=Math.sqrt(d),m=p*c;if(0===t)return[0,-(m+o*g)];var v=Math.cos(e),y=1/v,b=2*r*v,M=(-3*o+l*u)*b,w=(-h*v-(1-r)*M)/(h*h),x=.5*w/p,_=c*x-2*o*p*b,S=o*s*w+f*u*b,C=-y*b,T=-y*S,k=-2*y*_,E=4*t/Ze;if(t>.222*Ze||Ze/4>e&&t>.175*Ze){var A=(m+o*i(d*(1+a)-m*m))/(1+a);if(t>Ze/4)return[A,A];var N=A,j=.5*A,q=50;A=.5*(j+N);do{var $=Math.sqrt(d-A*A),D=A*(k+C*$)+T*n(A/g)-E;if(!D)break;0>D?j=A:N=A,A=.5*(j+N)}while(Math.abs(N-j)>Ge&&--q>0)}else{var P,A=Ge,q=25;do{var H=A*A,$=i(d-H),L=k+C*$,D=A*L+T*n(A/g)-E,R=L+(T-C*H)/$;A-=P=$?D/R:0}while(Math.abs(P)>Ge&&--q>0)}return[A,-m-o*i(d-A*A)]}function Y(t,e){for(var n=0,r=1,i=.5,o=50;;){var a=i*i,s=Math.sqrt(i),u=Math.asin(1/Math.sqrt(1+a)),c=1-a+i*(1+a)*u,l=(1-s)/c,h=Math.sqrt(l),f=l*(1+a),p=h*(1-a),d=f-t*t,g=Math.sqrt(d),m=e+p+i*g;if(Math.abs(r-n)<Ke||0===--o||0===m)break;m>0?n=i:r=i,i=.5*(n+r)}if(!o)return null;var v=Math.asin(s),y=Math.cos(v),b=1/y,M=2*s*y,w=(-3*i+u*(1+3*a))*M,x=(-c*y-(1-s)*w)/(c*c),_=.5*x/h,S=(1-a)*_-2*i*h*M,C=-2*b*S,T=-b*M,k=-b*(i*(1+a)*x+l*(1+3*a)*M);return[Ze/4*(t*(C+T*g)+k*Math.asin(t/Math.sqrt(f))),v]}function G(t,e,n){if(!t){var r=K(e,1-n);return[[0,r[0]/r[1]],[1/r[1],0],[r[2]/r[1],0]]}var i=K(t,n);if(!e)return[[i[0],0],[i[1],0],[i[2],0]];var r=K(e,1-n),o=r[1]*r[1]+n*i[0]*i[0]*r[0]*r[0];return[[i[0]*r[2]/o,i[1]*i[2]*r[0]*r[1]/o],[i[1]*r[1]/o,-i[0]*i[2]*r[0]*r[2]/o],[i[2]*r[1]*r[2]/o,-n*i[0]*i[1]*r[0]/o]]}function K(t,e){var r,o,a,s,u;if(Ge>e)return s=Math.sin(t),o=Math.cos(t),r=.25*e*(t-s*o),[s-r*o,o+r*s,1-.5*e*s*s,t-r];if(e>=1-Ge)return r=.25*(1-e),o=f(t),s=l(t),a=1/o,u=o*h(t),[s+r*(u-t)/(o*o),a-r*s*a*(u-t),a+r*s*a*(u+t),2*Math.atan(Math.exp(t))-Ze/2+r*(u-t)/o];var c=[1,0,0,0,0,0,0,0,0],p=[Math.sqrt(e),0,0,0,0,0,0,0,0],d=0;for(o=Math.sqrt(1-e),u=1;Math.abs(p[d]/c[d])>Ge&&8>d;)r=c[d++],p[d]=.5*(r-o),c[d]=.5*(r+o),o=i(r*o),u*=2;a=u*c[d]*t;do s=p[d]*Math.sin(o=a)/c[d],a=.5*(n(s)+a);while(--d);return[Math.sin(a),s=Math.cos(a),s/Math.cos(a-o),a]}function Z(t,n,r){var o=Math.abs(t),a=Math.abs(n),s=h(a);if(o){var u=1/Math.sin(o),c=1/(Math.tan(o)*Math.tan(o)),l=-(c+r*s*s*u*u-1+r),f=(r-1)*c,p=.5*(-l+Math.sqrt(l*l-4*f));return[te(Math.atan(1/Math.sqrt(p)),r)*e(t),te(Math.atan(i((p/c-1)/r)),1-r)*e(n)]}return[0,te(Math.atan(s),1-r)*e(n)]}function te(t,e){if(!e)return t;if(1===e)return Math.log(Math.tan(t/2+Ze/4));for(var n=1,r=Math.sqrt(1-e),i=Math.sqrt(e),o=0;Math.abs(i)>Ge;o++){if(t%Ze){var a=Math.atan(r*Math.tan(t)/n);0>a&&(a+=Ze),t+=a+~~(t/Ze)*Ze}else t+=t;i=(n+r)/2,r=Math.sqrt(n*r),i=((n=i)-r)/2}return t/(Math.pow(2,o)*n)}function ee(t,n){var r=(Math.SQRT2-1)/(Math.SQRT2+1),i=Math.sqrt(1-r*r),o=te(Ze/2,i*i),a=-1,s=Math.log(Math.tan(Ze/4+Math.abs(n)/2)),u=Math.exp(a*s)/Math.sqrt(r),c=ne(u*Math.cos(a*t),u*Math.sin(a*t)),l=Z(c[0],c[1],i*i);return[-l[1],e(n)*(.5*o-l[0])]}function ne(t,n){var r=t*t,i=n+1,o=1-r-n*n;return[e(t)*Ze/4-.5*Math.atan2(o,2*t),-.25*Math.log(o*o+4*r)+.5*Math.log(i*i+r)]}function re(t,e){var n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function ie(t){function e(t,e){var i=a(t,e);t=i[0],e=i[1];var s=Math.sin(e),u=Math.cos(e),c=Math.cos(t),l=r(n*s+o*u*c),h=Math.sin(l),f=Math.abs(h)>Ge?l/h:1;return[f*o*Math.sin(t),(Math.abs(t)>Ze/2?f:-f)*(n*u-o*s*c)]}var n=Math.sin(t),o=Math.cos(t),a=oe(t);return a.invert=oe(-t),e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),o=-Math.sin(r),s=Math.cos(r),u=r*s,c=-e*o,l=r*n,h=i(u*u+c*c-l*l),f=Math.atan2(u*l+c*h,c*l-u*h),p=(r>Ze/2?-1:1)*Math.atan2(t*o,r*Math.cos(f)*s+e*Math.sin(f)*o);return a.invert(p,f)},e}function oe(t){var e=Math.sin(t),r=Math.cos(t);return function(t,i){var o=Math.cos(i),a=Math.cos(t)*o,s=Math.sin(t)*o,u=Math.sin(i);return[Math.atan2(s,a*r-u*e),n(u*r+a*e)]}}function ae(){var t=0,e=on(ie),n=e(t),r=n.rotate,i=n.stream,o=d3.geo.circle();return n.parallel=function(r){if(!arguments.length)return 180*(t/Ze);var i=n.rotate();return e(t=r*Ze/180).rotate(i)},n.rotate=function(e){return arguments.length?(r.call(n,[e[0],e[1]-180*(t/Ze)]),o.origin([-e[0],-e[1]]),n):(e=r.call(n),e[1]+=180*(t/Ze),e)},n.stream=function(t){return t=i(t),t.sphere=function(){t.polygonStart();var e,n=.01,r=o.angle(90-n)().coordinates[0],i=r.length-1,a=-1;for(t.lineStart();++a<i;)t.point((e=r[a])[0],e[1]);for(t.lineEnd(),r=o.angle(90+n)().coordinates[0],i=r.length-1,t.lineStart();--a>=0;)t.point((e=r[a])[0],e[1]);t.lineEnd(),t.polygonEnd()},t},n}function se(t,e){function n(n,r){var i=vn(n/e,r);return i[0]*=t,i}return arguments.length<2&&(e=t),1===e?vn:1/0===e?ce:(n.invert=function(n,r){var i=vn.invert(n/t,r);return i[0]*=e,i},n)}function ue(){var t=2,e=on(se),n=e(t);return n.coefficient=function(n){return arguments.length?e(t=+n):t},n}function ce(t,e){return[t*Math.cos(e)/Math.cos(e/=2),2*Math.sin(e)]}function le(t,e){for(var n,r=Math.sin(e)*(0>e?2.43763:2.67595),i=0;20>i&&(e-=n=(e+Math.sin(e)-r)/(1+Math.cos(e)),!(Math.abs(n)<Ge));i++);return[.85*t*Math.cos(e*=.5),Math.sin(e)*(0>e?1.93052:1.75859)]}function he(t){function e(e,l){var h,f=Math.abs(l);if(f>r){var p=Math.min(t-1,Math.max(0,Math.floor((e+Ze)/c)));e+=Ze*(t-1)/t-p*c,h=d3.geo.collignon.raw(e,f),h[0]=h[0]*i/o-i*(t-1)/(2*t)+p*i/t,h[1]=a+4*(h[1]-s)*u/i,0>l&&(h[1]=-h[1])}else h=n(e,l);return h[0]/=2,h}var n=d3.geo.cylindricalEqualArea.raw(0),r=yn*Ze/180,i=2*Ze,o=d3.geo.collignon.raw(Ze,r)[0]-d3.geo.collignon.raw(-Ze,r)[0],a=n(0,r)[1],s=d3.geo.collignon.raw(0,r)[1],u=d3.geo.collignon.raw(0,Ze/2)[1]-s,c=2*Ze/t;return e.invert=function(e,r){e*=2;var l=Math.abs(r);if(l>a){var h=Math.min(t-1,Math.max(0,Math.floor((e+Ze)/c)));e=(e+Ze*(t-1)/t-h*c)*o/i;var f=d3.geo.collignon.raw.invert(e,.25*(l-a)*i/u+s);return f[0]-=Ze*(t-1)/t-h*c,0>r&&(f[1]=-f[1]),f}return n.invert(e,r)},e}function fe(){function t(){var t=180/e;return{type:"Polygon",coordinates:[d3.range(-180,180+t/2,t).map(function(t,e){return[t,1&e?90-1e-6:yn]}).concat(d3.range(180,-180-t/2,-t).map(function(t,e){return[t,1&e?-90+1e-6:-yn]}))]}}var e=2,n=on(he),r=n(e),i=r.stream;return r.lobes=function(t){return arguments.length?n(e=+t):e},r.stream=function(e){var n=r.rotate(),o=i(e),a=(r.rotate([0,0]),i(e));return r.rotate(n),o.sphere=function(){d3.geo.stream(t(),a)},o},r}function pe(t){function e(e,n){var r,a,f=1-Math.sin(n);if(f&&2>f){var p,d=Ze/2-n,g=25;do{var m=Math.sin(d),v=Math.cos(d),y=s+Math.atan2(m,o-v),b=1+h-2*o*v;d-=p=(d-l*s-o*m+b*y-.5*f*i)/(2*o*m*y)}while(Math.abs(p)>Ke&&--g>0);r=u*Math.sqrt(b),a=e*y/Ze}else r=u*(t+f),a=e*s/Ze;return[r*Math.sin(a),c-r*Math.cos(a)]}var i,o=1+t,a=Math.sin(1/o),s=n(a),u=2*Math.sqrt(Ze/(i=Ze+4*s*o)),c=.5*u*(o+Math.sqrt(t*(2+t))),l=t*t,h=o*o;return e.invert=function(t,e){var a=t*t+(e-=c)*e,f=(1+h-a/(u*u))/(2*o),p=r(f),d=Math.sin(p),g=s+Math.atan2(d,o-f);return[n(t/Math.sqrt(a))*Ze/g,n(1-2*(p-l*s-o*d+(1+h-2*o*f)*g)/i)]},e}function de(){var t=1,e=on(pe),n=e(t);return n.ratio=function(n){return arguments.length?e(t=+n):t},n}function ge(t,e){return e>-bn?(t=cn(t,e),t[1]+=Mn,t):_(t,e)}function me(t,e){return Math.abs(e)>bn?(t=cn(t,e),t[1]-=e>0?Mn:-Mn,t):_(t,e)}function ve(t,e){return[3*t/(2*Ze)*Math.sqrt(Ze*Ze/3-e*e),e]}function ye(t){function r(e,n){if(Math.abs(Math.abs(n)-Ze/2)<Ge)return[0,0>n?-2:2];var r=Math.sin(n),i=Math.pow((1+r)/(1-r),t/2),o=.5*(i+1/i)+Math.cos(e*=t);return[2*Math.sin(e)/o,(i-1/i)/o]}return r.invert=function(r,i){var o=Math.abs(i);if(Math.abs(o-2)<Ge)return r?null:[0,e(i)*Ze/2];if(o>2)return null;r/=2,i/=2;var a=r*r,s=i*i,u=2*i/(1+a+s);return u=Math.pow((1+u)/(1-u),1/t),[Math.atan2(2*r,1-a-s)/t,n((u-1)/(u+1))]},r}function be(){var t=.5,e=on(ye),n=e(t);return n.spacing=function(n){return arguments.length?e(t=+n):t},n}function Me(t,e){return[t*(1+Math.sqrt(Math.cos(e)))/2,e/(Math.cos(e/2)*Math.cos(t/6))]}function we(t,e){var n=t*t,r=e*e;return[t*(.975534+r*(-.119161+n*-.0143059+r*-.0547009)),e*(1.00384+n*(.0802894+r*-.02855+199025e-9*n)+r*(.0998909+r*-.0491032))]}function xe(t,e){return[Math.sin(t)/Math.cos(e),Math.tan(e)*Math.cos(t)]}function _e(t){function e(e,i){var o=i-t,a=Math.abs(o)<Ge?e*n:Math.abs(a=Ze/4+i/2)<Ge||Math.abs(Math.abs(a)-Ze/2)<Ge?0:e*o/Math.log(Math.tan(a)/r);return[a,o]}var n=Math.cos(t),r=Math.tan(Ze/4+t/2);return e.invert=function(e,i){var o,a=i+t;return[Math.abs(i)<Ge?e/n:Math.abs(o=Ze/4+a/2)<Ge||Math.abs(Math.abs(o)-Ze/2)<Ge?0:e*Math.log(Math.tan(o)/r)/i,a]},e}function Se(t,e){return[t,1.25*Math.log(Math.tan(Ze/4+.4*e))]}function Ce(t){function e(e,n){for(var i,o=Math.cos(n),a=2/(1+o*Math.cos(e)),s=a*o*Math.sin(e),u=a*Math.sin(n),c=r,l=t[c],h=l[0],f=l[1];--c>=0;)l=t[c],h=l[0]+s*(i=h)-u*f,f=l[1]+s*f+u*i;return h=s*(i=h)-u*f,f=s*f+u*i,[h,f]}var r=t.length-1;return e.invert=function(e,i){var o=20,a=e,s=i;do{for(var u,c=r,l=t[c],h=l[0],f=l[1],p=0,d=0;--c>=0;)l=t[c],p=h+a*(u=p)-s*d,d=f+a*d+s*u,h=l[0]+a*(u=h)-s*f,f=l[1]+a*f+s*u;p=h+a*(u=p)-s*d,d=f+a*d+s*u,h=a*(u=h)-s*f-e,f=a*f+s*u-i;var g,m,v=p*p+d*d;a-=g=(h*p+f*d)/v,s-=m=(f*p-h*d)/v}while(Math.abs(g)+Math.abs(m)>Ge*Ge&&--o>0);if(o){var y=Math.sqrt(a*a+s*s),b=2*Math.atan(.5*y),M=Math.sin(b);return[Math.atan2(a*M,y*Math.cos(b)),y?n(s*M/y):0]}},e}function Te(){var t=wn.miller,e=on(Ce),n=e(t);return n.coefficients=function(n){return arguments.length?e(t="string"==typeof n?wn[n]:n):t},n}function ke(t,e){var n=Math.sqrt(6),r=Math.sqrt(7),i=Math.asin(7*Math.sin(e)/(3*n));return[n*t*(2*Math.cos(2*i/3)-1)/r,9*Math.sin(i/3)/r]}function Ee(t,e){for(var n,r=(1+Math.SQRT1_2)*Math.sin(e),i=e,o=0;25>o&&(i-=n=(Math.sin(i/2)+Math.sin(i)-r)/(.5*Math.cos(i/2)+Math.cos(i)),!(Math.abs(n)<Ge));o++);return[t*(1+2*Math.cos(i)/Math.cos(i/2))/(3*Math.SQRT2),2*Math.sqrt(3)*Math.sin(i/2)/Math.sqrt(2+Math.SQRT2)]}function Ae(t,e){for(var n,r=Math.sqrt(6/(4+Ze)),i=(1+Ze/4)*Math.sin(e),o=e/2,a=0;25>a&&(o-=n=(o/2+Math.sin(o)-i)/(.5+Math.cos(o)),!(Math.abs(n)<Ge));a++);return[r*(.5+Math.cos(o))*t/1.5,r*o]}function Ne(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}function je(t,e){return[t*(1+Math.cos(e))/2,2*(e-Math.tan(e/2))]}function qe(t,e){if(Math.abs(e)<Ge)return[t,0];var n=Math.tan(e),r=t*Math.sin(e);return[Math.sin(r)/n,e+(1-Math.cos(r))/n]}function $e(t){function e(e,n){var r=i?Math.tan(e*i/2)/i:e/2;if(!n)return[2*r,-t];var o=2*Math.atan(r*Math.sin(n)),a=1/Math.tan(n);return[Math.sin(o)*a,n+(1-Math.cos(o))*a-t]}var i=Math.sin(t);return e.invert=function(e,o){if(Math.abs(o+=t)<Ge)return[i?2*Math.atan(i*e/2)/i:e,0];var a,s=e*e+o*o,u=0,c=10;do{var l=Math.tan(u),h=1/Math.cos(u),f=s-2*o*u+u*u;u-=a=(l*f+2*(u-o))/(2+f*h*h+2*(u-o)*l)}while(Math.abs(a)>Ge&&--c>0);var p=e*(l=Math.tan(u)),d=Math.tan(Math.abs(o)<Math.abs(u+1/l)?.5*n(p):.5*r(p)+Ze/4)/Math.sin(u);return[i?2*Math.atan(i*d)/i:2*d,u]},e}function De(t,e){var n,r=Math.min(18,36*Math.abs(e)/Ze),i=Math.floor(r),o=r-i,a=(n=_n[i])[0],s=n[1],u=(n=_n[++i])[0],c=n[1],l=(n=_n[Math.min(19,++i)])[0],h=n[1];return[t*(u+o*(l-a)/2+o*o*(l-2*u+a)/2),(e>0?Ze:-Ze)/2*(c+o*(h-s)/2+o*o*(h-2*c+s)/2)]}function Pe(t){function e(e,n){var r=Math.cos(n),i=(t-1)/(t-r*Math.cos(e));return[i*r*Math.sin(e),i*Math.sin(n)]}return e.invert=function(e,r){var i=e*e+r*r,o=Math.sqrt(i),a=(t-Math.sqrt(1-i*(t+1)/(t-1)))/((t-1)/o+o/(t-1));return[Math.atan2(e*a,o*Math.sqrt(1-a*a)),o?n(r*a/o):0]},e}function He(t,e){function n(e,n){var a=r(e,n),s=a[1],u=s*o/(t-1)+i;return[a[0]*i/u,s/u]}var r=Pe(t);if(!e)return r;var i=Math.cos(e),o=Math.sin(e);return n.invert=function(e,n){var a=(t-1)/(t-1-n*o);return r.invert(a*e,a*n*i)},n}function Le(){var t=1.4,e=0,n=on(He),r=n(t,e);return r.distance=function(r){return arguments.length?n(t=+r,e):t},r.tilt=function(r){return arguments.length?n(t,e=r*Ze/180):180*e/Ze},r}function Re(t,e){var n=Math.tan(e/2),r=Math.sin(Ze/4*n);return[t*(.74482-.34588*r*r),1.70711*n]}function Oe(t){function e(e,s){var u=r(Math.cos(s)*Math.cos(e-n)),c=r(Math.cos(s)*Math.cos(e-o)),l=0>s?-1:1;return u*=u,c*=c,[(u-c)/(2*t),l*i(4*a*c-(a-u+c)*(a-u+c))/(2*t)]}if(!t)return d3.geo.azimuthalEquidistant.raw;var n=-t/2,o=-n,a=t*t,s=Math.tan(o),u=.5/Math.sin(o);return e.invert=function(t,e){var i,a,c=e*e,l=Math.cos(Math.sqrt(c+(i=t+n)*i)),h=Math.cos(Math.sqrt(c+(i=t+o)*i));return[Math.atan2(a=l-h,i=(l+h)*s),(0>e?-1:1)*r(Math.sqrt(i*i+a*a)*u)]},e}function Fe(){var t=[[0,0],[0,0]],e=on(Oe),r=e(0),i=r.rotate;return delete r.rotate,r.points=function(r){if(!arguments.length)return t;t=r;var o=d3.geo.interpolate(r[0],r[1]),a=o(.5),s=d3.geo.rotation([-a[0],-a[1]])(r[0]),u=.5*o.distance,c=(s[0]<0?-1:1)*s[1]*en,l=n(Math.sin(c)/Math.sin(u));return i.call(s,[-a[0],-a[1],-l*nn]),e(2*u)},r}function Ie(t){function e(t,e){var r=d3.geo.gnomonic.raw(t,e);return r[0]*=n,r}var n=Math.cos(t);return e.invert=function(t,e){return d3.geo.gnomonic.raw.invert(t/n,e)},e}function ze(){var t=[[0,0],[0,0]],e=on(Ie),r=e(0),i=r.rotate;return delete r.rotate,r.points=function(r){if(!arguments.length)return t;t=r;var o=d3.geo.interpolate(r[0],r[1]),a=o(.5),s=twoPointEquidistant_rotate(-a[0]*en,-a[1]*en,r[0][0]*en,r[0][1]*en),u=.5*o.distance,c=(s[0]<0?-1:1)*s[1],l=n(Math.sin(c)/Math.sin(u));return i.call(s,[-a[0],-a[1],-l*nn]),e(u)},r}function Be(t,r){if(Math.abs(r)<Ge)return[t,0];var i=Math.abs(2*r/Ze),o=n(i);if(Math.abs(t)<Ge||Math.abs(Math.abs(r)-Ze/2)<Ge)return[0,e(r)*Ze*Math.tan(o/2)];var a=Math.cos(o),s=Math.abs(Ze/t-t/Ze)/2,u=s*s,c=a/(i+a-1),l=c*(2/i-1),h=l*l,f=h+u,p=c-h,d=u+c;return[e(t)*Ze*(s*p+Math.sqrt(u*p*p-f*(c*c-h)))/f,e(r)*Ze*(l*d-s*Math.sqrt((u+1)*f-d*d))/f]}function We(t,r){if(Math.abs(r)<Ge)return[t,0];var o=Math.abs(2*r/Ze),a=n(o);if(Math.abs(t)<Ge||Math.abs(Math.abs(r)-Ze/2)<Ge)return[0,e(r)*Ze*Math.tan(a/2)];var s=Math.cos(a),u=Math.abs(Ze/t-t/Ze)/2,c=u*u,l=s*(Math.sqrt(1+c)-u*s)/(1+c*o*o);return[e(t)*Ze*l,e(r)*Ze*i(1-l*(2*u+l))]}function Ve(t,r){if(Math.abs(r)<Ge)return[t,0];var o=2*r/Ze,a=n(o);if(Math.abs(t)<Ge||Math.abs(Math.abs(r)-Ze/2)<Ge)return[0,Ze*Math.tan(a/2)];var s=(Ze/t-t/Ze)/2,u=o/(1+Math.cos(a));return[Ze*(e(t)*i(s*s+1-u*u)-s),Ze*u]}function Ue(t,n){if(!n)return[t,0];var r=Math.abs(n);if(!t||r===Ze/2)return[0,n];var o=2*r/Ze,a=o*o,s=(8*o-a*(a+2)-5)/(2*a*(o-1)),u=s*s,c=o*s,l=a+u+2*c,h=o+3*s,f=2*t/Ze,p=f+1/f,d=e(Math.abs(t)-Ze/2)*Math.sqrt(p*p-4),g=d*d,m=l*(a+u*g-1)+(1-a)*(a*(h*h+4*u)+12*c*u+4*u*u),v=(d*(l+u-1)+2*i(m))/(4*l+g);return[e(t)*Ze*v/2,e(n)*Ze/2*i(1+d*Math.abs(v)-v*v)]}function Qe(t,e){return[t*Math.sqrt(1-3*e*e/(Ze*Ze)),e]}function Je(t,e){var n=.90631*Math.sin(e),r=Math.sqrt(1-n*n),i=Math.sqrt(2/(1+r*Math.cos(t/=3)));return[2.66723*r*i*Math.sin(t),1.24104*n*i]}function Xe(t,e){var n=Math.cos(e),r=Math.cos(t)*n,o=1-r,a=Math.cos(t=Math.atan2(Math.sin(t)*n,-Math.sin(e))),s=Math.sin(t);return n=i(1-r*r),[s*n-a*o,-a*n-s*o]}function Ye(t,e){var n=s(t,e);return[(n[0]+2*t/Ze)/2,(n[1]+e)/2]}var Ge=1e-6,Ke=Ge*Ge,Ze=Math.PI,tn=Math.sqrt(Ze),en=Ze/180,nn=180/Ze,rn=d3.geo.projection,on=d3.geo.projectionMutator;d3.geo.interrupt=function(t){function e(e,n){for(var r=0>n?-1:1,i=s[+(0>n)],o=0,a=i.length-1;a>o&&e>i[o][2][0];++o);var u=t(e-i[o][1][0],n);return u[0]+=t(i[o][1][0],r*n>r*i[o][0][1]?i[o][0][1]:n)[0],u}function n(){a=s.map(function(e){return e.map(function(e){var n,r=t(e[0][0],e[0][1])[0],i=t(e[2][0],e[2][1])[0],o=t(e[1][0],e[0][1])[1],a=t(e[1][0],e[1][1])[1];return o>a&&(n=o,o=a,a=n),[[r,o],[i,a]]})})}function r(){for(var t=1e-6,e=[],n=0,r=s[0].length;r>n;++n){var o=s[0][n],a=180*o[0][0]/Ze,u=180*o[0][1]/Ze,c=180*o[1][1]/Ze,l=180*o[2][0]/Ze,h=180*o[2][1]/Ze;e.push(i([[a+t,u+t],[a+t,c-t],[l-t,c-t],[l-t,h+t]],30))}for(var n=s[1].length-1;n>=0;--n){var o=s[1][n],a=180*o[0][0]/Ze,u=180*o[0][1]/Ze,c=180*o[1][1]/Ze,l=180*o[2][0]/Ze,h=180*o[2][1]/Ze;e.push(i([[l-t,h-t],[l-t,c+t],[a+t,c+t],[a+t,u-t]],30))}return{type:"Polygon",coordinates:[d3.merge(e)]}}function i(t,e){for(var n,r,i,o=-1,a=t.length,s=t[0],u=[];++o<a;){n=t[o],r=(n[0]-s[0])/e,i=(n[1]-s[1])/e;for(var c=0;e>c;++c)u.push([s[0]+c*r,s[1]+c*i]);s=n}return u.push(n),u}function o(t,e){return Math.abs(t[0]-e[0])<Ge&&Math.abs(t[1]-e[1])<Ge}var a,s=[[[[-Ze,0],[0,Ze/2],[Ze,0]]],[[[-Ze,0],[0,-Ze/2],[Ze,0]]]];t.invert&&(e.invert=function(n,r){for(var i=a[+(0>r)],u=s[+(0>r)],c=0,l=i.length;l>c;++c){var h=i[c];if(h[0][0]<=n&&n<h[1][0]&&h[0][1]<=r&&r<h[1][1]){var f=t.invert(n-t(u[c][1][0],0)[0],r);return f[0]+=u[c][1][0],o(e(f[0],f[1]),[n,r])?f:null}}});var u=d3.geo.projection(e),c=u.stream;return u.stream=function(t){var e=u.rotate(),n=c(t),i=(u.rotate([0,0]),c(t));return u.rotate(e),n.sphere=function(){d3.geo.stream(r(),i)},n},u.lobes=function(t){return arguments.length?(s=t.map(function(t){return t.map(function(t){return[[t[0][0]*Ze/180,t[0][1]*Ze/180],[t[1][0]*Ze/180,t[1][1]*Ze/180],[t[2][0]*Ze/180,t[2][1]*Ze/180]]})}),n(),u):s.map(function(t){return t.map(function(t){return[[180*t[0][0]/Ze,180*t[0][1]/Ze],[180*t[1][0]/Ze,180*t[1][1]/Ze],[180*t[2][0]/Ze,180*t[2][1]/Ze]]})})},u},(d3.geo.airy=a).raw=o,s.invert=function(t,e){var n=t,i=e,o=25;do{var a,s=Math.sin(n),u=Math.sin(n/2),c=Math.cos(n/2),l=Math.sin(i),h=Math.cos(i),f=Math.sin(2*i),p=l*l,d=h*h,g=u*u,m=1-d*c*c,v=m?r(h*c)*Math.sqrt(a=1/m):a=0,y=2*v*h*u-t,b=v*l-e,M=a*(d*g+v*h*c*p),w=a*(.5*s*f-2*v*l*u),x=.25*a*(f*u-v*l*d*s),_=a*(p*c+v*g*h),S=w*x-_*M;if(!S)break;var C=(b*w-y*_)/S,T=(y*x-b*M)/S;n-=C,i-=T}while((Math.abs(C)>Ge||Math.abs(T)>Ge)&&--o>0);return[n,i]},(d3.geo.aitoff=function(){return rn(s)}).raw=s,(d3.geo.armadillo=c).raw=u,g.invert=function(t,r){if(t*=3/8,r*=3/8,!t&&Math.abs(r)>1)return null;var i=t*t,o=r*r,a=1+i+o,s=Math.sqrt(.5*(a-Math.sqrt(a*a-4*r*r))),u=n(s)/3,c=s?d(Math.abs(r/s))/3:p(Math.abs(t))/3,l=Math.cos(u),g=f(c),m=g*g-l*l;return[2*e(t)*Math.atan2(h(c)*l,.25-m),2*e(r)*Math.atan2(g*Math.sin(u),.25+m)]},(d3.geo.august=function(){return rn(g)}).raw=g;var an=Math.log(1+Math.SQRT2);m.invert=function(t,n){if((i=Math.abs(n))<an)return[t,2*Math.atan(Math.exp(n))-Ze/2];var r,i,o=Math.sqrt(8),a=Ze/4,s=25;do{var u=Math.cos(a/2),c=Math.tan(a/2);a-=r=(o*(a-Ze/4)-Math.log(c)-i)/(o-.5*u*u/c)}while(Math.abs(r)>Ke&&--s>0);return[t/(Math.cos(a)*(o-1/Math.sin(a))),e(n)*a]},(d3.geo.baker=function(){return rn(m)}).raw=m;var sn=d3.geo.azimuthalEquidistant.raw;(d3.geo.berghaus=y).raw=v;var un=b(Ze),cn=M(2*Math.SQRT2/Ze,Math.SQRT2,Ze);(d3.geo.mollweide=function(){return rn(cn)}).raw=cn,w.invert=function(t,e){var n,r,i=2.00276,o=i*e,a=0>e?-Ze/4:Ze/4,s=25;do r=o-Math.SQRT2*Math.sin(a),a-=n=(Math.sin(2*a)+2*a-Ze*Math.sin(r))/(2*Math.cos(2*a)+2+Ze*Math.cos(r)*Math.SQRT2*Math.cos(a));while(Math.abs(n)>Ge&&--s>0);return r=o-Math.SQRT2*Math.sin(a),[t*(1/Math.cos(r)+1.11072/Math.cos(a))/i,r]},(d3.geo.boggs=function(){return rn(w)}).raw=w,_.invert=function(t,e){return[t/Math.cos(e),e]},(d3.geo.sinusoidal=function(){return rn(_)}).raw=_,(d3.geo.bonne=function(){return x(S).parallel(45)}).raw=S;var ln=M(1,4/Ze,Ze);(d3.geo.bromley=function(){return rn(ln)}).raw=ln,(d3.geo.chamberlin=T).raw=C,j.invert=function(t,e){var r=(r=e/tn-1)*r;return[r>0?t*Math.sqrt(Ze/r)/2:0,n(1-r)]},(d3.geo.collignon=function(){return rn(j)}).raw=j,(d3.geo.craig=function(){return x(q)}).raw=q,$.invert=function(t,e){var r=Math.sqrt(3),i=3*n(e/(r*tn));return[tn*t/(r*(2*Math.cos(2*i/3)-1)),i]},(d3.geo.craster=function(){return rn($)}).raw=$,(d3.geo.cylindricalEqualArea=function(){return x(D)}).raw=D,(d3.geo.cylindricalStereographic=function(){return x(P)}).raw=P,H.invert=function(t,e){var n=Math.sqrt(8/(3*Ze)),r=e/n;return[t/(n*(1-Math.abs(r)/Ze)),r]},(d3.geo.eckert1=function(){return rn(H)}).raw=H,L.invert=function(t,r){var i=2-Math.abs(r)/Math.sqrt(2*Ze/3);return[t*Math.sqrt(6*Ze)/(2*i),e(r)*n((4-i*i)/3)]},(d3.geo.eckert2=function(){return rn(L)}).raw=L,R.invert=function(t,e){var n=Math.sqrt(Ze*(4+Ze))/2;return[t*n/(1+i(1-e*e*(4+Ze)/(4*Ze))),e*n/2]},(d3.geo.eckert3=function(){return rn(R)}).raw=R,O.invert=function(t,e){var r=.5*e*Math.sqrt((4+Ze)/Ze),i=n(r),o=Math.cos(i);return[t/(2/Math.sqrt(Ze*(4+Ze))*(1+o)),n((i+r*(o+2))/(2+Ze/2))]},(d3.geo.eckert4=function(){return rn(O)}).raw=O,F.invert=function(t,e){var n=Math.sqrt(2+Ze),r=e*n/2;return[n*t/(1+Math.cos(r)),r]},(d3.geo.eckert5=function(){return rn(F)}).raw=F,I.invert=function(t,e){var r=1+Ze/2,i=Math.sqrt(r/2);return[2*t*i/(1+Math.cos(e*=i)),n((e+Math.sin(e))/r)]},(d3.geo.eckert6=function(){return rn(I)}).raw=I,z.invert=function(t,e){var n=d3.geo.august.raw.invert(t/1.2,1.065*e);if(!n)return null;var r=n[0],i=n[1],o=20;t/=hn,e/=hn;do{var a=r/2,s=i/2,u=Math.sin(a),c=Math.cos(a),l=Math.sin(s),h=Math.cos(s),f=Math.cos(i),p=Math.sqrt(f),d=l/(h+Math.SQRT2*c*p),g=d*d,m=Math.sqrt(2/(1+g)),v=Math.SQRT2*h+(c+u)*p,y=Math.SQRT2*h+(c-u)*p,b=v/y,M=Math.sqrt(b),w=M-1/M,x=M+1/M,_=m*w-2*Math.log(M)-t,S=m*d*x-2*Math.atan(d)-e,C=l&&Math.SQRT1_2*p*u*g/l,T=(Math.SQRT2*c*h+p)/(2*(h+Math.SQRT2*c*p)*(h+Math.SQRT2*c*p)*p),k=-.5*d*m*m*m,E=k*C,A=k*T,N=(N=2*h+Math.SQRT2*p*(c-u))*N*M,j=(Math.SQRT2*c*h*p+f)/N,q=-(Math.SQRT2*u*l)/(p*N),$=w*E-2*j/M+m*(j+j/b),D=w*A-2*q/M+m*(q+q/b),P=d*x*E-2*C/(1+g)+m*x*C+m*d*(j-j/b),H=d*x*A-2*T/(1+g)+m*x*T+m*d*(q-q/b),L=D*P-H*$;if(!L)break;var R=(S*D-_*H)/L,O=(_*P-S*$)/L;r-=R,i=Math.max(-Ze/2,Math.min(Ze/2,i-O))}while((Math.abs(R)>Ge||Math.abs(O)>Ge)&&--o>0);return Math.abs(Math.abs(i)-Ze/2)<Ge?[0,i]:o&&[r,i]};var hn=3+2*Math.SQRT2;(d3.geo.eisenlohr=function(){return rn(z)}).raw=z,B.invert=function(t,e){var n=e/(1+fn);return[t?t/(fn*i(1-n*n)):0,2*Math.atan(n)]};var fn=Math.cos(35*en);(d3.geo.fahey=function(){return rn(B)}).raw=B,W.invert=function(t,e){var n=Math.atan(e/tn),r=Math.cos(n),i=2*n;return[.5*t*tn/(Math.cos(i)*r*r),i]},(d3.geo.foucaut=function(){return rn(W)}).raw=W,d3.geo.gilbert=function(t){function e(e){return t([.5*e[0],n(Math.tan(.5*e[1]*en))*nn])}var r=d3.geo.equirectangular().scale(nn).translate([0,0]);return t.invert&&(e.invert=function(e){return e=t.invert(e),e[0]*=2,e[1]=2*Math.atan(Math.sin(e[1]*en))*nn,e}),e.stream=function(e){e=t.stream(e);var i=r.stream({point:function(t,r){e.point(.5*t,n(Math.tan(.5*-r*en))*nn)},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}});return i.sphere=function(){e.sphere()},i.valid=!1,i},e};var pn=V(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);(d3.geo.ginzburg4=function(){return rn(pn)}).raw=pn;var dn=V(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);(d3.geo.ginzburg5=function(){return rn(dn)}).raw=dn;var gn=V(5/6*Ze,-.62636,-.0344,0,1.3493,-.05524,0,.045);(d3.geo.ginzburg6=function(){return rn(gn)}).raw=gn,U.invert=function(t,e){var n,r=t,i=e,o=50;do{var a=i*i;i-=n=(i*(1+a/12)-e)/(1+a/4)}while(Math.abs(n)>Ge&&--o>0);o=50,t/=1-.162388*a;do{var s=(s=r*r)*s;r-=n=(r*(.87-952426e-9*s)-t)/(.87-.00476213*s)}while(Math.abs(n)>Ge&&--o>0);return[r,i]},(d3.geo.ginzburg8=function(){return rn(U)}).raw=U;var mn=V(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);(d3.geo.ginzburg9=function(){return rn(mn)}).raw=mn,J.invert=function(t,r){var i=e(t),o=e(r),a=-i*t,s=-o*r,u=1>s/a,c=Y(u?s:a,u?a:s),l=c[0],h=c[1];u&&(l=-Ze/2-l);var f=Math.cos(h),t=Math.cos(l)*f,r=Math.sin(l)*f,p=Math.sin(h);return[i*(Math.atan2(r,-p)+Ze),o*n(t)]},d3.geo.gringorten=Q(J),ee.invert=function(t,e){var n=(Math.SQRT2-1)/(Math.SQRT2+1),r=Math.sqrt(1-n*n),i=te(Ze/2,r*r),o=-1,a=G(.5*i-e,-t,r*r),s=re(a[0],a[1]),u=Math.atan2(s[1],s[0])/o;return[u,2*Math.atan(Math.exp(.5/o*Math.log(n*s[0]*s[0]+n*s[1]*s[1])))-Ze/2]},d3.geo.guyou=Q(ee),(d3.geo.hammerRetroazimuthal=ae).raw=ie;var vn=d3.geo.azimuthalEqualArea.raw;ce.invert=function(t,e){var r=2*n(e/2);return[t*Math.cos(r/2)/Math.cos(r),r]},(d3.geo.hammer=ue).raw=se,le.invert=function(t,e){var r=Math.abs(r=e*(0>e?.5179951515653813:.5686373742600607))>1-Ge?r>0?Ze/2:-Ze/2:n(r);return[1.1764705882352942*t/Math.cos(r),Math.abs(r=((r+=r)+Math.sin(r))*(0>e?.4102345310814193:.3736990601468637))>1-Ge?r>0?Ze/2:-Ze/2:n(r)]},(d3.geo.hatano=function(){return rn(le)}).raw=le;var yn=41+48/36+37/3600;(d3.geo.healpix=fe).raw=he,(d3.geo.hill=de).raw=pe;var bn=.7109889596207567,Mn=.0528035274542;ge.invert=function(t,e){return e>-bn?cn.invert(t,e-Mn):_.invert(t,e)},(d3.geo.sinuMollweide=function(){return rn(ge).rotate([-20,-55])}).raw=ge,me.invert=function(t,e){return Math.abs(e)>bn?cn.invert(t,e+(e>0?Mn:-Mn)):_.invert(t,e)},(d3.geo.homolosine=function(){return rn(me)}).raw=me,ve.invert=function(t,e){return[2/3*Ze*t/Math.sqrt(Ze*Ze/3-e*e),e]},(d3.geo.kavrayskiy7=function(){return rn(ve)}).raw=ve,(d3.geo.lagrange=be).raw=ye,Me.invert=function(t,e){var n=Math.abs(t),o=Math.abs(e),a=Ze/Math.SQRT2,s=Ge,u=Ze/2;a>o?u*=o/a:s+=6*r(a/o);for(var c=0;25>c;c++){var l=Math.sin(u),h=i(Math.cos(u)),f=Math.sin(u/2),p=Math.cos(u/2),d=Math.sin(s/6),g=Math.cos(s/6),m=.5*s*(1+h)-n,v=u/(p*g)-o,y=h?-.25*s*l/h:0,b=.5*(1+h),M=(1+.5*u*f/p)/(p*g),w=u/p*(d/6)/(g*g),x=y*w-M*b,_=(m*w-v*b)/x,S=(v*y-m*M)/x;if(u-=_,s-=S,Math.abs(_)<Ge&&Math.abs(S)<Ge)break}return[0>t?-s:s,0>e?-u:u]},(d3.geo.larrivee=function(){return rn(Me)}).raw=Me,we.invert=function(t,n){var r=e(t)*Ze,i=n/2,o=50;do{var a=r*r,s=i*i,u=r*i,c=r*(.975534+s*(-.119161+a*-.0143059+s*-.0547009))-t,l=i*(1.00384+a*(.0802894+s*-.02855+199025e-9*a)+s*(.0998909+s*-.0491032))-n,h=.975534-s*(.119161+.0429177*a+.0547009*s),f=-u*(.238322+.2188036*s+.0286118*a),p=u*(.1605788+7961e-7*a+-.0571*s),d=1.00384+a*(.0802894+199025e-9*a)+s*(3*(.0998909-.02855*a)-.245516*s),g=f*p-d*h,m=(l*f-c*d)/g,v=(c*p-l*h)/g;r-=m,i-=v}while((Math.abs(m)>Ge||Math.abs(v)>Ge)&&--o>0);return o&&[r,i]},(d3.geo.laskowski=function(){return rn(we)}).raw=we,xe.invert=function(t,i){var o=t*t,a=i*i,s=a+1,u=t?Math.SQRT1_2*Math.sqrt((s-Math.sqrt(o*o+2*o*(a-1)+s*s))/o+1):1/Math.sqrt(s);return[n(t*u),e(i)*r(u)]},(d3.geo.littrow=function(){return rn(xe)}).raw=xe,(d3.geo.loximuthal=function(){return x(_e).parallel(40)}).raw=_e,Se.invert=function(t,e){return[t,2.5*Math.atan(Math.exp(.8*e))-.625*Ze]},(d3.geo.miller=function(){return rn(Se)}).raw=Se;var wn={alaska:[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],gs48:[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gs50:[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],miller:[[.9245,0],[0,0],[.01943,0]],lee:[[.721316,0],[0,0],[-.00881625,-.00617325]]};(d3.geo.modifiedStereographic=Te).raw=Ce,ke.invert=function(t,e){var r=Math.sqrt(6),i=Math.sqrt(7),o=3*n(e*i/9);return[t*i/(r*(2*Math.cos(2*o/3)-1)),n(3*Math.sin(o)*r/7)]},(d3.geo.mtFlatPolarParabolic=function(){return rn(ke)}).raw=ke,Ee.invert=function(t,e){var r=e*Math.sqrt(2+Math.SQRT2)/(2*Math.sqrt(3)),i=2*n(r);return[3*Math.SQRT2*t/(1+2*Math.cos(i)/Math.cos(i/2)),n((r+Math.sin(i))/(1+Math.SQRT1_2))]},(d3.geo.mtFlatPolarQuartic=function(){return rn(Ee)}).raw=Ee,Ae.invert=function(t,e){var r=Math.sqrt(6/(4+Ze)),i=e/r;return Math.abs(Math.abs(i)-Ze/2)<Ge&&(i=0>i?-Ze/2:Ze/2),[1.5*t/(r*(.5+Math.cos(i))),n((i/2+Math.sin(i))/(1+Ze/4))]},(d3.geo.mtFlatPolarSinusoidal=function(){return rn(Ae)}).raw=Ae,Ne.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-e)/(1.007226+o*(.045255+a*(-.311325+.259866*o-.005916*11*a)))}while(Math.abs(n)>Ge&&--i>0);return[t/(.8707+(o=r*r)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),r]},(d3.geo.naturalEarth=function(){return rn(Ne)}).raw=Ne,je.invert=function(t,e){for(var n=e/2,r=0,i=1/0;10>r&&Math.abs(i)>Ge;r++){var o=Math.cos(e/2);e-=i=(e-Math.tan(e/2)-n)/(1-.5/(o*o))}return[2*t/(1+Math.cos(e)),e]},(d3.geo.nellHammer=function(){return rn(je)}).raw=je;var xn=Q(ee);(d3.geo.peirceQuincuncial=function(){return xn().quincuncial(!0).rotate([-90,-90,45]).clipAngle(180-1e-6)}).raw=xn.raw,qe.invert=function(t,i){if(Math.abs(i)<Ge)return[t,0];var o,a=t*t+i*i,s=.5*i,u=10;do{var c=Math.tan(s),l=1/Math.cos(s),h=a-2*i*s+s*s;s-=o=(c*h+2*(s-i))/(2+h*l*l+2*(s-i)*c)}while(Math.abs(o)>Ge&&--u>0);return c=Math.tan(s),[(Math.abs(i)<Math.abs(s+1/c)?n(t*c):e(t)*(r(Math.abs(t*c))+Ze/2))/Math.sin(s),s]},(d3.geo.polyconic=function(){return rn(qe)}).raw=qe,(d3.geo.rectangularPolyconic=function(){return x($e)}).raw=$e;var _n=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];_n.forEach(function(t){t[1]*=1.0144}),De.invert=function(t,e){var n=2*e/Ze,r=90*n,i=Math.min(18,Math.abs(r/5)),o=Math.max(0,Math.floor(i));do{var a=_n[o][1],s=_n[o+1][1],u=_n[Math.min(19,o+2)][1],c=u-a,l=u-2*s+a,h=2*(Math.abs(n)-s)/c,f=l/c,p=h*(1-f*h*(1-2*f*h));if(p>=0||1===o){r=(e>=0?5:-5)*(p+i);var d,g=50;do i=Math.min(18,Math.abs(r)/5),o=Math.floor(i),p=i-o,a=_n[o][1],s=_n[o+1][1],u=_n[Math.min(19,o+2)][1],r-=(d=(e>=0?Ze:-Ze)/2*(s+p*(u-a)/2+p*p*(u-2*s+a)/2)-e)*nn;while(Math.abs(d)>Ke&&--g>0);break}}while(--o>=0);var m=_n[o][0],v=_n[o+1][0],y=_n[Math.min(19,o+2)][0];return[t/(v+p*(y-m)/2+p*p*(y-2*v+m)/2),r*en]},(d3.geo.robinson=function(){return rn(De)}).raw=De,(d3.geo.satellite=Le).raw=He,Re.invert=function(t,e){var n=e/1.70711,r=Math.sin(Ze/4*n);return[t/(.74482-.34588*r*r),2*Math.atan(n)]},(d3.geo.times=function(){return rn(Re)}).raw=Re,(d3.geo.twoPointEquidistant=Fe).raw=Oe,(d3.geo.twoPointAzimuthal=ze).raw=Ie,Be.invert=function(t,n){if(Math.abs(n)<Ge)return[t,0];if(Math.abs(t)<Ge)return[0,Ze/2*Math.sin(2*Math.atan(n/Ze))];var i=(t/=Ze)*t,o=(n/=Ze)*n,a=i+o,s=a*a,u=-Math.abs(n)*(1+a),c=u-2*o+i,l=-2*u+1+2*o+s,h=o/l+(2*c*c*c/(l*l*l)-9*u*c/(l*l))/27,f=(u-c*c/(3*l))/l,p=2*Math.sqrt(-f/3),d=r(3*h/(f*p))/3;return[Ze*(a-1+Math.sqrt(1+2*(i-o)+s))/(2*t),e(n)*Ze*(-p*Math.cos(d+Ze/3)-c/(3*l))]},(d3.geo.vanDerGrinten=function(){return rn(Be)}).raw=Be,We.invert=function(t,n){if(!t)return[0,Ze/2*Math.sin(2*Math.atan(n/Ze))];var r=Math.abs(t/Ze),i=(1-r*r-(n/=Ze)*n)/(2*r),o=i*i,a=Math.sqrt(o+1);return[e(t)*Ze*(a-i),e(n)*Ze/2*Math.sin(2*Math.atan2(Math.sqrt((1-2*i*r)*(i+a)-r),Math.sqrt(a+i+r)))]},(d3.geo.vanDerGrinten2=function(){return rn(We)}).raw=We,Ve.invert=function(t,n){if(!n)return[t,0];var r=n/Ze,i=(Ze*Ze*(1-r*r)-t*t)/(2*Ze*t);return[t?Ze*(e(t)*Math.sqrt(i*i+1)-i):0,Ze/2*Math.sin(2*Math.atan(r))]},(d3.geo.vanDerGrinten3=function(){return rn(Ve)}).raw=Ve,Ue.invert=function(t,n){if(!t||!n)return[t,n];n/=Ze;var r=2*e(t)*t/Ze,i=(r*r-1+4*n*n)/Math.abs(r),o=i*i,a=2*n,s=50;do{var u=a*a,c=(8*a-u*(u+2)-5)/(2*u*(a-1)),l=(3*a-u*a-10)/(2*u*a),h=c*c,f=a*c,p=a+c,d=p*p,g=a+3*c,m=d*(u+h*o-1)+(1-u)*(u*(g*g+4*h)+h*(12*f+4*h)),v=-2*p*(4*f*h+(1-4*u+3*u*u)*(1+l)+h*(-6+14*u-o+(-8+8*u-2*o)*l)+f*(-8+12*u+(-10+10*u-o)*l)),y=Math.sqrt(m),b=i*(d+h-1)+2*y-r*(4*d+o),M=i*(2*c*l+2*p*(1+l))+v/y-8*p*(i*(-1+h+d)+2*y)*(1+l)/(o+4*d);a-=δ=b/M}while(δ>Ge&&--s>0);return[e(t)*(Math.sqrt(i*i+4)+i)*Ze/4,Ze/2*a]},(d3.geo.vanDerGrinten4=function(){return rn(Ue)}).raw=Ue;var Sn=function(){var t=4*Ze+3*Math.sqrt(3),e=2*Math.sqrt(2*Ze*Math.sqrt(3)/t);return M(e*Math.sqrt(3)/Ze,e,t/6)}();(d3.geo.wagner4=function(){return rn(Sn)}).raw=Sn,Qe.invert=function(t,e){return[t/Math.sqrt(1-3*e*e/(Ze*Ze)),e]},(d3.geo.wagner6=function(){return rn(Qe)}).raw=Qe,Je.invert=function(t,e){var r=t/2.66723,i=e/1.24104,o=Math.sqrt(r*r+i*i),a=2*n(o/2);return[3*Math.atan2(t*Math.tan(a),2.66723*o),o&&n(e*Math.sin(a)/(1.24104*.90631*o))]},(d3.geo.wagner7=function(){return rn(Je)}).raw=Je,Xe.invert=function(t,e){var r=-.5*(t*t+e*e),i=Math.sqrt(-r*(2+r)),o=e*r+t*i,a=t*r-e*i,s=Math.sqrt(a*a+o*o);return[Math.atan2(i*o,s*(1+r)),s?-n(i*a/s):0]},(d3.geo.wiechel=function(){return rn(Xe)}).raw=Xe,Ye.invert=function(t,e){var n=t,i=e,o=25;do{var a,s=Math.cos(i),u=Math.sin(i),c=Math.sin(2*i),l=u*u,h=s*s,f=Math.sin(n),p=Math.cos(n/2),d=Math.sin(n/2),g=d*d,m=1-h*p*p,v=m?r(s*p)*Math.sqrt(a=1/m):a=0,y=.5*(2*v*s*d+2*n/Ze)-t,b=.5*(v*u+i)-e,M=.5*a*(h*g+v*s*p*l)+1/Ze,w=a*(f*c/4-v*u*d),x=.125*a*(c*d-v*u*h*f),_=.5*a*(l*p+v*g*s)+.5,S=w*x-_*M,C=(b*w-y*_)/S,T=(y*x-b*M)/S;n-=C,i-=T}while((Math.abs(C)>Ge||Math.abs(T)>Ge)&&--o>0);return[n,i]},(d3.geo.winkel3=function(){return rn(Ye)}).raw=Ye}(),topojson=function(){function t(t,e){function n(e){var n=t.arcs[e],r=n[0],i=[0,0];return n.forEach(function(t){i[0]+=t[0],i[1]+=t[1]}),[r,i]}var r={},i={},o={};e.forEach(function(t){var e=n(t);(r[e[0]]||(r[e[0]]=[])).push(t),(r[e[1]]||(r[e[1]]=[])).push(~t)}),e.forEach(function(t){var e,r,a=n(t),s=a[0],u=a[1];if(e=o[s])if(delete o[e.end],e.push(t),e.end=u,r=i[u]){delete i[r.start];var c=r===e?e:e.concat(r);i[c.start=e.start]=o[c.end=r.end]=c}else if(r=o[u]){delete i[r.start],delete o[r.end];var c=e.concat(r.map(function(t){return~t}).reverse());
i[c.start=e.start]=o[c.end=r.start]=c}else i[e.start]=o[e.end]=e;else if(e=i[u])if(delete i[e.start],e.unshift(t),e.start=s,r=o[s]){delete o[r.end];var l=r===e?e:r.concat(e);i[l.start=r.start]=o[l.end=e.end]=l}else if(r=i[s]){delete i[r.start],delete o[r.end];var l=r.map(function(t){return~t}).reverse().concat(e);i[l.start=r.end]=o[l.end=e.end]=l}else i[e.start]=o[e.end]=e;else if(e=i[s])if(delete i[e.start],e.unshift(~t),e.start=u,r=o[u]){delete o[r.end];var l=r===e?e:r.concat(e);i[l.start=r.start]=o[l.end=e.end]=l}else if(r=i[u]){delete i[r.start],delete o[r.end];var l=r.map(function(t){return~t}).reverse().concat(e);i[l.start=r.end]=o[l.end=e.end]=l}else i[e.start]=o[e.end]=e;else if(e=o[u])if(delete o[e.end],e.push(~t),e.end=s,r=o[s]){delete i[r.start];var c=r===e?e:e.concat(r);i[c.start=e.start]=o[c.end=r.end]=c}else if(r=i[s]){delete i[r.start],delete o[r.end];var c=e.concat(r.map(function(t){return~t}).reverse());i[c.start=e.start]=o[c.end=r.start]=c}else i[e.start]=o[e.end]=e;else e=[t],i[e.start=s]=o[e.end=u]=e});var a=[];for(var s in o)a.push(o[s]);return a}function e(e,n,r){function o(t){0>t&&(t=~t),(h[t]||(h[t]=[])).push(l)}function a(t){t.forEach(o)}function s(t){t.forEach(a)}function u(t){"GeometryCollection"===t.type?t.geometries.forEach(u):t.type in f&&(l=t,f[t.type](t.arcs))}var c=[];if(arguments.length>1){var l,h=[],f={LineString:a,MultiLineString:s,Polygon:s,MultiPolygon:function(t){t.forEach(s)}};u(n),h.forEach(arguments.length<3?function(t,e){c.push(e)}:function(t,e){r(t[0],t[t.length-1])&&c.push(e)})}else for(var p=0,d=e.arcs.length;d>p;++p)c.push(p);return i(e,{type:"MultiLineString",arcs:t(e,c)})}function n(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return r(t,e)})}:r(t,e)}function r(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:i(t,e)};return null==e.id&&delete n.id,n}function i(t,e){function n(t,e){e.length&&e.pop();for(var n,r=d[0>t?~t:t],i=0,a=r.length,s=0,u=0;a>i;++i)e.push([(s+=(n=r[i])[0])*l+f,(u+=n[1])*h+p]);0>t&&o(e,a)}function r(t){return[t[0]*l+f,t[1]*h+p]}function i(t){for(var e=[],r=0,i=t.length;i>r;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function a(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(a)}function u(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(u)}:e in g?{type:e,coordinates:g[e](t)}:null}var c=t.transform,l=c.scale[0],h=c.scale[1],f=c.translate[0],p=c.translate[1],d=t.arcs,g={Point:function(t){return r(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(r)},LineString:function(t){return i(t.arcs)},MultiLineString:function(t){return t.arcs.map(i)},Polygon:function(t){return s(t.arcs)},MultiPolygon:function(t){return t.arcs.map(s)}};return u(e)}function o(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function a(t,e){for(var n=0,r=t.length;r>n;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n}function s(t){function e(t,e){t.forEach(function(t){0>t&&(t=~t);var n=i[t];n?n.push(e):i[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function r(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){r(t,e)}):t.type in s&&s[t.type](t.arcs,e)}var i={},o=t.map(function(){return[]}),s={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(r);for(var u in i)for(var c=i[u],l=c.length,h=0;l>h;++h)for(var f=h+1;l>f;++f){var p,d=c[h],g=c[f];(p=o[d])[u=a(p,g)]!==g&&p.splice(u,0,g),(p=o[g])[u=a(p,d)]!==d&&p.splice(u,0,d)}return o}return{version:"1.1.4",mesh:e,feature:n,neighbors:s}}(),function(){var t=this,e=t._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,s=r.slice,u=r.concat,c=i.toString,l=i.hasOwnProperty,h=r.forEach,f=r.map,p=r.reduce,d=r.reduceRight,g=r.filter,m=r.every,v=r.some,y=r.indexOf,b=r.lastIndexOf,M=Array.isArray,w=Object.keys,x=o.bind,_=function(t){return t instanceof _?t:this instanceof _?(this._wrapped=t,void 0):new _(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):t._=_,_.VERSION="1.4.4";var S=_.each=_.forEach=function(t,e,r){if(null!=t)if(h&&t.forEach===h)t.forEach(e,r);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(e.call(r,t[i],i,t)===n)return}else for(var a in t)if(_.has(t,a)&&e.call(r,t[a],a,t)===n)return};_.map=_.collect=function(t,e,n){var r=[];return null==t?r:f&&t.map===f?t.map(e,n):(S(t,function(t,i,o){r[r.length]=e.call(n,t,i,o)}),r)};var C="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return r&&(e=_.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(S(t,function(t,o,a){i?n=e.call(r,n,t,o,a):(n=t,i=!0)}),!i)throw new TypeError(C);return n},_.reduceRight=_.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return r&&(e=_.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var a=_.keys(t);o=a.length}if(S(t,function(s,u,c){u=a?a[--o]:--o,i?n=e.call(r,n,t[u],u,c):(n=t[u],i=!0)}),!i)throw new TypeError(C);return n},_.find=_.detect=function(t,e,n){var r;return T(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},_.filter=_.select=function(t,e,n){var r=[];return null==t?r:g&&t.filter===g?t.filter(e,n):(S(t,function(t,i,o){e.call(n,t,i,o)&&(r[r.length]=t)}),r)},_.reject=function(t,e,n){return _.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},_.every=_.all=function(t,e,r){e||(e=_.identity);var i=!0;return null==t?i:m&&t.every===m?t.every(e,r):(S(t,function(t,o,a){return(i=i&&e.call(r,t,o,a))?void 0:n}),!!i)};var T=_.some=_.any=function(t,e,r){e||(e=_.identity);var i=!1;return null==t?i:v&&t.some===v?t.some(e,r):(S(t,function(t,o,a){return i||(i=e.call(r,t,o,a))?n:void 0}),!!i)};_.contains=_.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):T(t,function(t){return t===e})},_.invoke=function(t,e){var n=s.call(arguments,2),r=_.isFunction(e);return _.map(t,function(t){return(r?e:t[e]).apply(t,n)})},_.pluck=function(t,e){return _.map(t,function(t){return t[e]})},_.where=function(t,e,n){return _.isEmpty(e)?n?null:[]:_[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},_.findWhere=function(t,e){return _.where(t,e,!0)},_.max=function(t,e,n){if(!e&&_.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&_.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return S(t,function(t,i,o){var a=e?e.call(n,t,i,o):t;a>=r.computed&&(r={value:t,computed:a})}),r.value},_.min=function(t,e,n){if(!e&&_.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&_.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return S(t,function(t,i,o){var a=e?e.call(n,t,i,o):t;a<r.computed&&(r={value:t,computed:a})}),r.value},_.shuffle=function(t){var e,n=0,r=[];return S(t,function(t){e=_.random(n++),r[n-1]=r[e],r[e]=t}),r};var k=function(t){return _.isFunction(t)?t:function(e){return e[t]}};_.sortBy=function(t,e,n){var r=k(e);return _.pluck(_.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index<e.index?-1:1}),"value")};var E=function(t,e,n,r){var i={},o=k(e||_.identity);return S(t,function(e,a){var s=o.call(n,e,a,t);r(i,s,e)}),i};_.groupBy=function(t,e,n){return E(t,e,n,function(t,e,n){(_.has(t,e)?t[e]:t[e]=[]).push(n)})},_.countBy=function(t,e,n){return E(t,e,n,function(t,e){_.has(t,e)||(t[e]=0),t[e]++})},_.sortedIndex=function(t,e,n,r){n=null==n?_.identity:k(n);for(var i=n.call(r,e),o=0,a=t.length;a>o;){var s=o+a>>>1;n.call(r,t[s])<i?o=s+1:a=s}return o},_.toArray=function(t){return t?_.isArray(t)?s.call(t):t.length===+t.length?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:t.length===+t.length?t.length:_.keys(t).length},_.first=_.head=_.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:s.call(t,0,e)},_.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},_.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},_.rest=_.tail=_.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},_.compact=function(t){return _.filter(t,_.identity)};var A=function(t,e,n){return S(t,function(t){_.isArray(t)?e?a.apply(n,t):A(t,e,n):n.push(t)}),n};_.flatten=function(t,e){return A(t,e,[])},_.without=function(t){return _.difference(t,s.call(arguments,1))},_.uniq=_.unique=function(t,e,n,r){_.isFunction(e)&&(r=n,n=e,e=!1);var i=n?_.map(t,n,r):t,o=[],a=[];return S(i,function(n,r){(e?r&&a[a.length-1]===n:_.contains(a,n))||(a.push(n),o.push(t[r]))}),o},_.union=function(){return _.uniq(u.apply(r,arguments))},_.intersection=function(t){var e=s.call(arguments,1);return _.filter(_.uniq(t),function(t){return _.every(e,function(e){return _.indexOf(e,t)>=0})})},_.difference=function(t){var e=u.apply(r,s.call(arguments,1));return _.filter(t,function(t){return!_.contains(e,t)})},_.zip=function(){for(var t=s.call(arguments),e=_.max(_.pluck(t,"length")),n=new Array(e),r=0;e>r;r++)n[r]=_.pluck(t,""+r);return n},_.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},_.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=_.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},_.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(b&&t.lastIndexOf===b)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},_.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o},_.bind=function(t,e){if(t.bind===x&&x)return x.apply(t,s.call(arguments,1));var n=s.call(arguments,2);return function(){return t.apply(e,n.concat(s.call(arguments)))}},_.partial=function(t){var e=s.call(arguments,1);return function(){return t.apply(this,e.concat(s.call(arguments)))}},_.bindAll=function(t){var e=s.call(arguments,1);return 0===e.length&&(e=_.functions(t)),S(e,function(e){t[e]=_.bind(t[e],t)}),t},_.memoize=function(t,e){var n={};return e||(e=_.identity),function(){var r=e.apply(this,arguments);return _.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},_.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},_.defer=function(t){return _.delay.apply(_,[t,1].concat(s.call(arguments,1)))},_.throttle=function(t,e){var n,r,i,o,a=0,s=function(){a=new Date,i=null,o=t.apply(n,r)};return function(){var u=new Date,c=e-(u-a);return n=this,r=arguments,0>=c?(clearTimeout(i),i=null,a=u,o=t.apply(n,r)):i||(i=setTimeout(s,c)),o}},_.debounce=function(t,e,n){var r,i;return function(){var o=this,a=arguments,s=function(){r=null,n||(i=t.apply(o,a))},u=n&&!r;return clearTimeout(r),r=setTimeout(s,e),u&&(i=t.apply(o,a)),i}},_.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},_.wrap=function(t,e){return function(){var n=[t];return a.apply(n,arguments),e.apply(this,n)}},_.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},_.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},_.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)_.has(t,n)&&(e[e.length]=n);return e},_.values=function(t){var e=[];for(var n in t)_.has(t,n)&&e.push(t[n]);return e},_.pairs=function(t){var e=[];for(var n in t)_.has(t,n)&&e.push([n,t[n]]);return e},_.invert=function(t){var e={};for(var n in t)_.has(t,n)&&(e[t[n]]=n);return e},_.functions=_.methods=function(t){var e=[];for(var n in t)_.isFunction(t[n])&&e.push(n);return e.sort()},_.extend=function(t){return S(s.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},_.pick=function(t){var e={},n=u.apply(r,s.call(arguments,1));return S(n,function(n){n in t&&(e[n]=t[n])}),e},_.omit=function(t){var e={},n=u.apply(r,s.call(arguments,1));for(var i in t)_.contains(n,i)||(e[i]=t[i]);return e},_.defaults=function(t){return S(s.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t};var N=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var i=c.call(t);if(i!=c.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;n.push(t),r.push(e);var a=0,s=!0;if("[object Array]"==i){if(a=t.length,s=a==e.length)for(;a--&&(s=N(t[a],e[a],n,r)););}else{var u=t.constructor,l=e.constructor;if(u!==l&&!(_.isFunction(u)&&u instanceof u&&_.isFunction(l)&&l instanceof l))return!1;for(var h in t)if(_.has(t,h)&&(a++,!(s=_.has(e,h)&&N(t[h],e[h],n,r))))break;if(s){for(h in e)if(_.has(e,h)&&!a--)break;s=!a}}return n.pop(),r.pop(),s};_.isEqual=function(t,e){return N(t,e,[],[])},_.isEmpty=function(t){if(null==t)return!0;if(_.isArray(t)||_.isString(t))return 0===t.length;for(var e in t)if(_.has(t,e))return!1;return!0},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=M||function(t){return"[object Array]"==c.call(t)},_.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){_["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}}),_.isArguments(arguments)||(_.isArguments=function(t){return!(!t||!_.has(t,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(t){return"function"==typeof t}),_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&t!=+t},_.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){return l.call(t,e)},_.noConflict=function(){return t._=e,this},_.identity=function(t){return t},_.times=function(t,e,n){for(var r=Array(t),i=0;t>i;i++)r[i]=e.call(n,i);return r},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var j={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};j.unescape=_.invert(j.escape);var q={escape:new RegExp("["+_.keys(j.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(j.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(t){_[t]=function(e){return null==e?"":(""+e).replace(q[t],function(e){return j[t][e]})}}),_.result=function(t,e){if(null==t)return null;var n=t[e];return _.isFunction(n)?n.call(t):n},_.mixin=function(t){S(_.functions(t),function(e){var n=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),L.call(this,n.apply(_,t))}})};var $=0;_.uniqueId=function(t){var e=++$+"";return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(t,e,n){var r;n=_.defaults({},n,_.templateSettings);var i=new RegExp([(n.escape||D).source,(n.interpolate||D).source,(n.evaluate||D).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,function(e,n,r,i,s){return a+=t.slice(o,s).replace(H,function(t){return"\\"+P[t]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=s+e.length,e}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(e)return r(e,_);var u=function(t){return r.call(this,t,_)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},_.chain=function(t){return _(t).chain()};var L=function(t){return this._chain?_(t).chain():t};_.mixin(_),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];_.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],L.call(this,n)}}),S(["concat","join","slice"],function(t){var e=r[t];_.prototype[t]=function(){return L.call(this,e.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var t,e=this,n=e.Backbone,r=[],i=r.push,o=r.slice,a=r.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="1.0.0";var s=e._;s||"undefined"==typeof require||(s=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=t.Events={on:function(t,e,n){if(!l(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!l(this,"once",t,[e,n])||!e)return this;var r=this,i=s.once(function(){r.off(t,i),e.apply(this,arguments)});return i._callback=e,this.on(t,i,n)},off:function(t,e,n){var r,i,o,a,u,c,h,f;if(!this._events||!l(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(a=t?[t]:s.keys(this._events),u=0,c=a.length;c>u;u++)if(t=a[u],o=this._events[t]){if(this._events[t]=r=[],e||n)for(h=0,f=o.length;f>h;h++)i=o[h],(e&&e!==i.callback&&e!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!l(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&h(n,e),r&&h(r,arguments),this},stopListening:function(t,e,n){var r=this._listeners;if(!r)return this;var i=!e&&!n;"object"==typeof e&&(n=this),t&&((r={})[t._listenerId]=t);for(var o in r)r[o].off(e,n,this),i&&delete this._listeners[o];return this}},c=/\s+/,l=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(c.test(n)){for(var o=n.split(c),a=0,s=o.length;s>a;a++)t[e].apply(t,[o[a]].concat(r));return!1}return!0},h=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e)}},f={listenTo:"on",listenToOnce:"once"};s.each(f,function(t,e){u[e]=function(e,n,r){var i=this._listeners||(this._listeners={}),o=e._listenerId||(e._listenerId=s.uniqueId("l"));return i[o]=e,"object"==typeof n&&(r=this),e[t](n,r,this),this}}),u.bind=u.on,u.unbind=u.off,s.extend(t,u);var p=t.Model=function(t,e){var n,r=t||{};e||(e={}),this.cid=s.uniqueId("c"),this.attributes={},s.extend(this,s.pick(e,d)),e.parse&&(r=this.parse(r,e)||{}),(n=s.result(this,"defaults"))&&(r=s.defaults({},r,n)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},d=["url","urlRoot","collection"];s.extend(p.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return s.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return s.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var r,i,o,a,u,c,l,h;if(null==t)return this;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;o=n.unset,u=n.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=s.clone(this.attributes),this.changed={}),h=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)e=i[r],s.isEqual(h[r],e)||a.push(r),s.isEqual(l[r],e)?delete this.changed[r]:this.changed[r]=e,o?delete h[r]:h[r]=e;if(!u){a.length&&(this._pending=!0);for(var f=0,p=a.length;p>f;f++)this.trigger("change:"+a[f],this,h[a[f]],n)}if(c)return this;if(!u)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,s.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,s.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!s.isEmpty(this.changed):s.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?s.clone(this.changed):!1;var e,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in t)s.isEqual(r[i],e=t[i])||((n||(n={}))[i]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(t){t=t?s.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(r){return e.set(e.parse(r,t),t)?(n&&n(e,r,t),e.trigger("sync",e,r,t),void 0):!1},L(this,t),this.sync("read",this,t)},save:function(t,e,n){var r,i,o,a=this.attributes;if(null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,!(!r||n&&n.wait||this.set(r,n)))return!1;if(n=s.extend({validate:!0},n),!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=s.extend({},a,r)),void 0===n.parse&&(n.parse=!0);var u=this,c=n.success;return n.success=function(t){u.attributes=a;var e=u.parse(t,n);return n.wait&&(e=s.extend(r||{},e)),s.isObject(e)&&!u.set(e,n)?!1:(c&&c(u,t,n),u.trigger("sync",u,t,n),void 0)},L(this,n),i=this.isNew()?"create":n.patch?"patch":"update","patch"===i&&(n.attrs=r),o=this.sync(i,this,n),r&&n.wait&&(this.attributes=a),o},destroy:function(t){t=t?s.clone(t):{};var e=this,n=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&r(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;L(this,t);var i=this.sync("delete",this,t);return t.wait||r(),i},url:function(){var t=s.result(this,"urlRoot")||s.result(this.collection,"url")||H();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},s.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=s.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,s.extend(e||{},{validationError:n})),!1):!0}});var g=["keys","values","pairs","invert","pick","omit"];s.each(g,function(t){p.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),s[t].apply(s,e)}});var m=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,s.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};s.extend(m.prototype,u,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,s.defaults(e||{},y))},remove:function(t,e){t=s.isArray(t)?t.slice():[t],e||(e={});var n,r,i,o;for(n=0,r=t.length;r>n;n++)o=this.get(t[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,e.silent||(e.index=i,o.trigger("remove",o,this,e)),this._removeReference(o));return this},set:function(t,e){e=s.defaults(e||{},v),e.parse&&(t=this.parse(t,e)),s.isArray(t)||(t=t?[t]:[]);var n,r,o,u,c,l=e.at,h=this.comparator&&null==l&&e.sort!==!1,f=s.isString(this.comparator)?this.comparator:null,p=[],d=[],g={};for(n=0,r=t.length;r>n;n++)(o=this._prepareModel(t[n],e))&&((u=this.get(o))?(e.remove&&(g[u.cid]=!0),e.merge&&(u.set(o.attributes,e),h&&!c&&u.hasChanged(f)&&(c=!0))):e.add&&(p.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)));if(e.remove){for(n=0,r=this.length;r>n;++n)g[(o=this.models[n]).cid]||d.push(o);d.length&&this.remove(d,e)}if(p.length&&(h&&(c=!0),this.length+=p.length,null!=l?a.apply(this.models,[l,0].concat(p)):i.apply(this.models,p)),c&&this.sort({silent:!0}),e.silent)return this;for(n=0,r=p.length;r>n;n++)(o=p[n]).trigger("add",o,this,e);return c&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),this.add(t,s.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,s.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,s.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return s.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),s.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(s.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,n){e||(e=this.comparator);var r=s.isFunction(e)?e:function(t){return t.get(e)};return s.sortedIndex(this.models,t,r,n)},pluck:function(t){return s.invoke(this.models,"get",t)},fetch:function(t){t=t?s.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(r){var i=t.reset?"reset":"set";n[i](r,t),e&&e(n,r,t),n.trigger("sync",n,r,t)},L(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?s.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,r=e.success;return e.success=function(i){e.wait&&n.add(t,e),r&&r(t,i,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];s.each(b,function(t){m.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),s[t].apply(s,e)}});var M=["groupBy","countBy","sortBy"];s.each(M,function(t){m.prototype[t]=function(e,n){var r=s.isFunction(e)?e:function(t){return t.get(e)};return s[t](this.models,r,n)}});var w=t.View=function(t){this.cid=s.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];s.extend(w.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=s.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(s.isFunction(n)||(n=this[t[e]]),n){var r=e.match(x),i=r[1],o=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,""===o?this.$el.on(i,n):this.$el.on(i,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=s.extend({},s.result(this,"options"),t)),s.extend(this,s.pick(t,_)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"),!1);else{var e=s.extend({},s.result(this,"attributes"));this.id&&(e.id=s.result(this,"id")),this.className&&(e["class"]=s.result(this,"className"));var n=t.$("<"+s.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,r){var i=S[e];s.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:i,dataType:"json"};if(r.url||(o.url=s.result(n,"url")||H()),null!=r.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){o.type="POST",r.emulateJSON&&(o.data._method=i);var a=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",i),a?a.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=r.xhr=t.ajax(s.extend(o,r));return n.trigger("request",n,u,r),u};var S={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,E=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(C.prototype,u,{initialize:function(){},route:function(e,n,r){s.isRegExp(e)||(e=this._routeToRegExp(e)),s.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var i=this;return t.history.route(e,function(o){var a=i._extractParameters(e,o);r&&r.apply(i,a),i.trigger.apply(i,["route:"+n].concat(a)),i.trigger("route",n,a),t.history.trigger("route",i,n,a)}),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var t,e=s.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(A,"\\$&").replace(T,"(?:$1)?").replace(k,function(t,e){return e?t:"([^/]+)"}).replace(E,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return s.map(n,function(t){return t?decodeURIComponent(t):null})}});var N=t.History=function(){this.handlers=[],s.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,q=/^\/+|\/+$/g,$=/msie [\w.]+/,D=/\/$/;N.started=!1,s.extend(N.prototype,u,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(D,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace(j,"")},start:function(e){if(N.started)throw new Error("Backbone.history has already been started");N.started=!0,this.options=s.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);
var n=this.getFragment(),r=document.documentMode,i=$.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);this.root=("/"+this.root+"/").replace(q,"/"),i&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location,a=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&o.hash&&(this.fragment=this.getHash().replace(j,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),N.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=s.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!N.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var n=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),t.history=new N;var P=function(t,e){var n,r=this;n=t&&s.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},s.extend(n,r,e);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,t&&s.extend(n.prototype,t),n.__super__=r.prototype,n};p.extend=m.extend=C.extend=w.extend=N.extend=P;var H=function(){throw new Error('A "url" property or function must be specified')},L=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}}}.call(this),function(){var t=[].slice;window.HAML=function(){function e(){}return e.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;")},e.cleanValue=function(t){switch(t){case null:case void 0:return"";case!0:case!1:return""+t;default:return t}},e.extend=function(){var e,n,r,i,o,a,s;for(n=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],a=0,s=i.length;s>a;a++){r=i[a];for(e in r)o=r[e],n[e]=o}return n},e.globals=function(){return{}},e.context=function(t){return this.extend({},e.globals(),t)},e.preserve=function(t){return t.replace(/\n/g,"&#x000A;")},e.findAndPreserve=function(t){var e;return e="textarea,pre".split(",").join("|"),t=t.replace(RegExp("<("+e+")>([^]*?)<\\/\\1>","g"),function(t,e,n){return"<"+e+">"+window.HAML.preserve(n)+"</"+e+">"})},e.surround=function(t,e,n){var r;return t+(null!=(r=n.call(this))?r.replace(/^\s+|\s+$/g,""):void 0)+e},e.succeed=function(t,e){var n;return(null!=(n=e.call(this))?n.replace(/\s+$/g,""):void 0)+t},e.precede=function(t,e){var n;return t+(null!=(n=e.call(this))?n.replace(/^\s+/g,""):void 0)},e.reference=function(t,e){var n,r,i,o;return r=e?e+"_":"",r+="function"==typeof t.hamlObjectRef?t.hamlObjectRef():((null!=(o=t.constructor)?o.name:void 0)||"object").replace(/\W+/g,"_").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase(),n="function"==typeof t.to_key?t.to_key():"function"==typeof t.id?t.id():t.id?t.id:t,i="class='"+r+"'",n?i+=" id='"+r+"_"+n+"'":void 0},e}()}.call(this),function(){window.Money={Models:{},Collections:{},Views:{},Routers:{},initialize:function(){return this.ctr_router=new Money.Routers.Countries,this.crr_router=new Money.Routers.Currencies,this.trp_router=new Money.Routers.Trips,Backbone.history.start({pushState:!0})}},$(document).ready(function(){return Money.initialize(),$(document).on("click","a",function(t){var e,n;return e=$(t.currentTarget).attr("href"),$(t.currentTarget).attr("data-dismiss")?void 0:(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||(t.preventDefault(),n=null!=e?e.replace("#!/",""):void 0,Backbone.history.navigate(n,{trigger:!0})),!1)})})}.call(this),function(){var t;null==(t=window.JST)&&(window.JST={}),window.JST["countries/country"]=function(t){return function(){var t,e,n,r;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],r=this.get("visited")?"important visited-countries":"inverse",n.push("<div class='"+["label","label-"+e(t(r))].sort().join(" ").replace(/^\s+|\s+$/g,"")+"'>"),n.push("  "+e(t(this.get("name")))),this.get("visited")&&n.push("  *"),n.push("</div>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){var t;null==(t=window.JST)&&(window.JST={}),window.JST["countries/index"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<h5>"),n.push("  "+e(t(this.currency_code))),n.push("  available in following countries:\n</h5>\n<p></p>"),_.find(this.models,function(t){return t.get("visited")})&&n.push("<div class='visited-countries'>\n  <hr>\n  <span class='pull-right'>\n    *You have already visited this country.\n    <a href='#' data-dismiss='visited-countries'>hide it</a>\n  </span>\n</div>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){var t;null==(t=window.JST)&&(window.JST={}),window.JST["countries/visited_sidebar"]=function(t){return function(){var t;return t=[],t.push("<h3>Countries</h3>\n<ul class='nav nav-list'>\n  <li class='nav-header'>\n    Visited\n  </li>\n</ul>"),t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){var t;null==(t=window.JST)&&(window.JST={}),window.JST["countries/visited_sidebar_item"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<li class='visited-country'>\n  <a href='/countries/"+e(t(this.get("code")))+"'>"+e(t(this.get("name")))+"</a>\n</li>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){var t;null==(t=window.JST)&&(window.JST={}),window.JST["currencies/index"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<table class='table table-bordered table-hover table-striped' id='currencies'>\n  <thead>\n    <tr>\n      <th cell-span='"+e(t(2))+"'></th>\n    </tr>\n  </thead>\n  <tbody></tbody>\n</table>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){var t;null==(t=window.JST)&&(window.JST={}),window.JST["currencies/placeholder"]=function(t){return function(){var t;return t=[],t.push("<h2>\n  <i class='icon-hand-left'></i>\n  Select currency\n</h2>"),t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){var t;null==(t=window.JST)&&(window.JST={}),window.JST["currencies/row"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<td>"+e(t(this.get("code")))+"</td>\n<td>"),n.push("  "+e(t(this.get("name")))),n.push("  <div class='badge badge-inverse nof_countries pull-right'>"+e(t(this.get("countries_count")))+"</div>\n  <div class='badge badge-important nof_visited_countries pull-right'>"+e(t(this.get("visited_countries_count")))+"</div>\n</td>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){var t;null==(t=window.JST)&&(window.JST={}),window.JST["trips/index"]=function(t){return function(){var t;return t=[],t.push("<row>\n  <h1>My trips</h1>\n  <table class='table table-bordered table-hover table-striped'>\n    <thead>\n      <th>Date</th>\n      <th>Description</th>\n      <th>Countries</th>\n    </thead>\n    <tbody></tbody>\n  </table>\n</row>\n<hr>\n<row>\n  <span3 class='offset1'>\n    <button class='btn btn-large btn-success' id='new-trip'>\n      <i class='icon-pencil'></i>\n      Add more\n    </button>\n  </span3>\n</row>"),t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){var t;null==(t=window.JST)&&(window.JST={}),window.JST["trips/new_trip"]=function(t){return function(){var t;return t=[],t.push("<tr class='new-trip'>\n  <form action='/api/trips' method='post'>\n    <td class='date'>\n      <input type='date' name='trip[date]'>\n    </td>\n    <td class='description'>\n      <input type='text' name='trip[description]'>\n    </td>\n    <td class='countries'>\n      <input type='hidden' value='192' name='trip[country_names]'>\n      <button class='btn btn-small btn-success' type='submit'>\n        <i class='icon-save'></i>\n        save\n      </button>\n    </td>\n  </form>\n</tr>"),t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){var t;null==(t=window.JST)&&(window.JST={}),window.JST["trips/trip"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<td>"+e(t(this.get("date")))+"</td>\n<td>"+e(t(this.get("description")))+"</td>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Models.Country=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.get=function(t){var e;return e=("function"==typeof this[t]?this[t]():void 0)||Backbone.Model.prototype.get.call(this,t)},r}(Backbone.Model)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Models.Currency=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.get=function(t){var e;return e=("function"==typeof this[t]?this[t]():void 0)||Backbone.Model.prototype.get.call(this,t)},r.prototype.countries_count=function(){return this.get("countries").length},r.prototype.visited_countries_count=function(){return _.filter(this.get("countries"),function(t){return t.visited}).length},r}(Backbone.Model)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Models.Trip=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r}(Backbone.Model)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Collections.Countries=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.model=Money.Models.Country,r}(Backbone.Collection)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Collections.Currencies=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.model=Money.Models.Currency,r.prototype.url="/api/currencies",r}(Backbone.Collection)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Collections.Trips=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.model=Money.Models.Trip,r.prototype.url="/api/trips",r}(Backbone.Collection)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Collections.VisitedCountries=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.url="/api/countries/visited",r}(Money.Collections.Countries)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Views.CountriesInCell=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.eachTemplate=JST["countries/country"],r.prototype.tagName="td",r.prototype.render=function(){return this.$el.html(this.collection.map(this.eachTemplate).join(" ")),this},r}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Views.CountriesIndex=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.eachTemplate=JST["countries/country"],r.prototype.template=JST["countries/index"],r.prototype.className="well countries",r.prototype.events={"click a":"removeVisited"},r.prototype.render=function(){return this.$el.html(this.template(this.collection)),this.$("p").html(this.collection.map(this.eachTemplate).join()),this},r.prototype.removeVisited=function(t){return t.preventDefault(),this.$(".visited-countries").remove()},r}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Views.VisitedCountriesIndex=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.template=JST["countries/visited_sidebar"],r.prototype.each_template=JST["countries/visited_sidebar_item"],r.prototype.className="well",r.prototype.id="sidebar-nav",r.prototype.render=function(){return this.$el.html(this.template).find("ul").append(this.collection.map(this.each_template).join("")),this},r}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Views.CurrenciesIndex=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.className="span4 offset1",r.prototype.id="main-content",r.prototype.template=JST["currencies/index"],r.prototype.render=function(){var t;return t=this.$el.html(this.template).find("tbody"),this.collection.each(function(e){var n;return n=new Money.Views.CurrencyRow({model:e}),t.append(n.render().el)}),this},r}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Views.CurrencyRow=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.className="currency",r.prototype.tagName="tr",r.prototype.template=JST["currencies/row"],r.prototype.events={click:"showCountries"},r.prototype.render=function(){return this.$el.html(this.template(this.model)),this},r.prototype.showCountries=function(){var t,e;return t=new Money.Collections.Countries(this.model.get("countries")),t.visitedIds=this.model.get("visited_countries_ids"),t.currency_code=this.model.get("code"),e=new Money.Views.CountriesIndex({collection:t}),$("#sidebar-nav").html(e.render().el)},r}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Views.Placeholder=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.className="affix",r.prototype.id="sidebar-nav",r.prototype.template=JST["currencies/placeholder"],r.prototype.render=function(){return this.$el.html(this.template),this},r}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Views.Trip=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.tagName="tr",r.prototype.className="trip",r.prototype.template=JST["trips/trip"],r.prototype.render=function(){return this.$el.html(this.template(this.model)),this},r}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Views.TripsIndex=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.id="main-content",r.prototype.template=JST["trips/index"],r.prototype.newTripTemplate=JST["trips/new_trip"],r.prototype.events={"click button#new-trip":"newTrip",submit:"ajaxSubmit"},r.prototype.initialize=function(){return this.collection.on("add",this.render,this)},r.prototype.render=function(){var t;return t=this.$el.html(this.template).find("tbody"),this.collection.each(function(e){var n,r,i;return i=new Money.Views.Trip({model:e}),e.get("countries").length>0?(n=new Money.Collections.Countries(e.get("countries")),r=new Money.Views.CountriesInCell({collection:n}),r=r.render().el):r="<td></td>",$(i.render().el).appendTo(t).append(r)}),this},r.prototype.newTrip=function(){var t=this;return this.$("tbody").append(this.newTripTemplate),$.ajax({type:"GET",url:"/api/countries",success:function(e){var n;return t.$("input[type=hidden]").select2({multiple:!0,data:function(){var t,r,i;for(i=[],t=0,r=e.length;r>t;t++)n=e[t],i.push({id:n.code,text:n.name});return i}(),placeholder:"Start typing country names here",width:"200px"})}})},r.prototype.ajaxSubmit=function(t){var e=this;return t.preventDefault(),$.ajax({type:"POST",url:t.target.action,data:this.$("form").serialize(),success:function(t){return e.collection.add(t),Backbone.history.navigate("/trips",{trigger:!0})}})},r}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Routers.Countries=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.routes={"":"visided_countries",countries:"visided_countries"},r.prototype.visided_countries=function(){var t,e=this;return t=new Money.Collections.VisitedCountries,t.fetch().success(function(){var n;return n=new Money.Views.VisitedCountriesIndex({collection:t}),$("#sidebar-nav").attr("class","").replaceWith(n.render().el),$("#main-content").attr("class","span9").html(""),e.globe(t.pluck("name"))})},r.prototype.globe=function(t){var e,n,r,i,o,a;return a=1e3,n=780,i=d3.geo.larrivee().scale(150).translate([a/2,n/2]).precision(.1),r=d3.geo.path().projection(i),e=d3.geo.graticule(),o=d3.select("#main-content").append("svg").attr("width",a).attr("height",n),o.append("defs").append("path").datum({type:"Sphere"}).attr("id","sphere").attr("d",r),o.append("use").attr("class","stroke").attr("xlink:href","#sphere"),o.append("use").attr("class","fill").attr("xlink:href","#sphere"),o.append("path").datum(e).attr("class","graticule").attr("d",r),queue().defer(d3.json,"world-110m.json").defer(d3.tsv,"world-country-names.tsv").await(function(e,n,i){var a,s;return o.insert("path",".graticule").datum(topojson.feature(n,n.objects.land)).attr("class","land").attr("d",r),o.insert("path",".graticule").datum(topojson.mesh(n,n.objects.countries,function(t,e){return t!==e})).attr("class","boundary").attr("d",r),s=function(){var e,n,r;for(r=[],e=0,n=i.length;n>e;e++)a=i[e],_.contains(t,a.name)&&r.push(a.id);return r}(),n.objects.countries.geometries=n.objects.countries.geometries.filter(function(t){return _.contains(s,t.id.toString())}),o.insert("path",".graticule").datum(topojson.feature(n,n.objects.countries)).attr("class","cntr").attr("d",r)})},r}(Backbone.Router)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Routers.Currencies=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.routes={currencies:"index"},r.prototype.index=function(){var t;return t=new Money.Collections.Currencies,t.fetch().success(function(){var e,n,r,i;return i=new Money.Views.CurrenciesIndex({collection:t}),$("#main-content").replaceWith(i.render().el),r=_.foldl(t.map(function(t){return t.get("visited_countries_count")||0}),function(t,e){return t+e}),e=_.foldl(t.map(function(t){return t.get("countries_count")||0}),function(t,e){return t+e}),$("#main-content th").html("Visited: "+r+"/"+e),n=new Money.Views.Placeholder,$("#sidebar-nav").replaceWith(n.render().el)})},r}(Backbone.Router)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Money.Routers.Trips=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.routes={trips:"index"},r.prototype.index=function(){var t;return t=new Money.Collections.Trips,t.fetch().success(function(){var e;return e=new Money.Views.TripsIndex({collection:t}),$("#main-content").replaceWith(e.render().el),$("#sidebar-nav").replaceWith("")})},r}(Backbone.Router)}.call(this),function(){jQuery(function(){return $("a[rel=popover]").popover(),$(".tooltip").tooltip(),$("a[rel=tooltip]").tooltip()})}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);